(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fcbd4a12"],{"044b":function(t,e){function r(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&r(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||n(t)||!!t._isBuffer)}},"0a06":function(t,e,r){"use strict";var n=r("2444"),i=r("c532"),o=r("f6b4"),s=r("5270");function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"===typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),t=i.merge(n,{method:"get"},this.defaults,t),t.method=t.method.toLowerCase();var e=[s,void 0],r=Promise.resolve(t);this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});while(e.length)r=r.then(e.shift(),e.shift());return r},i.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=a},"0df6":function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"0f01":function(t,e,r){"use strict";var n=r("e9ac"),i=n("%Object%"),o=n("%TypeError%"),s=n("%String%"),a=r("2057"),c=r("c612"),u=r("5975"),l=r("bb53"),h=r("21d0"),p=r("2f17"),d=r("a0d34"),f={ToPrimitive:p,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var e=this.ToNumber(t);return a(e)?0:0!==e&&c(e)?u(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(a(e)||0===e||!c(e))return 0;var r=u(e)*Math.floor(Math.abs(e));return l(r,65536)},ToString:function(t){return s(t)},ToObject:function(t){return this.CheckObjectCoercible(t),i(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new o(e||"Cannot call method on "+t);return t},IsCallable:h,SameValue:function(t,e){return t===e?0!==t||1/t===1/e:a(t)&&a(e)},Type:function(t){return null===t?"Null":"undefined"===typeof t?"Undefined":"function"===typeof t||"object"===typeof t?"Object":"number"===typeof t?"Number":"boolean"===typeof t?"Boolean":"string"===typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(d(t,r)&&!e[r])return!1;var n=d(t,"[[Value]]"),i=d(t,"[[Get]]")||d(t,"[[Set]]");if(n&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){if("undefined"===typeof t)return!1;if(!this.IsPropertyDescriptor(t))throw new o("Desc must be a Property Descriptor");return!(!d(t,"[[Get]]")&&!d(t,"[[Set]]"))},IsDataDescriptor:function(t){if("undefined"===typeof t)return!1;if(!this.IsPropertyDescriptor(t))throw new o("Desc must be a Property Descriptor");return!(!d(t,"[[Value]]")&&!d(t,"[[Writable]]"))},IsGenericDescriptor:function(t){if("undefined"===typeof t)return!1;if(!this.IsPropertyDescriptor(t))throw new o("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t)},FromPropertyDescriptor:function(t){if("undefined"===typeof t)return t;if(!this.IsPropertyDescriptor(t))throw new o("Desc must be a Property Descriptor");if(this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new o("ToPropertyDescriptor requires an object");var e={};if(d(t,"enumerable")&&(e["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),d(t,"configurable")&&(e["[[Configurable]]"]=this.ToBoolean(t.configurable)),d(t,"value")&&(e["[[Value]]"]=t.value),d(t,"writable")&&(e["[[Writable]]"]=this.ToBoolean(t.writable)),d(t,"get")){var r=t.get;if("undefined"!==typeof r&&!this.IsCallable(r))throw new TypeError("getter must be a function");e["[[Get]]"]=r}if(d(t,"set")){var n=t.set;if("undefined"!==typeof n&&!this.IsCallable(n))throw new o("setter must be a function");e["[[Set]]"]=n}if((d(e,"[[Get]]")||d(e,"[[Set]]"))&&(d(e,"[[Value]]")||d(e,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return e}};t.exports=f},"0f7c":function(t,e,r){"use strict";var n=r("688e");t.exports=Function.prototype.bind||n},1:function(t,e){},1128:function(t,e,r){},1934:function(t,e,r){(function(n){function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),r){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,n)}}function s(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(r){}}function c(){var t;try{t=e.storage.debug}catch(r){}return!t&&"undefined"!==typeof n&&"env"in n&&(t=Object({NODE_ENV:"production",VUE_APP_PASSPORT_TUJIA_HOST:"https://passport.tujia.com",VUE_APP_M_TUJIA_HOST:"",VUE_APP_TUJIA_DOMAIN:"tujia.com",VUE_APP_UPLOAD_TUJIA_HOST:"https://upload.tujia.com",VUE_APP_PIC_TUJIA_HOST:"https://pic.tujia.com",VUE_APP_MINI_SAMLLAPP_APPID:"gh_8e5bfcfff118",VUE_APP_MINI_PROGRAM_TYPE:"0",VUE_APP_TUJIA_HOST:"https://m.tujia.com",VUE_APP_PC_TUJIA_HOST:"https://www.tujia.com",VUE_APP_PC_TUJIA_TRAVEL:"https://travel.tujia.com/",VUE_APP_LOCAL:"T",BASE_URL:"https://pwastatic.tujia.com/modules/"}).DEBUG),t}function u(){try{return window.localStorage}catch(t){}}e=t.exports=r("6d1a"),e.log=s,e.formatArgs=o,e.save=a,e.load=c,e.useColors=i,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(c())}).call(this,r("4362"))},"1b7f":function(t,e,r){"use strict";var n=r("562e"),i="​";t.exports=function(){return String.prototype.trim&&i.trim()===i?String.prototype.trim:n}},"1b8d":function(t,e){function r(t){return t.replace(/\n\r?\s*/g,"")}t.exports=function(t){for(var e="",n=0;n<arguments.length;n++)e+=r(t[n])+(arguments[n+1]||"");return e}},"1d2b":function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},2057:function(t,e){t.exports=Number.isNaN||function(t){return t!==t}},"21d0":function(t,e,r){"use strict";var n=Function.prototype.toString,i=/^\s*class\b/,o=function(t){try{var e=n.call(t);return i.test(e)}catch(r){return!1}},s=function(t){try{return!o(t)&&(n.call(t),!0)}catch(e){return!1}},a=Object.prototype.toString,c="[object Function]",u="[object GeneratorFunction]",l="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!==typeof t&&"object"!==typeof t)return!1;if("function"===typeof t&&!t.prototype)return!0;if(l)return s(t);if(o(t))return!1;var e=a.call(t);return e===c||e===u}},2444:function(t,e,r){"use strict";(function(e){var n=r("c532"),i=r("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function a(){var t;return"undefined"!==typeof XMLHttpRequest?t=r("b50d"):"undefined"!==typeof e&&(t=r("b50d")),t}var c={adapter:a(),transformRequest:[function(t,e){return i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){c.headers[t]={}}),n.forEach(["post","put","patch"],function(t){c.headers[t]=n.merge(o)}),t.exports=c}).call(this,r("4362"))},"2b8c":function(t,e,r){var n=r("be09"),i=t.exports={WebVTT:r("d02c"),VTTCue:r("b03c"),VTTRegion:r("f97d")};n.vttjs=i,n.WebVTT=i.WebVTT;var o=i.VTTCue,s=i.VTTRegion,a=n.VTTCue,c=n.VTTRegion;i.shim=function(){n.VTTCue=o,n.VTTRegion=s},i.restore=function(){n.VTTCue=a,n.VTTRegion=c},n.VTTCue||i.shim()},"2d83":function(t,e,r){"use strict";var n=r("387f");t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},"2e67":function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2f17":function(t,e,r){"use strict";var n=Object.prototype.toString,i=r("4de8"),o=r("21d0"),s={"[[DefaultValue]]":function(t){var e;if(e=arguments.length>1?arguments[1]:"[object Date]"===n.call(t)?String:Number,e===String||e===Number){var r,s,a=e===String?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<a.length;++s)if(o(t[a[s]])&&(r=t[a[s]](),i(r)))return r;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};t.exports=function(t){return i(t)?t:arguments.length>1?s["[[DefaultValue]]"](t,arguments[1]):s["[[DefaultValue]]"](t)}},"30b5":function(t,e,r){"use strict";var n=r("c532");function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,function(t,e){null!==t&&"undefined"!==typeof t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},3816:function(t,e,r){},"387f":function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},3934:function(t,e,r){"use strict";var n=r("c532");t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return function(){return!0}}()},"3adf":function(t,e,r){},"3d33":function(t,e,r){
/**
 * @license
 * Video.js 6.13.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
function n(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var i=n(r("be09")),o=n(r("ef34")),s=n(r("1b8d")),a=n(r("8c10")),c=n(r("eec7")),u=n(r("2b8c")),l="6.13.0",h=i.navigator&&i.navigator.userAgent||"",p=/AppleWebKit\/([\d.]+)/i.exec(h),d=p?parseFloat(p.pop()):null,f=/iPad/i.test(h),m=/iPhone/i.test(h)&&!f,v=/iPod/i.test(h),y=m||f||v,g=function(){var t=h.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),b=/Android/i.test(h),w=function(){var t=h.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),r=t[2]&&parseFloat(t[2]);return e&&r?parseFloat(t[1]+"."+t[2]):e||null}(),_=b&&/webkit/i.test(h)&&w<2.3,T=b&&w<5&&d<537,S=/Firefox/i.test(h),C=/Edge/i.test(h),k=!C&&(/Chrome/i.test(h)||/CriOS/i.test(h)),E=function(){var t=h.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),P=/MSIE\s8\.0/.test(h),x=function(){var t=/MSIE\s(\d+)\.\d/.exec(h),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(h)&&/rv:11.0/.test(h)&&(e=11),e}(),O=/Safari/i.test(h)&&!k&&!b&&!C,j=(O||y)&&!k,A=rt()&&("ontouchstart"in i||i.navigator.maxTouchPoints||i.DocumentTouch&&i.document instanceof i.DocumentTouch),I=rt()&&"backgroundSize"in i.document.createElement("video").style,D=(Object.freeze||Object)({IS_IPAD:f,IS_IPHONE:m,IS_IPOD:v,IS_IOS:y,IOS_VERSION:g,IS_ANDROID:b,ANDROID_VERSION:w,IS_OLD_ANDROID:_,IS_NATIVE_ANDROID:T,IS_FIREFOX:S,IS_EDGE:C,IS_CHROME:k,CHROME_VERSION:E,IS_IE8:P,IE_VERSION:x,IS_SAFARI:O,IS_ANY_SAFARI:j,TOUCH_ENABLED:A,BACKGROUND_SIZE_SUPPORTED:I}),N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},R=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},B=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},M=function(t,e){return t.raw=e,t},H=Object.prototype.toString,U=function(t){return $(t)?Object.keys(t):[]};function F(t,e){U(t).forEach(function(r){return e(t[r],r)})}function V(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return U(t).reduce(function(r,n){return e(r,t[n],n)},r)}function z(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[t].concat(r)):(r.forEach(function(e){e&&F(e,function(e,r){t[r]=e})}),t)}function $(t){return!!t&&"object"===("undefined"===typeof t?"undefined":N(t))}function W(t){return $(t)&&"[object Object]"===H.call(t)&&t.constructor===Object}var q=[],K=function(t,e){return function(r,n,o,s){var a=e.levels[n],c=new RegExp("^("+a+")$");if("log"!==r&&o.unshift(r.toUpperCase()+":"),o.unshift(t+":"),q&&q.push([].concat(o)),i.console){var u=i.console[r];u||"debug"!==r||(u=i.console.info||i.console.log),u&&a&&c.test(r)&&(s&&(o=o.map(function(t){if($(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),u.apply?u[Array.isArray(o)?"apply":"call"](i.console,o):u(o))}}};function X(t){var e="info",r=void 0,n=function t(){for(var n=t.stringify||x&&x<11,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];r("log",e,o,n)};return r=K(t,n),n.createLogger=function(e){return X(t+": "+e)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(t){if("string"===typeof t){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},n.history=function(){return q?[].concat(q):[]},n.history.filter=function(t){return(q||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},n.history.clear=function(){q&&(q.length=0)},n.history.disable=function(){null!==q&&(q.length=0,q=null)},n.history.enable=function(){null===q&&(q=[])},n.error=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return r("error",e,n)},n.warn=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return r("warn",e,n)},n.debug=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return r("debug",e,n)},n}var J=X("VIDEOJS"),Y=J.createLogger;function G(t,e){if(!t||!e)return"";if("function"===typeof i.getComputedStyle){var r=i.getComputedStyle(t);return r?r[e]:""}return t.currentStyle[e]||""}var Q=M(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function Z(t){return"string"===typeof t&&/\S/.test(t)}function tt(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function et(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function rt(){return o===i.document&&"undefined"!==typeof o.createElement}function nt(t){return $(t)&&1===t.nodeType}function it(){try{return i.parent!==i.self}catch(t){return!0}}function ot(t){return function(e,r){if(!Z(e))return o[t](null);Z(r)&&(r=o.querySelector(r));var n=nt(r)?r:o;return n[t]&&n[t](e)}}function st(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i=o.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var r=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(J.warn(s(Q,t,r)),i.setAttribute(t,r)):"textContent"===t?at(i,r):i[t]=r}),Object.getOwnPropertyNames(r).forEach(function(t){i.setAttribute(t,r[t])}),n&&Et(i,n),i}function at(t,e){return"undefined"===typeof t.textContent?t.innerText=e:t.textContent=e,t}function ct(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ut(t,e){return tt(e),t.classList?t.classList.contains(e):et(e).test(t.className)}function lt(t,e){return t.classList?t.classList.add(e):ut(t,e)||(t.className=(t.className+" "+e).trim()),t}function ht(t,e){return t.classList?t.classList.remove(e):(tt(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function pt(t,e,r){var n=ut(t,e);if("function"===typeof r&&(r=r(t,e)),"boolean"!==typeof r&&(r=!n),r!==n)return r?lt(t,e):ht(t,e),t}function dt(t,e){Object.getOwnPropertyNames(e).forEach(function(r){var n=e[r];null===n||"undefined"===typeof n||!1===n?t.removeAttribute(r):t.setAttribute(r,!0===n?"":n)})}function ft(t){var e={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,i=n.length-1;i>=0;i--){var o=n[i].name,s=n[i].value;"boolean"!==typeof t[o]&&-1===r.indexOf(","+o+",")||(s=null!==s),e[o]=s}return e}function mt(t,e){return t.getAttribute(e)}function vt(t,e,r){t.setAttribute(e,r)}function yt(t,e){t.removeAttribute(e)}function gt(){o.body.focus(),o.onselectstart=function(){return!1}}function bt(){o.onselectstart=function(){return!0}}function wt(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(r[t]=e[t])}),r.height||(r.height=parseFloat(G(t,"height"))),r.width||(r.width=parseFloat(G(t,"width"))),r}}function _t(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var r=o.documentElement,n=o.body,s=r.clientLeft||n.clientLeft||0,a=i.pageXOffset||n.scrollLeft,c=e.left+a-s,u=r.clientTop||n.clientTop||0,l=i.pageYOffset||n.scrollTop,h=e.top+l-u;return{left:Math.round(c),top:Math.round(h)}}function Tt(t,e){var r={},n=_t(t),i=t.offsetWidth,o=t.offsetHeight,s=n.top,a=n.left,c=e.pageY,u=e.pageX;return e.changedTouches&&(u=e.changedTouches[0].pageX,c=e.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(s-c+o)/o)),r.x=Math.max(0,Math.min(1,(u-a)/i)),r}function St(t){return $(t)&&3===t.nodeType}function Ct(t){while(t.firstChild)t.removeChild(t.firstChild);return t}function kt(t){return"function"===typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"===typeof t&&(t=t()),nt(t)||St(t)?t:"string"===typeof t&&/\S/.test(t)?o.createTextNode(t):void 0}).filter(function(t){return t})}function Et(t,e){return kt(e).forEach(function(e){return t.appendChild(e)}),t}function Pt(t,e){return Et(Ct(t),e)}function xt(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||(9===x||0===t.button&&1===t.buttons))}var Ot=ot("querySelector"),jt=ot("querySelectorAll"),At=(Object.freeze||Object)({isReal:rt,isEl:nt,isInFrame:it,createEl:st,textContent:at,prependTo:ct,hasClass:ut,addClass:lt,removeClass:ht,toggleClass:pt,setAttributes:dt,getAttributes:ft,getAttribute:mt,setAttribute:vt,removeAttribute:yt,blockTextSelection:gt,unblockTextSelection:bt,getBoundingClientRect:wt,findPosition:_t,getPointerPosition:Tt,isTextNode:St,emptyEl:Ct,normalizeContent:kt,appendContent:Et,insertContent:Pt,isSingleLeftClick:xt,$:Ot,$$:jt}),It=1;function Dt(){return It++}var Nt={},Lt="vdata"+(new Date).getTime();function Rt(t){var e=t[Lt];return e||(e=t[Lt]=Dt()),Nt[e]||(Nt[e]={}),Nt[e]}function Bt(t){var e=t[Lt];return!!e&&!!Object.getOwnPropertyNames(Nt[e]).length}function Mt(t){var e=t[Lt];if(e){delete Nt[e];try{delete t[Lt]}catch(r){t.removeAttribute?t.removeAttribute(Lt):t[Lt]=null}}}function Ht(t,e){var r=Rt(t);0===r.handlers[e].length&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&Mt(t)}function Ut(t,e,r,n){r.forEach(function(r){t(e,r,n)})}function Ft(t){function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped){var n=t||i.event;for(var s in t={},n)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&("returnValue"===s&&n.preventDefault||(t[s]=n[s]));if(t.target||(t.target=t.srcElement||o),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,null!==t.clientX&&void 0!==t.clientX){var a=o.documentElement,c=o.body;t.pageX=t.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Vt=!1;(function(){try{var t=Object.defineProperty({},"passive",{get:function(){Vt=!0}});i.addEventListener("test",null,t),i.removeEventListener("test",null,t)}catch(e){}})();var zt=["touchstart","touchmove"];function $t(t,e,r){if(Array.isArray(e))return Ut($t,t,e,r);var n=Rt(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),r.guid||(r.guid=Dt()),n.handlers[e].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,r){if(!n.disabled){e=Ft(e);var i=n.handlers[e.type];if(i)for(var o=i.slice(0),s=0,a=o.length;s<a;s++){if(e.isImmediatePropagationStopped())break;try{o[s].call(t,e,r)}catch(c){J.error(c)}}}}),1===n.handlers[e].length)if(t.addEventListener){var i=!1;Vt&&zt.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,n.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Wt(t,e,r){if(Bt(t)){var n=Rt(t);if(n.handlers){if(Array.isArray(e))return Ut(Wt,t,e,r);var i=function(t,e){n.handlers[e]=[],Ht(t,e)};if(void 0!==e){var o=n.handlers[e];if(o)if(r){if(r.guid)for(var s=0;s<o.length;s++)o[s].guid===r.guid&&o.splice(s--,1);Ht(t,e)}else i(t,e)}else for(var a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&i(t,a)}}}function qt(t,e,r){var n=Bt(t)?Rt(t):{},i=t.parentNode||t.ownerDocument;if("string"===typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Ft(e),n.dispatcher&&n.dispatcher.call(t,e,r),i&&!e.isPropagationStopped()&&!0===e.bubbles)qt.call(null,i,e,r);else if(!i&&!e.defaultPrevented){var o=Rt(e.target);e.target[e.type]&&(o.disabled=!0,"function"===typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function Kt(t,e,r){if(Array.isArray(e))return Ut(Kt,t,e,r);var n=function n(){Wt(t,e,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||Dt(),$t(t,e,n)}var Xt=(Object.freeze||Object)({fixEvent:Ft,on:$t,off:Wt,trigger:qt,one:Kt}),Jt=!1,Yt=void 0,Gt=function(){if(rt()&&!1!==Yt.options.autoSetup){var t=o.getElementsByTagName("video"),e=o.getElementsByTagName("audio"),r=o.getElementsByTagName("video-js"),n=[];if(t&&t.length>0)for(var i=0,s=t.length;i<s;i++)n.push(t[i]);if(e&&e.length>0)for(var a=0,c=e.length;a<c;a++)n.push(e[a]);if(r&&r.length>0)for(var u=0,l=r.length;u<l;u++)n.push(r[u]);if(n&&n.length>0)for(var h=0,p=n.length;h<p;h++){var d=n[h];if(!d||!d.getAttribute){Qt(1);break}if(void 0===d.player){var f=d.getAttribute("data-setup");null!==f&&Yt(d)}}else Jt||Qt(1)}};function Qt(t,e){e&&(Yt=e),i.setTimeout(Gt,t)}rt()&&"complete"===o.readyState?Jt=!0:Kt(i,"load",function(){Jt=!0});var Zt=function(t){var e=o.createElement("style");return e.className=t,e},te=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},ee=function(t,e,r){e.guid||(e.guid=Dt());var n=function(){return e.apply(t,arguments)};return n.guid=r?r+"_"+e.guid:e.guid,n},re=function(t,e){var r=Date.now(),n=function(){var n=Date.now();n-r>=e&&(t.apply(void 0,arguments),r=n)};return n},ne=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i,o=void 0,s=function(){n.clearTimeout(o),o=null},a=function(){var i=this,s=arguments,a=function(){o=null,a=null,r||t.apply(i,s)};!o&&r&&t.apply(i,s),n.clearTimeout(o),o=n.setTimeout(a,e)};return a.cancel=s,a},ie=function(){};ie.prototype.allowedEvents_={},ie.prototype.on=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},$t(this,t,e),this.addEventListener=r},ie.prototype.addEventListener=ie.prototype.on,ie.prototype.off=function(t,e){Wt(this,t,e)},ie.prototype.removeEventListener=ie.prototype.off,ie.prototype.one=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},Kt(this,t,e),this.addEventListener=r},ie.prototype.trigger=function(t){var e=t.type||t;"string"===typeof t&&(t={type:e}),t=Ft(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),qt(this,t)},ie.prototype.dispatchEvent=ie.prototype.trigger;var oe=function(t){return t instanceof ie||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"===typeof t[e]})},se=function(t){return"string"===typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},ae=function(t){if(!t.nodeName&&!oe(t))throw new Error("Invalid target; must be a DOM node or evented object.")},ce=function(t){if(!se(t))throw new Error("Invalid event type; must be a non-empty string or array.")},ue=function(t){if("function"!==typeof t)throw new Error("Invalid listener; must be a function.")},le=function(t,e){var r=e.length<3||e[0]===t||e[0]===t.eventBusEl_,n=void 0,i=void 0,o=void 0;return r?(n=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],o=e[1]):(n=e[0],i=e[1],o=e[2]),ae(n),ce(i),ue(o),o=ee(t,o),{isTargetingSelf:r,target:n,type:i,listener:o}},he=function(t,e,r,n){ae(t),t.nodeName?Xt[e](t,r,n):t[e](r,n)},pe={on:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=le(this,r),o=i.isTargetingSelf,s=i.target,a=i.type,c=i.listener;if(he(s,"on",a,c),!o){var u=function(){return t.off(s,a,c)};u.guid=c.guid;var l=function(){return t.off("dispose",u)};l.guid=c.guid,he(this,"on","dispose",u),he(s,"on","dispose",l)}},one:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=le(this,r),o=i.isTargetingSelf,s=i.target,a=i.type,c=i.listener;if(o)he(s,"one",a,c);else{var u=function e(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];t.off(s,a,e),c.apply(null,n)};u.guid=c.guid,he(s,"one",a,u)}},off:function(t,e,r){if(!t||se(t))Wt(this.eventBusEl_,t,e);else{var n=t,i=e;ae(n),ce(i),ue(r),r=ee(this,r),this.off("dispose",r),n.nodeName?(Wt(n,i,r),Wt(n,"dispose",r)):oe(n)&&(n.off(i,r),n.off("dispose",r))}},trigger:function(t,e){return qt(this.eventBusEl_,t,e)}};function de(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.eventBusKey;if(r){if(!t[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');t.eventBusEl_=t[r]}else t.eventBusEl_=st("span",{className:"vjs-event-bus"});return z(t,pe),t.on("dispose",function(){t.off(),i.setTimeout(function(){t.eventBusEl_=null},0)}),t}var fe={state:{},setState:function(t){var e=this;"function"===typeof t&&(t=t());var r=void 0;return F(t,function(t,n){e.state[n]!==t&&(r=r||{},r[n]={from:e.state[n],to:t}),e.state[n]=t}),r&&oe(this)&&this.trigger({changes:r,type:"statechanged"}),r}};function me(t,e){return z(t,fe),t.state=z({},t.state,e),"function"===typeof t.handleStateChanged&&oe(t)&&t.on("statechanged",t.handleStateChanged),t}function ve(t){return"string"!==typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function ye(t,e){return ve(t)===ve(e)}function ge(){for(var t={},e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.forEach(function(e){e&&F(e,function(e,r){W(e)?(W(t[r])||(t[r]={}),t[r]=ge(t[r],e)):t[r]=e})}),t}var be=function(){function t(e,r,n){if(L(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=ge({},this.options_),r=this.options_=ge(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+Dt()}this.name_=r.name||null,r.el?this.el_=r.el:!1!==r.createEl&&(this.el_=this.createEl()),!1!==r.evented&&de(this,{eventBusKey:this.el_?"el_":null}),me(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==r.initChildren&&this.initChildren(),this.ready(n),!1!==r.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Mt(this.el_),this.el_=null),this.player_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return J.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=ge(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,r){return st(t,e,r)},t.prototype.localize=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[n],s=n&&n.split("-")[0],a=i&&i[s],c=r;return o&&o[t]?c=o[t]:a&&a[t]&&(c=a[t]),e&&(c=c.replace(/\{(\d+)\}/g,function(t,r){var n=e[r-1],i=n;return"undefined"===typeof n&&(i=t),i})),c},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=ve(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"===typeof e){o=ve(e);var s=r.componentClass||o;r.name=o;var a=t.getComponent(s);if(!a)throw new Error("Component "+s+" does not exist");if("function"!==typeof a)return null;i=new a(this.player_||this,r)}else i=e;if(this.children_.splice(n,0,i),"function"===typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&ve(i.name()),o&&(this.childNameIndex_[o]=i),"function"===typeof i.el&&i.el()){var c=this.contentEl().children,u=c[n]||null;this.contentEl().insertBefore(i.el(),u)}return i},t.prototype.removeChild=function(t){if("string"===typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===t){e=!0,this.children_.splice(r,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,r=this.options_.children;if(r){var n=this.options_,i=function(t){var r=t.name,i=t.opts;if(void 0!==n[r]&&(i=n[r]),!1!==i){!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var o=e.addChild(r,i);o&&(e[r]=o)}},o=void 0,s=t.getComponent("Tech");o=Array.isArray(r)?r:Object.keys(r),o.concat(Object.keys(this.options_).filter(function(t){return!o.some(function(e){return"string"===typeof e?t===e:t===e.name})})).map(function(t){var n=void 0,i=void 0;return"string"===typeof t?(n=t,i=r[n]||e.options_[n]||{}):(n=t.name,i=t),{name:n,opts:i}}).filter(function(e){var r=t.getComponent(e.opts.componentClass||ve(e.name));return r&&!s.isTech(r)}).forEach(i)}},t.prototype.buildCSSClass=function(){return""},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,e){return Ot(t,e||this.contentEl())},t.prototype.$$=function(t,e){return jt(t,e||this.contentEl())},t.prototype.hasClass=function(t){return ut(this.el_,t)},t.prototype.addClass=function(t){lt(this.el_,t)},t.prototype.removeClass=function(t){ht(this.el_,t)},t.prototype.toggleClass=function(t,e){pt(this.el_,t,e)},t.prototype.show=function(){this.removeClass("vjs-hidden")},t.prototype.hide=function(){this.addClass("vjs-hidden")},t.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},t.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.prototype.getAttribute=function(t){return mt(this.el_,t)},t.prototype.setAttribute=function(t,e){vt(this.el_,t,e)},t.prototype.removeAttribute=function(t){yt(this.el_,t)},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},t.prototype.dimension=function(t,e,r){if(void 0!==e)return null!==e&&e===e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[t],i=n.indexOf("px");return-1!==i?parseInt(n.slice(0,i),10):parseInt(this.el_["offset"+ve(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"===typeof i.getComputedStyle){var r=i.getComputedStyle(this.el_);e=r.getPropertyValue(t)||r[t]}if(e=parseFloat(e),0===e){var n="offset"+ve(t);e=this.el_[n]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,r=10,n=200,i=void 0;this.on("touchstart",function(r){1===r.touches.length&&(e={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)i=!1;else if(e){var n=t.touches[0].pageX-e.pageX,o=t.touches[0].pageY-e.pageY,s=Math.sqrt(n*n+o*o);s>r&&(i=!1)}});var o=function(){i=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(r){if(e=null,!0===i){var o=(new Date).getTime()-t;o<n&&(r.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=ee(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var r=function(r){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",r),this.on("touchcancel",r)}},t.prototype.setTimeout=function(t,e){var r,n,o=this;return t=ee(this,t),r=i.setTimeout(function(){o.off("dispose",n),t()},e),n=function(){return o.clearTimeout(r)},n.guid="vjs-timeout-"+r,this.on("dispose",n),r},t.prototype.clearTimeout=function(t){i.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){var r=this;t=ee(this,t);var n=i.setInterval(t,e),o=function(){return r.clearInterval(n)};return o.guid="vjs-interval-"+n,this.on("dispose",o),n},t.prototype.clearInterval=function(t){i.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.prototype.requestAnimationFrame=function(t){var e,r,n=this;return this.supportsRaf_?(t=ee(this,t),e=i.requestAnimationFrame(function(){n.off("dispose",r),t()}),r=function(){return n.cancelAnimationFrame(e)},r.guid="vjs-raf-"+e,this.on("dispose",r),e):this.setTimeout(t,1e3/60)},t.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){i.cancelAnimationFrame(t);var e=function(){};return e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,r){if("string"!==typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=t.getComponent("Tech"),i=n&&n.isTech(r),o=t===r||t.prototype.isPrototypeOf(r.prototype);if(i||!o){var s=void 0;throw s=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+s+".")}e=ve(e),t.components_||(t.components_={});var a=t.getComponent("Player");if("Player"===e&&a&&a.players){var c=a.players,u=Object.keys(c);if(c&&u.length>0&&u.map(function(t){return c[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=r,r},t.getComponent=function(e){if(e)return e=ve(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();function we(t,e,r){if("number"!==typeof e||e<0||e>r)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+r+").")}function _e(t,e,r,n){return we(t,n,r.length-1),r[n][e]}function Te(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:_e.bind(null,"start",0,t),end:_e.bind(null,"end",1,t)}}function Se(t,e){return Array.isArray(t)?Te(t):void 0===t||void 0===e?Te():Te([[t,e]])}function Ce(t,e){var r=0,n=void 0,i=void 0;if(!e)return 0;t&&t.length||(t=Se(0,0));for(var o=0;o<t.length;o++)n=t.start(o),i=t.end(o),i>e&&(i=e),r+=i-n;return r/e}be.prototype.supportsRaf_="function"===typeof i.requestAnimationFrame&&"function"===typeof i.cancelAnimationFrame,be.registerComponent("Component",be);for(var ke={},Ee=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Pe=Ee[0],xe=void 0,Oe=0;Oe<Ee.length;Oe++)if(Ee[Oe][1]in o){xe=Ee[Oe];break}if(xe)for(var je=0;je<xe.length;je++)ke[Pe[je]]=xe[je];function Ae(t){if(t instanceof Ae)return t;"number"===typeof t?this.code=t:"string"===typeof t?this.message=t:$(t)&&("number"===typeof t.code&&(this.code=t.code),z(this,t)),this.message||(this.message=Ae.defaultMessages[this.code]||"")}Ae.prototype.code=0,Ae.prototype.message="",Ae.prototype.status=null,Ae.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ae.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ie=0;Ie<Ae.errorTypes.length;Ie++)Ae[Ae.errorTypes[Ie]]=Ie,Ae.prototype[Ae.errorTypes[Ie]]=Ie;function De(t){return void 0!==t&&null!==t&&"function"===typeof t.then}function Ne(t){De(t)&&t.then(null,function(t){})}var Le=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,r,n){return t[r]&&(e[r]=t[r]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return e},Re=function(t){var e=t.$$("track"),r=Array.prototype.map.call(e,function(t){return t.track}),n=Array.prototype.map.call(e,function(t){var e=Le(t.track);return t.src&&(e.src=t.src),e});return n.concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===r.indexOf(t)}).map(Le))},Be=function(t,e){return t.forEach(function(t){var r=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return r.addCue(t)})}),e.textTracks()},Me={textTracksToJson:Re,jsonToTextTracks:Be,trackToJson_:Le},He="vjs-modal-dialog",Ue=27,Fe=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=st("div",{className:He+"-content"},{role:"document"}),i.descEl_=st("p",{className:He+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),at(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return He+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){t.which===Ue&&this.closeable()&&this.close()},e.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",ee(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.prototype.opened=function(t){return"boolean"===typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",ee(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.prototype.closeable=function(t){if("boolean"===typeof t){var e=this.closeable_=!!t,r=this.getChild("closeButton");if(e&&!r){var n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close)}!e&&r&&(this.off(r,"close",this.close),this.removeChild(r),r.dispose())}return this.closeable_},e.prototype.fill=function(){this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),r=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(e),this.empty(),Pt(e,t),this.trigger("modalfill"),n?r.insertBefore(e,n):r.appendChild(e);var i=this.getChild("closeButton");i&&r.appendChild(i.el_)},e.prototype.empty=function(){this.trigger("beforemodalempty"),Ct(this.contentEl()),this.trigger("modalempty")},e.prototype.content=function(t){return"undefined"!==typeof t&&(this.content_=t),this.content_},e.prototype.conditionalFocus_=function(){var t=o.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(o,"keydown",this.handleKeyDown))},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(o,"keydown",this.handleKeyDown)},e.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),r=this.el_.querySelector(":focus"),n=void 0,i=0;i<e.length;i++)if(r===e[i]){n=i;break}o.activeElement===this.el_&&(n=0),t.shiftKey&&0===n?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||n!==e.length-1||(e[0].focus(),t.preventDefault())}},e.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof i.HTMLAnchorElement||t instanceof i.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof i.HTMLInputElement||t instanceof i.HTMLSelectElement||t instanceof i.HTMLTextAreaElement||t instanceof i.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof i.HTMLIFrameElement||t instanceof i.HTMLObjectElement||t instanceof i.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},e}(be);Fe.prototype.options_={pauseOnOpen:!0,temporary:!0},be.registerComponent("ModalDialog",Fe);var Ve=function(t){function e(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;L(this,e);var s=B(this,t.call(this));if(!i&&(i=s,P))for(var a in i=o.createElement("custom"),e.prototype)"constructor"!==a&&(i[a]=e.prototype[a]);i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}});for(var c=0;c<n.length;c++)i.addTrack(n[c]);return r=i,B(s,r)}return R(e,t),e.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack=function(t){for(var e=void 0,r=0,n=this.length;r<n;r++)if(this[r]===t){e=this[r],e.off&&e.off(),this.tracks_.splice(r,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===t){e=i;break}}return e},e}(ie);for(var ze in Ve.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Ve.prototype.allowedEvents_)Ve.prototype["on"+ze]=null;var $e=function(t,e){for(var r=0;r<t.length;r++)Object.keys(t[r]).length&&e.id!==t[r].id&&(t[r].enabled=!1)},We=function(t){function e(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];L(this,e);for(var s=void 0,a=i.length-1;a>=0;a--)if(i[a].enabled){$e(i,i[a]);break}if(P){for(var c in s=o.createElement("custom"),Ve.prototype)"constructor"!==c&&(s[c]=Ve.prototype[c]);for(var u in e.prototype)"constructor"!==u&&(s[u]=e.prototype[u])}return r=B(this,t.call(this,i,s)),s=r,s.changing_=!1,n=s,B(r,n)}return R(e,t),e.prototype.addTrack=function(e){var r=this;e.enabled&&$e(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){r.changing_||(r.changing_=!0,$e(r,e),r.changing_=!1,r.trigger("change"))})},e}(Ve),qe=function(t,e){for(var r=0;r<t.length;r++)Object.keys(t[r]).length&&e.id!==t[r].id&&(t[r].selected=!1)},Ke=function(t){function e(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];L(this,e);for(var s=void 0,a=i.length-1;a>=0;a--)if(i[a].selected){qe(i,i[a]);break}if(P){for(var c in s=o.createElement("custom"),Ve.prototype)"constructor"!==c&&(s[c]=Ve.prototype[c]);for(var u in e.prototype)"constructor"!==u&&(s[u]=e.prototype[u])}return r=B(this,t.call(this,i,s)),s=r,s.changing_=!1,Object.defineProperty(s,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n=s,B(r,n)}return R(e,t),e.prototype.addTrack=function(e){var r=this;e.selected&&qe(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){r.changing_||(r.changing_=!0,qe(r,e),r.changing_=!1,r.trigger("change"))})},e}(Ve),Xe=function(t){function e(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];L(this,e);var s=void 0;if(P){for(var a in s=o.createElement("custom"),Ve.prototype)"constructor"!==a&&(s[a]=Ve.prototype[a]);for(var c in e.prototype)"constructor"!==c&&(s[c]=e.prototype[c])}return r=B(this,t.call(this,i,s)),s=r,n=s,B(r,n)}return R(e,t),e.prototype.addTrack=function(e){t.prototype.addTrack.call(this,e),e.addEventListener("modechange",ee(this,function(){this.trigger("change")}));var r=["metadata","chapters"];-1===r.indexOf(e.kind)&&e.addEventListener("modechange",ee(this,function(){this.trigger("selectedlanguagechange")}))},e}(Ve),Je=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];L(this,t);var r=this;if(P)for(var n in r=o.createElement("custom"),t.prototype)"constructor"!==n&&(r[n]=t.prototype[n]);r.trackElements_=[],Object.defineProperty(r,"length",{get:function(){return this.trackElements_.length}});for(var i=0,s=e.length;i<s;i++)r.addTrackElement_(e[i]);if(P)return r}return t.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,r=0,n=this.trackElements_.length;r<n;r++)if(t===this.trackElements_[r].track){e=this.trackElements_[r];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,r=this.trackElements_.length;e<r;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}(),Ye=function(){function t(e){L(this,t);var r=this;if(P)for(var n in r=o.createElement("custom"),t.prototype)"constructor"!==n&&(r[n]=t.prototype[n]);if(t.prototype.setCues_.call(r,e),Object.defineProperty(r,"length",{get:function(){return this.length_}}),P)return r}return t.prototype.setCues_=function(t){var e=this.length||0,r=0,n=t.length;this.cues_=t,this.length_=t.length;var i=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(r=e;r<n;r++)i.call(this,r)},t.prototype.getCueById=function(t){for(var e=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===t){e=i;break}}return e},t}(),Ge={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Qe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ze={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},tr={disabled:"disabled",hidden:"hidden",showing:"showing"},er=function(t){function e(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L(this,e);var i=B(this,t.call(this)),s=i;if(P)for(var a in s=o.createElement("custom"),e.prototype)"constructor"!==a&&(s[a]=e.prototype[a]);var c={id:n.id||"vjs_track_"+Dt(),kind:n.kind||"",label:n.label||"",language:n.language||""},u=function(t){Object.defineProperty(s,t,{get:function(){return c[t]},set:function(){}})};for(var l in c)u(l);return r=s,B(i,r)}return R(e,t),e}(ie),rr=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],r=o.createElement("a");r.href=t;var n=""===r.host&&"file:"!==r.protocol,s=void 0;n&&(s=o.createElement("div"),s.innerHTML='<a href="'+t+'"></a>',r=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),o.body.appendChild(s));for(var a={},c=0;c<e.length;c++)a[e[c]]=r[e[c]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=i.location.protocol),n&&o.body.removeChild(s),a},nr=function(t){if(!t.match(/^https?:\/\//)){var e=o.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},ir=function(t){if("string"===typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,r=e.exec(t);if(r)return r.pop().toLowerCase()}return""},or=function(t){var e=i.location,r=rr(t),n=":"===r.protocol?e.protocol:r.protocol,o=n+r.host!==e.protocol+e.host;return o},sr=(Object.freeze||Object)({parseUrl:rr,getAbsoluteURL:nr,getFileExtension:ir,isCrossOrigin:or}),ar=function(t,e){var r=new i.WebVTT.Parser(i,i.vttjs,i.WebVTT.StringDecoder()),n=[];r.oncue=function(t){e.addCue(t)},r.onparsingerror=function(t){n.push(t)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),n.length>0&&(i.console&&i.console.groupCollapsed&&i.console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach(function(t){return J.error(t)}),i.console&&i.console.groupEnd&&i.console.groupEnd()),r.flush()},cr=function(t,e){var r={uri:t},n=or(t);n&&(r.cors=n),c(r,ee(this,function(t,r,n){if(t)return J.error(t,r);if(e.loaded_=!0,"function"!==typeof i.WebVTT){if(e.tech_){var o=function(){return ar(n,e)};e.tech_.on("vttjsloaded",o),e.tech_.on("vttjserror",function(){J.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",o)})}}else ar(n,e)}))},ur=function(t){function e(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(L(this,e),!i.tech)throw new Error("A tech was not provided.");var o=ge(i,{kind:Ze[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=tr[o.mode]||"disabled",a=o["default"];"metadata"!==o.kind&&"chapters"!==o.kind||(s="hidden");var c=(r=B(this,t.call(this,o)),r);if(c.tech_=o.tech,P)for(var u in e.prototype)"constructor"!==u&&(c[u]=e.prototype[u]);c.cues_=[],c.activeCues_=[];var l=new Ye(c.cues_),h=new Ye(c.activeCues_),p=!1,d=ee(c,function(){this.activeCues=this.activeCues,p&&(this.trigger("cuechange"),p=!1)});return"disabled"!==s&&c.tech_.ready(function(){c.tech_.on("timeupdate",d)},!0),Object.defineProperty(c,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(c,"mode",{get:function(){return s},set:function(t){var e=this;tr[t]&&(s=t,"disabled"!==s?this.tech_.ready(function(){e.tech_.on("timeupdate",d)},!0):this.tech_.off("timeupdate",d),this.trigger("modechange"))}}),Object.defineProperty(c,"cues",{get:function(){return this.loaded_?l:null},set:function(){}}),Object.defineProperty(c,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return h;for(var t=this.tech_.currentTime(),e=[],r=0,n=this.cues.length;r<n;r++){var i=this.cues[r];i.startTime<=t&&i.endTime>=t?e.push(i):i.startTime===i.endTime&&i.startTime<=t&&i.startTime+.5>=t&&e.push(i)}if(p=!1,e.length!==this.activeCues_.length)p=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(p=!0);return this.activeCues_=e,h.setCues_(this.activeCues_),h},set:function(){}}),o.src?(c.src=o.src,cr(o.src,c)):c.loaded_=!0,n=c,B(r,n)}return R(e,t),e.prototype.addCue=function(t){var e=t;if(i.vttjs&&!(t instanceof i.vttjs.VTTCue)){for(var r in e=new i.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)r in e||(e[r]=t[r]);e.id=t.id,e.originalCue_=t}for(var n=this.tech_.textTracks(),o=0;o<n.length;o++)n[o]!==this&&n[o].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){var e=this.cues_.length;while(e--){var r=this.cues_[e];if(r===t||r.originalCue_&&r.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(er);ur.prototype.allowedEvents_={cuechange:"cuechange"};var lr=function(t){function e(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L(this,e);var o=ge(i,{kind:Qe[i.kind]||""}),s=(r=B(this,t.call(this,o)),r),a=!1;if(P)for(var c in e.prototype)"constructor"!==c&&(s[c]=e.prototype[c]);return Object.defineProperty(s,"enabled",{get:function(){return a},set:function(t){"boolean"===typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),o.enabled&&(s.enabled=o.enabled),s.loaded_=!0,n=s,B(r,n)}return R(e,t),e}(er),hr=function(t){function e(){var r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L(this,e);var o=ge(i,{kind:Ge[i.kind]||""}),s=(r=B(this,t.call(this,o)),r),a=!1;if(P)for(var c in e.prototype)"constructor"!==c&&(s[c]=e.prototype[c]);return Object.defineProperty(s,"selected",{get:function(){return a},set:function(t){"boolean"===typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),o.selected&&(s.selected=o.selected),n=s,B(r,n)}return R(e,t),e}(er),pr=0,dr=1,fr=2,mr=3,vr=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L(this,e);var n=B(this,t.call(this)),i=void 0,s=n;if(P)for(var a in s=o.createElement("custom"),e.prototype)"constructor"!==a&&(s[a]=e.prototype[a]);var c,u=new ur(r);return s.kind=u.kind,s.src=u.src,s.srclang=u.language,s.label=u.label,s["default"]=u["default"],Object.defineProperty(s,"readyState",{get:function(){return i}}),Object.defineProperty(s,"track",{get:function(){return u}}),i=pr,u.addEventListener("loadeddata",function(){i=fr,s.trigger({type:"load",target:s})}),P?(c=s,B(n,c)):n}return R(e,t),e}(ie);vr.prototype.allowedEvents_={load:"load"},vr.NONE=pr,vr.LOADING=dr,vr.LOADED=fr,vr.ERROR=mr;var yr={audio:{ListClass:We,TrackClass:lr,capitalName:"Audio"},video:{ListClass:Ke,TrackClass:hr,capitalName:"Video"},text:{ListClass:Xe,TrackClass:ur,capitalName:"Text"}};Object.keys(yr).forEach(function(t){yr[t].getterName=t+"Tracks",yr[t].privateName=t+"Tracks_"});var gr={remoteText:{ListClass:Xe,TrackClass:ur,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Je,TrackClass:vr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},br=ge(yr,gr);function wr(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t.textTracks();i.kind=e,r&&(i.label=r),n&&(i.language=n),i.tech=t;var s=new br.text.TrackClass(i);return o.addTrack(s),s}gr.names=Object.keys(gr),yr.names=Object.keys(yr),br.names=[].concat(gr.names).concat(yr.names);var _r=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};L(this,e),r.reportTouchActivity=!1;var i=B(this,t.call(this,null,r,n));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),br.names.forEach(function(t){var e=br[t];r&&r[e.getterName]&&(i[e.privateName]=r[e.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===r["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)}),!1===r.nativeCaptions||!1===r.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==r.nativeCaptions&&!0!==r.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new br.text.ListClass,i.initTrackListeners(),r.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return R(e,t),e.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ee(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},e.prototype.onDurationChange=function(t){this.duration_=this.duration()},e.prototype.buffered=function(){return Se(0,0)},e.prototype.bufferedPercent=function(){return Ce(this.buffered(),this.duration_)},e.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){this.clearTracks(yr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach(function(t){var r=e[t+"Tracks"]()||[],n=r.length;while(n--){var i=r[n];"text"===t&&e.removeRemoteTextTrack(i),r.removeTrack(i)}})},e.prototype.cleanupAutoTextTracks=function(){var t=this.autoRemoteTextTracks_||[],e=t.length;while(e--){var r=t[e];this.removeRemoteTextTrack(r)}},e.prototype.reset=function(){},e.prototype.error=function(t){return void 0!==t&&(this.error_=new Ae(t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?Se(0,0):Se()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.initTrackListeners=function(){var t=this;yr.names.forEach(function(e){var r=yr[e],n=function(){t.trigger(e+"trackchange")},i=t[r.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),t.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})},e.prototype.addWebVttScript_=function(){var t=this;if(!i.WebVTT)if(o.body.contains(this.el())){if(!this.options_["vtt.js"]&&W(u)&&Object.keys(u).length>0)return void this.trigger("vttjsloaded");var e=o.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),i.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},e.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks(),r=this.remoteTextTracks(),n=function(t){return e.addTrack(t.track)},i=function(t){return e.removeTrack(t.track)};r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();var o=function(){return t.trigger("texttrackchange")},s=function(){o();for(var t=0;t<e.length;t++){var r=e[t];r.removeEventListener("cuechange",o),"showing"===r.mode&&r.addEventListener("cuechange",o)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(var t=0;t<e.length;t++){var a=e[t];a.removeEventListener("cuechange",o)}})},e.prototype.addTextTrack=function(t,e,r){if(!t)throw new Error("TextTrack kind is required but was not provided");return wr(this,t,e,r)},e.prototype.createRemoteTextTrack=function(t){var e=ge(t,{tech:this});return new gr.remoteTextEl.TrackClass(e)},e.prototype.addRemoteTextTrack=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],n=this.createRemoteTextTrack(e);return!0!==r&&!1!==r&&(J.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),r=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==r&&this.ready(function(){return t.autoRemoteTextTracks_.addTrack(n.track)}),n},e.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},e.prototype.getVideoPlaybackQuality=function(){return{}},e.prototype.setPoster=function(){},e.prototype.playsinline=function(){},e.prototype.setPlaysinline=function(){},e.prototype.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,r){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,r){if(e.techs_||(e.techs_={}),!e.isTech(r))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=ve(t),e.techs_[t]=r,"Tech"!==t&&e.defaultTechOrder_.push(t),r},e.getTech=function(t){if(t)return t=ve(t),e.techs_&&e.techs_[t]?e.techs_[t]:i&&i.videojs&&i.videojs[t]?(J.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),i.videojs[t]):void 0},e}(be);br.names.forEach(function(t){var e=br[t];_r.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),_r.prototype.featuresVolumeControl=!0,_r.prototype.featuresMuteControl=!0,_r.prototype.featuresFullscreenResize=!1,_r.prototype.featuresPlaybackRate=!1,_r.prototype.featuresProgressEvents=!1,_r.prototype.featuresSourceset=!1,_r.prototype.featuresTimeupdateEvents=!1,_r.prototype.featuresNativeTextTracks=!1,_r.withSourceHandlers=function(t){t.registerSourceHandler=function(e,r){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===r&&(r=n.length),n.splice(r,0,e)},t.canPlayType=function(e){for(var r=t.sourceHandlers||[],n=void 0,i=0;i<r.length;i++)if(n=r[i].canPlayType(e),n)return n;return""},t.selectSourceHandler=function(e,r){for(var n=t.sourceHandlers||[],i=void 0,o=0;o<n.length;o++)if(i=n[o].canHandleSource(e,r),i)return n[o];return null},t.canPlaySource=function(e,r){var n=t.selectSourceHandler(e,r);return n?n.canHandleSource(e,r):""};var e=["seekable","seeking","duration"];e.forEach(function(t){var e=this[t];"function"===typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var r=t.selectSourceHandler(e,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:J.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),r!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=r.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},be.registerComponent("Tech",_r),_r.registerTech("Tech",_r),_r.defaultTechOrder_=[];var Tr={},Sr={},Cr={};function kr(t,e){Tr[t]=Tr[t]||[],Tr[t].push(e)}function Er(t,e,r){t.setTimeout(function(){return Mr(e,Tr[e.type],r,t)},1)}function Pr(t,e){t.forEach(function(t){return t.setTech&&t.setTech(e)})}function xr(t,e,r){return t.reduceRight(Nr(r),e[r]())}function Or(t,e,r,n){return e[r](t.reduce(Nr(r),n))}function jr(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="call"+ve(r),o=t.reduce(Nr(i),n),s=o===Cr,a=s?null:e[r](o);return Lr(t,r,a,s),a}var Ar={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Ir={setCurrentTime:1},Dr={play:1,pause:1};function Nr(t){return function(e,r){return e===Cr?Cr:r[t]?r[t](e):e}}function Lr(t,e,r,n){for(var i=t.length-1;i>=0;i--){var o=t[i];o[e]&&o[e](n,r)}}function Rr(t){Sr[t.id()]=null}function Br(t,e){var r=Sr[t.id()],n=null;if(void 0===r||null===r)return n=e(t),Sr[t.id()]=[[e,n]],n;for(var i=0;i<r.length;i++){var o=r[i],s=o[0],a=o[1];s===e&&(n=a)}return null===n&&(n=e(t),r.push([e,n])),n}function Mr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2],n=arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=e[0],a=e.slice(1);if("string"===typeof s)Mr(t,Tr[s],r,n,i,o);else if(s){var c=Br(n,s);if(!c.setSource)return i.push(c),Mr(t,a,r,n,i,o);c.setSource(z({},t),function(e,s){if(e)return Mr(t,a,r,n,i,o);i.push(c),Mr(s,t.type===s.type?a:Tr[s.type],r,n,i,o)})}else a.length?Mr(t,a,r,n,i,o):o?r(t,i):Mr(t,Tr["*"],r,n,i,!0)}var Hr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Ur=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=ir(t),r=Hr[e.toLowerCase()];return r||""},Fr=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var r=t.cache_.sources.filter(function(t){return t.src===e});if(r.length)return r[0].type;for(var n=t.$$("source"),i=0;i<n.length;i++){var o=n[i];if(o.type&&o.src&&o.src===e)return o.type}return Ur(e)},Vr=function t(e){if(Array.isArray(e)){var r=[];e.forEach(function(e){e=t(e),Array.isArray(e)?r=r.concat(e):$(e)&&r.push(e)}),e=r}else e="string"===typeof e&&e.trim()?[zr({src:e})]:$(e)&&"string"===typeof e.src&&e.src&&e.src.trim()?[zr(e)]:[];return e};function zr(t){var e=Ur(t.src);return!t.type&&e&&(t.type=e),t}var $r=function(t){function e(r,n,i){L(this,e);var o=ge({createEl:!1},n),s=B(this,t.call(this,r,o,i));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)r.src(n.playerOptions.sources);else for(var a=0,c=n.playerOptions.techOrder;a<c.length;a++){var u=ve(c[a]),l=_r.getTech(u);if(u||(l=be.getComponent(u)),l&&l.isSupported()){r.loadTech_(u);break}}return s}return R(e,t),e}(be);be.registerComponent("MediaLoader",$r);var Wr=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.emitTapEvents(),i.enable(),i}return R(e,t),e.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=z({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},r),"button"===e&&J.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=z({role:"button"},n),this.tabIndex_=r.tabIndex;var i=t.prototype.createEl.call(this,e,r,n);return this.createControlTextEl(i),i},e.prototype.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=st("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var r=this.localize(t);this.controlText_=t,at(this.controlTextEl_,r),this.nonIconControl||e.setAttribute("title",r)},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},e.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},e.prototype.handleClick=function(t){},e.prototype.handleFocus=function(t){$t(o,"keydown",ee(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(t){Wt(o,"keydown",ee(this,this.handleKeyPress))},e}(be);be.registerComponent("ClickableComponent",Wr);var qr=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.update(),r.on("posterchange",ee(i,i.update)),i}return R(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=st("div",{className:"vjs-poster",tabIndex:-1});return I||(this.fallbackImg_=st("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?Ne(this.player_.play()):this.player_.pause())},e}(Wr);be.registerComponent("PosterImage",qr);var Kr="#222",Xr="#ccc",Jr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Yr(t,e){var r=void 0;if(4===t.length)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");r=t.slice(1)}return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function Gr(t,e,r){try{t.style[e]=r}catch(n){return}}var Qr=function(t){function e(r,n,o){L(this,e);var s=B(this,t.call(this,r,n,o)),a=ee(s,s.updateDisplay);return r.on("loadstart",ee(s,s.toggleDisplay)),r.on("texttrackchange",a),r.on("loadstart",ee(s,s.preselectTrack)),r.ready(ee(s,function(){if(r.tech_&&r.tech_.featuresNativeTextTracks)this.hide();else{r.on("fullscreenchange",a),r.on("playerresize",a),i.addEventListener&&i.addEventListener("orientationchange",a),r.on("dispose",function(){return i.removeEventListener("orientationchange",a)});for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}})),s}return R(e,t),e.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,n=void 0,i=void 0,o=void 0,s=0;s<e.length;s++){var a=e[s];r&&r.enabled&&r.language===a.language?a.kind===r.kind?o=a:o||(o=a):r&&!r.enabled?(o=null,n=null,i=null):a["default"]&&("descriptions"!==a.kind||n?a.kind in t&&!i&&(i=a):n=a)}o?o.mode="showing":i?i.mode="showing":n&&(n.mode="showing")},e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"===typeof i.WebVTT&&i.WebVTT.processCues(i,[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();var e=null,r=null,n=t.length;while(n--){var i=t[n];"showing"===i.mode&&("descriptions"===i.kind?e=i:r=i)}r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},e.prototype.updateForTrack=function(t){if("function"===typeof i.WebVTT&&t.activeCues){for(var e=[],r=0;r<t.activeCues.length;r++)e.push(t.activeCues[r]);if(i.WebVTT.processCues(i,e,this.el_),this.player_.textTrackSettings){var n=this.player_.textTrackSettings.getValues(),o=e.length;while(o--){var s=e[o];if(s){var a=s.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&Gr(a.firstChild,"color",Yr(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Gr(a.firstChild,"backgroundColor",Yr(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Gr(a,"backgroundColor",Yr(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+Kr+", 2px 2px 4px "+Kr+", 2px 2px 5px "+Kr:"raised"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px "+Kr+", 2px 2px "+Kr+", 3px 3px "+Kr:"depressed"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px "+Xr+", 0 1px "+Xr+", -1px -1px "+Kr+", 0 -1px "+Kr:"uniform"===n.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+Kr+", 0 0 4px "+Kr+", 0 0 4px "+Kr+", 0 0 4px "+Kr)),n.fontPercent&&1!==n.fontPercent){var c=i.parseFloat(a.style.fontSize);a.style.fontSize=c*n.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Jr[n.fontFamily])}}}}},e}(be);be.registerComponent("TextTrackDisplay",Qr);var Zr=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),n=st("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[r])}),i=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i},e}(be);be.registerComponent("LoadingSpinner",Zr);var tn=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.createEl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t="button",e=z({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),r=z({type:"button"},r);var n=be.prototype.createEl.call(this,t,e,r);return this.createControlTextEl(n),n},e.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.constructor.name;return J.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),be.prototype.addChild.call(this,t,e)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(Wr);be.registerComponent("Button",tn);var en=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)Ne(e);else{var r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(n){var i=function(){return n.focus()};De(e)?e.then(i,function(){}):this.setTimeout(i,1)}else this.player_.focus()}},e.prototype.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},e.prototype.handleMouseDown=function(t){this.mouseused_=!0},e}(tn);en.prototype.controlText_="Play Video",be.registerComponent("BigPlayButton",en);var rn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.controlText(n&&n.controlText||i.localize("Close")),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(tn);be.registerComponent("CloseButton",rn);var nn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.on(r,"play",i.handlePlay),i.on(r,"pause",i.handlePause),i.on(r,"ended",i.handleEnded),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(tn);nn.prototype.controlText_="Play",be.registerComponent("PlayToggle",nn);var on=function(t,e){t=t<0?0:t;var r=Math.floor(t%60),n=Math.floor(t/60%60),i=Math.floor(t/3600),o=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=n=r="-"),i=i>0||s>0?i+":":"",n=((i||o>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r},sn=on;function an(t){sn=t}function cn(){sn=on}var un=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return sn(t,e)},ln=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.throttledUpdateContent=re(ee(i,i.updateContent),25),i.on(r,"timeupdate",i.throttledUpdateContent),i}return R(e,t),e.prototype.createEl=function(e){var r=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=st("span",{className:r+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},e.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},e.prototype.updateTextNode_=function(){if(this.contentEl_){while(this.contentEl_.firstChild)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=o.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},e.prototype.formatTime_=function(t){return un(t)},e.prototype.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},e.prototype.updateContent=function(t){},e}(be);ln.prototype.labelText_="Time",ln.prototype.controlText_="Time",be.registerComponent("TimeDisplay",ln);var hn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.on(r,"ended",i.handleEnded),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-current-time"},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(ln);hn.prototype.labelText_="Current Time",hn.prototype.controlText_="Current Time",be.registerComponent("CurrentTimeDisplay",hn);var pn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.on(r,"durationchange",i.updateContent),i.on(r,"loadedmetadata",i.throttledUpdateContent),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-duration"},e.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(ln);pn.prototype.labelText_="Duration",pn.prototype.controlText_="Duration",be.registerComponent("DurationDisplay",pn);var dn=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(be);be.registerComponent("TimeDivider",dn);var fn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.on(r,"durationchange",i.throttledUpdateContent),i.on(r,"ended",i.handleEnded),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-remaining-time"},e.prototype.formatTime_=function(e){return"-"+t.prototype.formatTime_.call(this,e)},e.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(ln);fn.prototype.labelText_="Remaining Time",fn.prototype.controlText_="Remaining Time",be.registerComponent("RemainingTimeDisplay",fn);var mn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return R(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=st("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(be);be.registerComponent("LiveDisplay",mn);var vn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}return R(e,t),e.prototype.enabled=function(){return this.enabled_},e.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.prototype.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.prototype.createEl=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.className=r.className+" vjs-slider",r=z({tabIndex:0},r),n=z({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,r,n)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||k||t.preventDefault(),gt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(t){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;bt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!==typeof t||t!==t||t<0||t===1/0)&&(t=0);var r=(100*t).toFixed(2)+"%",n=e.el().style;return this.vertical()?n.height=r:n.width=r,t}}},e.prototype.calculateDistance=function(t){var e=Tt(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(be);be.registerComponent("Slider",vn);var yn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.partEls_=[],i.on(r,"progress",i.update),i}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},e.prototype.update=function(t){var e=this.player_.buffered(),r=this.player_.duration(),n=this.player_.bufferedEnd(),i=this.partEls_,o=function(t,e){var r=t/e||0;return 100*(r>=1?1:r)+"%"};this.el_.style.width=o(n,r);for(var s=0;s<e.length;s++){var a=e.start(s),c=e.end(s),u=i[s];u||(u=this.el_.appendChild(st()),i[s]=u),u.style.left=o(a,n),u.style.width=o(c-a,n)}for(var l=i.length;l>e.length;l--)this.el_.removeChild(i[l-1]);i.length=e.length},e}(be);be.registerComponent("LoadProgressBar",yn);var gn=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},e.prototype.update=function(t,e,r){var n=wt(this.el_),i=wt(this.player_.el()),o=t.width*e;if(i&&n){var s=t.left-i.left+o,a=t.width-o+(i.right-t.right),c=n.width/2;s<c?c+=c-s:a<c&&(c=a),c<0?c=0:c>n.width&&(c=n.width),this.el_.style.right="-"+c+"px",at(this.el_,r)}},e}(be);be.registerComponent("TimeTooltip",gn);var bn=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.update=function(t,e){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var n=r.player_.scrubbing()?r.player_.getCache().currentTime:r.player_.currentTime(),i=un(n,r.player_.duration()),o=r.getChild("timeTooltip");o&&o.update(t,e,i)})},e}(be);bn.prototype.options_={children:[]},x&&!(x>8)||y||b||bn.prototype.options_.children.push("timeTooltip"),be.registerComponent("PlayProgressBar",bn);var wn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.update=re(ee(i,i.update),25),i}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.update=function(t,e){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var n=r.player_.duration(),i=un(e*n,n);r.el_.style.left=t.width*e+"px",r.getChild("timeTooltip").update(t,e,i)})},e}(be);wn.prototype.options_={children:["timeTooltip"]},be.registerComponent("MouseTimeDisplay",wn);var _n=5,Tn=30,Sn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.setEventHandlers_(),i}return R(e,t),e.prototype.setEventHandlers_=function(){var t=this;this.update=re(ee(this,this.update),Tn),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},Tn)}),this.on(this.player_,["ended","pause","waiting"],function(){t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.prototype.update_=function(t,e){var r=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[un(t,r),un(r,r)],"{1} of {2}")),this.bar.update(wt(this.el_),e)},e.prototype.update=function(e){var r=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),r),r},e.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},e.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){xt(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},e.prototype.handleMouseMove=function(t){if(xt(t)){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)}},e.prototype.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},e.prototype.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&Ne(this.player_.play())},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+_n)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-_n)},e.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(vn);Sn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},x&&!(x>8)||y||b||Sn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Sn.prototype.playerEvent="timeupdate",be.registerComponent("SeekBar",Sn);var Cn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.handleMouseMove=re(ee(i,i.handleMouseMove),25),i.throttledHandleMouseSeek=re(ee(i,i.handleMouseSeek),25),i.enable(),i}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var r=e.getChild("mouseTimeDisplay"),n=e.el(),i=wt(n),o=Tt(n,t).x;o>1?o=1:o<0&&(o=0),r&&r.update(i,o)}},e.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},e.prototype.enabled=function(){return this.enabled_},e.prototype.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},e.prototype.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(be);Cn.prototype.options_={children:["seekBar"]},be.registerComponent("ProgressControl",Cn);var kn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.on(r,"fullscreenchange",i.handleFullscreenChange),!1===o[ke.fullscreenEnabled]&&i.disable(),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(tn);kn.prototype.controlText_="Fullscreen",be.registerComponent("FullscreenToggle",kn);var En=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Pn=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(be);be.registerComponent("VolumeLevel",Pn);var xn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.on("slideractive",i.updateLastVolume_),i.on(r,"volumechange",i.updateARIAAttributes),r.ready(function(){return i.updateARIAAttributes()}),i}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.prototype.handleMouseDown=function(e){xt(e)&&t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(t){xt(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(vn);xn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},xn.prototype.playerEvent="volumechange",be.registerComponent("VolumeBar",xn);var On=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L(this,e),n.vertical=n.vertical||!1,("undefined"===typeof n.volumeBar||W(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical);var i=B(this,t.call(this,r,n));return En(i,r),i.throttledHandleMouseMove=re(ee(i,i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}return R(e,t),e.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(be);On.prototype.options_={children:["volumeBar"]},be.registerComponent("VolumeControl",On);var jn=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},An=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return jn(i,r),i.on(r,["loadstart","volumechange"],i.update),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){var e=this.player_.volume(),r=this.player_.lastVolume_();if(0===e){var n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},e.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;y&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var r=0;r<4;r++)ht(this.el_,"vjs-vol-"+r);lt(this.el_,"vjs-vol-"+e)},e.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(tn);An.prototype.controlText_="Mute",be.registerComponent("MuteToggle",An);var In=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L(this,e),"undefined"!==typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"===typeof n.volumeControl||W(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline);var i=B(this,t.call(this,r,n));return i.on(r,["loadstart"],i.volumePanelState_),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}return R(e,t),e.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},e.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(be);In.prototype.options_={children:["muteToggle","volumeControl"]},be.registerComponent("VolumePanel",In);var Dn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return R(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",ee(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=st(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),$t(r,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),r},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice(),r=e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className);r&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(be);be.registerComponent("Menu",Dn);var Nn=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L(this,e);var i=B(this,t.call(this,r,n));i.menuButton_=new tn(r,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var o=tn.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+o,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on("keydown",i.handleSubmenuKeyPress),i}return R(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new Dn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=st("li",{className:"vjs-menu-title",innerHTML:ve(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),ct(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)t.addItem(this.items[r]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var r=tn.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+r+" "+t.prototype.buildCSSClass.call(this)},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",ee(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.focus=function(){this.menuButton_.focus()},e.prototype.blur=function(){this.menuButton_.blur()},e.prototype.handleFocus=function(){$t(o,"keydown",ee(this,this.handleKeyPress))},e.prototype.handleBlur=function(){Wt(o,"keydown",ee(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},e.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),y&&it())return;this.menu.focus()}},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(be);be.registerComponent("MenuButton",Nn);var Ln=function(t){function e(r,n){L(this,e);var i=n.tracks,o=B(this,t.call(this,r,n));if(o.items.length<=1&&o.hide(),!i)return B(o);var s=ee(o,o.update);return i.addEventListener("removetrack",s),i.addEventListener("addtrack",s),o.player_.on("ready",s),o.player_.on("dispose",function(){i.removeEventListener("removetrack",s),i.removeEventListener("addtrack",s)}),o}return R(e,t),e}(Nn);be.registerComponent("TrackButton",Ln);var Rn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}return R(e,t),e.prototype.createEl=function(e,r,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",z({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},r),n)},e.prototype.handleClick=function(t){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Wr);be.registerComponent("MenuItem",Rn);var Bn=function(t){function e(r,n){L(this,e);var s=n.track,a=r.textTracks();n.label=s.label||s.language||"Unknown",n.selected="showing"===s.mode;var c=B(this,t.call(this,r,n));c.track=s;var u=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];c.handleTracksChange.apply(c,e)},l=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];c.handleSelectedLanguageChange.apply(c,e)};if(r.on(["loadstart","texttrackchange"],u),a.addEventListener("change",u),a.addEventListener("selectedlanguagechange",l),c.on("dispose",function(){r.off(["loadstart","texttrackchange"],u),a.removeEventListener("change",u),a.removeEventListener("selectedlanguagechange",l)}),void 0===a.onchange){var h=void 0;c.on(["tap","click"],function(){if("object"!==N(i.Event))try{h=new i.Event("change")}catch(t){}h||(h=o.createEvent("Event"),h.initEvent("change",!0,!0)),a.dispatchEvent(h)})}return c.handleTracksChange(),c}return R(e,t),e.prototype.handleClick=function(e){var r=this.track.kind,n=this.track.kinds,i=this.player_.textTracks();if(n||(n=[r]),t.prototype.handleClick.call(this,e),i)for(var o=0;o<i.length;o++){var s=i[o];s===this.track&&n.indexOf(s.kind)>-1?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled")}},e.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},e.prototype.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.prototype.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Rn);be.registerComponent("TextTrackMenuItem",Bn);var Mn=function(t){function e(r,n){return L(this,e),n.track={player:r,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,B(this,t.call(this,r,n))}return R(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),r=!0,n=0,i=e.length;n<i;n++){var o=e[n];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r!==this.isSelected_&&this.selected(r)},e.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),r=!0,n=0,i=e.length;n<i;n++){var o=e[n];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Bn);be.registerComponent("OffTextTrackMenuItem",Mn);var Hn=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L(this,e),n.tracks=r.textTracks(),B(this,t.call(this,r,n))}return R(e,t),e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn,r=void 0;this.label_&&(r=this.label_+" off"),t.push(new Mn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<n.length;i++){var o=n[i];if(this.kinds_.indexOf(o.kind)>-1){var s=new e(this.player_,{track:o,selectable:!0,multiSelectable:!1});s.addClass("vjs-"+o.kind+"-menu-item"),t.push(s)}}return t},e}(Ln);be.registerComponent("TextTrackButton",Hn);var Un=function(t){function e(r,n){L(this,e);var i=n.track,o=n.cue,s=r.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=s&&s<o.endTime;var a=B(this,t.call(this,r,n));return a.track=i,a.cue=o,i.addEventListener("cuechange",ee(a,a.update)),a}return R(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(t){var e=this.cue,r=this.player_.currentTime();this.selected(e.startTime<=r&&r<e.endTime)},e}(Rn);be.registerComponent("ChaptersTrackMenuItem",Un);var Fn=function(t){function e(r,n,i){return L(this,e),B(this,t.call(this,r,n,i))}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},e.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}}},e.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var r=t[e];if(r.kind===this.kind_)return r}},e.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ve(this.kind_))},e.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},e.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var r=0,n=e.length;r<n;r++){var i=e[r],o=new Un(this.player_,{track:this.track_,cue:i});t.push(o)}return t},e}(Hn);Fn.prototype.kind_="chapters",Fn.prototype.controlText_="Chapters",be.registerComponent("ChaptersButton",Fn);var Vn=function(t){function e(r,n,i){L(this,e);var o=B(this,t.call(this,r,n,i)),s=r.textTracks(),a=ee(o,o.handleTracksChange);return s.addEventListener("change",a),o.on("dispose",function(){s.removeEventListener("change",a)}),o}return R(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),r=!1,n=0,i=e.length;n<i;n++){var o=e[n];if(o.kind!==this.kind_&&"showing"===o.mode){r=!0;break}}r?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Hn);Vn.prototype.kind_="descriptions",Vn.prototype.controlText_="Descriptions",be.registerComponent("DescriptionsButton",Vn);var zn=function(t){function e(r,n,i){return L(this,e),B(this,t.call(this,r,n,i))}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Hn);zn.prototype.kind_="subtitles",zn.prototype.controlText_="Subtitles",be.registerComponent("SubtitlesButton",zn);var $n=function(t){function e(r,n){L(this,e),n.track={player:r,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem";var i=B(this,t.call(this,r,n));return i.addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return R(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Bn);be.registerComponent("CaptionSettingsMenuItem",$n);var Wn=function(t){function e(r,n,i){return L(this,e),B(this,t.call(this,r,n,i))}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new $n(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Hn);Wn.prototype.kind_="captions",Wn.prototype.controlText_="Captions",be.registerComponent("CaptionsButton",Wn);var qn=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.createEl=function(e,r,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>";var o=t.prototype.createEl.call(this,e,z({innerHTML:i},r),n);return o},e}(Bn);be.registerComponent("SubsCapsMenuItem",qn);var Kn=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L(this,e);var i=B(this,t.call(this,r,n));return i.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(ve(i.label_)),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new $n(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,qn),e},e}(Hn);Kn.prototype.kinds_=["captions","subtitles"],Kn.prototype.controlText_="Subtitles",be.registerComponent("SubsCapsButton",Kn);var Xn=function(t){function e(r,n){L(this,e);var i=n.track,o=r.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled;var s=B(this,t.call(this,r,n));s.track=i,s.addClass("vjs-"+i.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];s.handleTracksChange.apply(s,e)};return o.addEventListener("change",a),s.on("dispose",function(){o.removeEventListener("change",a)}),s}return R(e,t),e.prototype.createEl=function(e,r,n){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),i+="</span>";var o=t.prototype.createEl.call(this,e,z({innerHTML:i},r),n);return o},e.prototype.handleClick=function(e){var r=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var n=0;n<r.length;n++){var i=r[n];i.enabled=i===this.track}},e.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Rn);be.registerComponent("AudioTrackMenuItem",Xn);var Jn=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L(this,e),n.tracks=r.audioTracks(),B(this,t.call(this,r,n))}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var e=this.player_.audioTracks(),r=0;r<e.length;r++){var n=e[r];t.push(new Xn(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return t},e}(Ln);Jn.prototype.controlText_="Audio Track",be.registerComponent("AudioTrackButton",Jn);var Yn=function(t){function e(r,n){L(this,e);var i=n.rate,o=parseFloat(i,10);n.label=i,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1;var s=B(this,t.call(this,r,n));return s.label=i,s.rate=o,s.on(r,"ratechange",s.update),s}return R(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Rn);Yn.prototype.contentElType="button",be.registerComponent("PlaybackRateMenuItem",Yn);var Gn=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.updateVisibility(),i.updateLabel(),i.on(r,"loadstart",i.updateVisibility),i.on(r,"ratechange",i.updateLabel),i}return R(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=st("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},e.prototype.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createMenu=function(){var t=new Dn(this.player()),e=this.playbackRates();if(e)for(var r=e.length-1;r>=0;r--)t.addChild(new Yn(this.player(),{rate:e[r]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),r=this.playbackRates(),n=r[0],i=0;i<r.length;i++)if(r[i]>e){n=r[i];break}this.player().playbackRate(n)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Nn);Gn.prototype.controlText_="Playback Rate",be.registerComponent("PlaybackRateMenuButton",Gn);var Qn=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(be);be.registerComponent("Spacer",Qn);var Zn=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(Qn);be.registerComponent("CustomControlSpacer",Zn);var ti=function(t){function e(){return L(this,e),B(this,t.apply(this,arguments))}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(be);ti.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},be.registerComponent("ControlBar",ti);var ei=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n));return i.on(r,"error",i.open),i}return R(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Fe);ei.prototype.options_=ge(Fe.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),be.registerComponent("ErrorDisplay",ei);var ri="vjs-text-track-settings",ni=["#000","Black"],ii=["#00F","Blue"],oi=["#0FF","Cyan"],si=["#0F0","Green"],ai=["#F0F","Magenta"],ci=["#F00","Red"],ui=["#FFF","White"],li=["#FF0","Yellow"],hi=["1","Opaque"],pi=["0.5","Semi-Transparent"],di=["0","Transparent"],fi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ni,ui,ci,si,ii,li,ai,oi]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[hi,pi,di]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ui,ni,ci,si,ii,li,ai,oi]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[hi,pi]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[di,pi,hi]}};function mi(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function vi(t,e){var r=t.options[t.options.selectedIndex].value;return mi(r,e)}function yi(t,e,r){if(e)for(var n=0;n<t.options.length;n++)if(mi(t.options[n].value,r)===e){t.selectedIndex=n;break}}fi.windowColor.options=fi.backgroundColor.options;var gi=function(t){function e(r,n){L(this,e),n.temporary=!1;var i=B(this,t.call(this,r,n));return i.updateDisplay=ee(i,i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=st("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),F(fi,function(t){i.on(i.$(t.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return R(e,t),e.prototype.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},e.prototype.createElSelect_=function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",i=fi[t],o=i.id.replace("%s",this.id_),s=[r,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+s+'">'].concat(i.options.map(function(t){var r=o+"-"+t[1].replace(/\W+/g,"");return['<option id="'+r+'" value="'+t[0]+'" ','aria-labelledby="'+s+" "+r+'">',e.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},e.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElColors_=function(){return st("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.prototype.createElFont_=function(){return st("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return st("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.prototype.label=function(){return this.localize("Caption Settings Dialog")},e.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.prototype.getValues=function(){var t=this;return V(fi,function(e,r,n){var i=vi(t.$(r.selector),r.parser);return void 0!==i&&(e[n]=i),e},{})},e.prototype.setValues=function(t){var e=this;F(fi,function(r,n){yi(e.$(r.selector),t[n],r.parser)})},e.prototype.setDefaults=function(){var t=this;F(fi,function(e){var r=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=r})},e.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(i.localStorage.getItem(ri))}catch(e){J.warn(e)}t&&this.setValues(t)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?i.localStorage.setItem(ri,JSON.stringify(t)):i.localStorage.removeItem(ri)}catch(e){J.warn(e)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(o,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,r=t&&t.captionsButton;e?e.focus():r&&r.focus()},e}(Fe);be.registerComponent("TextTrackSettings",gi);var bi=function(t){function e(r,n){L(this,e);var o=n.ResizeObserver||i.ResizeObserver;null===n.ResizeObserver&&(o=!1);var s=ge({createEl:!o},n),a=B(this,t.call(this,r,s));return a.ResizeObserver=n.ResizeObserver||i.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=ne(function(){a.resizeHandler()},100,!1,a),o?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(r.el())):(a.loadListener_=function(){a.el_&&a.el_.contentWindow&&$t(a.el_.contentWindow,"resize",a.debouncedHandler_)},a.one("load",a.loadListener_)),a}return R(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},e.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},e.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Wt(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},e}(be);be.registerComponent("ResizeManager",bi);var wi=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var r=t.$$("source"),n=[],i="";if(!r.length)return!1;for(var o=0;o<r.length;o++){var s=r[o].src;s&&-1===n.indexOf(s)&&n.push(s)}return!!n.length&&(1===n.length&&(i=n[0]),t.triggerSourceset(i),!0)},_i={};P||(_i=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=o.createElement(this.nodeName.toLowerCase());e.innerHTML=t;var r=o.createDocumentFragment();while(e.childNodes.length)r.appendChild(e.childNodes[0]);return this.innerText="",i.Element.prototype.appendChild.call(this,r),this.innerHTML}}));var Ti=function(t,e){for(var r={},n=0;n<t.length;n++)if(r=Object.getOwnPropertyDescriptor(t[n],e),r&&r.set&&r.get)break;return r.enumerable=!0,r.configurable=!0,r},Si=function(t){return Ti([t.el(),i.HTMLMediaElement.prototype,i.Element.prototype,_i],"innerHTML")},Ci=function(t){var e=t.el();if(!e.resetSourceWatch_){var r={},n=Si(t),i=function(r){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=r.apply(e,i);return wi(t),s}};["append","appendChild","insertAdjacentHTML"].forEach(function(t){e[t]&&(r[t]=e[t],e[t]=i(r[t]))}),Object.defineProperty(e,"innerHTML",ge(n,{set:i(n.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(r).forEach(function(t){e[t]=r[t]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)}},ki={};P||(ki=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?nr(i.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return i.Element.prototype.setAttribute.call(this,"src",t),t}}));var Ei=function(t){return Ti([t.el(),i.HTMLMediaElement.prototype,ki],"src")},Pi=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var r=Ei(t),n=e.setAttribute,i=e.load;Object.defineProperty(e,"src",ge(r,{set:function(n){var i=r.set.call(e,n);return t.triggerSourceset(e.src),i}})),e.setAttribute=function(r,i){var o=n.call(e,r,i);return/src/i.test(r)&&t.triggerSourceset(e.src),o},e.load=function(){var r=i.call(e);return wi(t)||(t.triggerSourceset(""),Ci(t)),r},e.currentSrc?t.triggerSourceset(e.currentSrc):wi(t)||Ci(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=i,e.setAttribute=n,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},xi=M(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Oi=function(t){function e(r,n){L(this,e);var i=B(this,t.call(this,r,n)),o=r.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||r.tag&&3===r.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),r.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){var c=i.el_.childNodes,u=c.length,l=[];while(u--){var h=c[u],p=h.nodeName.toLowerCase();"track"===p&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(h),i.remoteTextTracks().addTrack(h.track),i.textTracks().addTrack(h.track),a||i.el_.hasAttribute("crossorigin")||!or(h.src)||(a=!0)):l.push(h))}for(var d=0;d<l.length;d++)i.el_.removeChild(l[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&J.warn(s(xi)),i.restoreMetadataTracksInIOSNativePlayer_(),(A||m||T)&&!0===r.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return R(e,t),e.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},e.prototype.setupSourcesetHandling_=function(){Pi(this)},e.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),e=void 0,r=function(){e=[];for(var r=0;r<t.length;r++){var n=t[r];"metadata"===n.kind&&e.push({track:n,storedMode:n.mode})}};r(),t.addEventListener("change",r),this.on("dispose",function(){return t.removeEventListener("change",r)});var n=function r(){for(var n=0;n<e.length;n++){var i=e[n];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",r)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",r),t.removeEventListener("change",n),t.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",r),t.addEventListener("change",r),t.removeEventListener("change",n)})},e.prototype.proxyNativeTracks_=function(){var t=this;yr.names.forEach(function(e){var r=yr[e],n=t.el()[r.getterName],i=t[r.getterName]();if(t["featuresNative"+r.capitalName+"Tracks"]&&n&&n.addEventListener){var o={change:function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(t){i.addTrack(t.track)},removetrack:function(t){i.removeTrack(t.track)}},s=function(){for(var t=[],e=0;e<i.length;e++){for(var r=!1,o=0;o<n.length;o++)if(n[o]===i[e]){r=!0;break}r||t.push(i[e])}while(t.length)i.removeTrack(t.shift())};Object.keys(o).forEach(function(e){var r=o[e];n.addEventListener(e,r),t.on("dispose",function(t){return n.removeEventListener(e,r)})}),t.on("loadstart",s),t.on("dispose",function(e){return t.off("loadstart",s)})}})},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var r=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(r,t),e.disposeMediaElement(t),t=r}else{t=o.createElement("video");var n=this.options_.tag&&ft(this.options_.tag),i=ge({},n);A&&!0===this.options_.nativeControlsForTouch||delete i.controls,dt(t,z(i,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&vt(t,"preload",this.options_.preload);for(var s=["loop","muted","playsinline","autoplay"],a=0;a<s.length;a++){var c=s[a],u=this.options_[c];"undefined"!==typeof u&&(u?vt(t,c,c):yt(t,c),t[c]=u)}return t},e.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,r=function(){e=!0};this.on("loadstart",r);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",n),e||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),t.readyState>=2&&i.push("loadeddata"),t.readyState>=3&&i.push("canplay"),t.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(t){this.trigger(t)},this)})}},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){J(e,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){var t=this;if(this.el_.duration===1/0&&b&&k&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},r=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",function(){t.off("webkitbeginfullscreen",r),t.off("webkitendfullscreen",e)})}},e.prototype.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var t=i.navigator&&i.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.addTextTrack=function(e,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,n):t.prototype.addTextTrack.call(this,e,r,n)},e.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var r=o.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e["default"]&&(r["default"]=e["default"]),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r},e.prototype.addRemoteTextTrack=function(e,r){var n=t.prototype.addRemoteTextTrack.call(this,e,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},e.prototype.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks){var r=this.$$("track"),n=r.length;while(n--)e!==r[n]&&e!==r[n].track||this.el().removeChild(r[n])}},e.prototype.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),i.performance&&"function"===typeof i.performance.now?t.creationTime=i.performance.now():i.performance&&i.performance.timing&&"number"===typeof i.performance.timing.navigationStart&&(t.creationTime=i.Date.now()-i.performance.timing.navigationStart),t},e}(_r);if(rt()){Oi.TEST_VID=o.createElement("video");var ji=o.createElement("track");ji.kind="captions",ji.srclang="en",ji.label="English",Oi.TEST_VID.appendChild(ji)}Oi.isSupported=function(){try{Oi.TEST_VID.volume=.5}catch(t){return!1}return!(!Oi.TEST_VID||!Oi.TEST_VID.canPlayType)},Oi.canPlayType=function(t){return Oi.TEST_VID.canPlayType(t)},Oi.canPlaySource=function(t,e){return Oi.canPlayType(t.type)},Oi.canControlVolume=function(){try{var t=Oi.TEST_VID.volume;return Oi.TEST_VID.volume=t/2+.1,t!==Oi.TEST_VID.volume}catch(e){return!1}},Oi.canMuteVolume=function(){try{var t=Oi.TEST_VID.muted;return Oi.TEST_VID.muted=!t,Oi.TEST_VID.muted?vt(Oi.TEST_VID,"muted","muted"):yt(Oi.TEST_VID,"muted","muted"),t!==Oi.TEST_VID.muted}catch(e){return!1}},Oi.canControlPlaybackRate=function(){if(b&&k&&E<58)return!1;try{var t=Oi.TEST_VID.playbackRate;return Oi.TEST_VID.playbackRate=t/2+.1,t!==Oi.TEST_VID.playbackRate}catch(e){return!1}},Oi.canOverrideAttributes=function(){if(P)return!1;try{var t=function(){};Object.defineProperty(o.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(o.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(o.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(o.createElement("audio"),"innerHTML",{get:t,set:t})}catch(e){return!1}return!0},Oi.supportsNativeTextTracks=function(){return j||y&&k},Oi.supportsNativeVideoTracks=function(){return!(!Oi.TEST_VID||!Oi.TEST_VID.videoTracks)},Oi.supportsNativeAudioTracks=function(){return!(!Oi.TEST_VID||!Oi.TEST_VID.audioTracks)},Oi.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Oi.prototype.featuresVolumeControl=Oi.canControlVolume(),Oi.prototype.featuresMuteControl=Oi.canMuteVolume(),Oi.prototype.featuresPlaybackRate=Oi.canControlPlaybackRate(),Oi.prototype.featuresSourceset=Oi.canOverrideAttributes(),Oi.prototype.movingMediaElementInDOM=!y,Oi.prototype.featuresFullscreenResize=!0,Oi.prototype.featuresProgressEvents=!0,Oi.prototype.featuresTimeupdateEvents=!0,Oi.prototype.featuresNativeTextTracks=Oi.supportsNativeTextTracks(),Oi.prototype.featuresNativeVideoTracks=Oi.supportsNativeVideoTracks(),Oi.prototype.featuresNativeAudioTracks=Oi.supportsNativeAudioTracks();var Ai=Oi.TEST_VID&&Oi.TEST_VID.constructor.prototype.canPlayType,Ii=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Di=/^video\/mp4/i;Oi.patchCanPlayType=function(){w>=4&&!S&&!k?Oi.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Ii.test(t)?"maybe":Ai.call(this,t)}:_&&(Oi.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Di.test(t)?"maybe":Ai.call(this,t)})},Oi.unpatchCanPlayType=function(){var t=Oi.TEST_VID.constructor.prototype.canPlayType;return Oi.TEST_VID.constructor.prototype.canPlayType=Ai,t},Oi.patchCanPlayType(),Oi.disposeMediaElement=function(t){if(t){t.parentNode&&t.parentNode.removeChild(t);while(t.hasChildNodes())t.removeChild(t.firstChild);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},Oi.resetMediaElement=function(t){if(t){var e=t.querySelectorAll("source"),r=e.length;while(r--)t.removeChild(e[r]);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Oi.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Oi.prototype["set"+ve(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){Oi.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Oi.prototype["set"+ve(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){Oi.prototype[t]=function(){return this.el_[t]()}}),_r.withSourceHandlers(Oi),Oi.nativeSourceHandler={},Oi.nativeSourceHandler.canPlayType=function(t){try{return Oi.TEST_VID.canPlayType(t)}catch(e){return""}},Oi.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Oi.nativeSourceHandler.canPlayType(t.type);if(t.src){var r=ir(t.src);return Oi.nativeSourceHandler.canPlayType("video/"+r)}return""},Oi.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)},Oi.nativeSourceHandler.dispose=function(){},Oi.registerSourceHandler(Oi.nativeSourceHandler),_r.registerTech("Html5",Oi);var Ni=M(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Li=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ri={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Bi=["tiny","xsmall","small","medium","large","xlarge","huge"],Mi={};Bi.forEach(function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Mi[t]="vjs-layout-"+e});var Hi={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ui=function(t){function e(r,n,i){if(L(this,e),r.id=r.id||n.id||"vjs_video_"+Dt(),n=z(e.getTagSettings(r),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"===typeof r.closest){var o=r.closest("[lang]");o&&o.getAttribute&&(n.language=o.getAttribute("lang"))}else{var s=r;while(s&&1===s.nodeType){if(ft(s).hasOwnProperty("lang")){n.language=s.getAttribute("lang");break}s=s.parentNode}}var a=B(this,t.call(this,null,n,i));if(a.log=Y(a.id_),a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=r,a.tagAttributes=r&&ft(r),a.language(a.options_.language),n.languages){var c={};Object.getOwnPropertyNames(n.languages).forEach(function(t){c[t.toLowerCase()]=n.languages[t]}),a.languages_=c}else a.languages_=e.prototype.options_.languages;a.cache_={},a.poster_=n.poster||"",a.controls_=!!n.controls,a.cache_.lastVolume=1,r.controls=!1,r.removeAttribute("controls"),r.hasAttribute("autoplay")?a.options_.autoplay=!0:a.autoplay(a.options_.autoplay),a.scrubbing_=!1,a.el_=a.createEl(),a.cache_.lastPlaybackRate=a.defaultPlaybackRate(),de(a,{eventBusKey:"el_"});var u=ge(a.options_);if(n.plugins){var h=n.plugins;Object.keys(h).forEach(function(t){if("function"!==typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](h[t])},a)}a.options_.playerOptions=u,a.middleware_=[],a.initChildren(),a.isAudio("audio"===r.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),y||a.addClass("vjs-workinghover"),e.players[a.id_]=a;var p=l.split(".")[0];return a.addClass("vjs-v"+p),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("fullscreenchange",a.handleFullscreenChange_),a.on("stageclick",a.handleStageClick_),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.changingSrc_=!1,a.playWaitingForReady_=!1,a.playOnLoadstart_=null,a}return R(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Rr(this),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.tag,r=void 0,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();n?r=this.el_=e.parentNode:s||(r=this.el_=t.prototype.createEl.call(this,"div"));var a=ft(e);if(s){r=this.el_=e,e=this.tag=o.createElement("video");while(r.children.length)e.appendChild(r.firstChild);ut(r,"video-js")||lt(r,"video-js"),r.appendChild(e),n=this.playerElIngest_=r,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach(function(t){"undefined"!==typeof r[t]&&(e[t]=r[t])})}if(e.setAttribute("tabindex","-1"),a.tabindex="-1",x&&(e.setAttribute("role","application"),a.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach(function(t){"class"===t?(r.className+=" "+a[t],s&&(e.className+=" "+a[t])):(r.setAttribute(t,a[t]),s&&e.setAttribute(t,a[t]))}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused"),!0!==i.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Zt("vjs-styles-dimensions");var c=Ot(".vjs-styles-defaults"),u=Ot("head");u.insertBefore(this.styleEl_,c?c.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var l=e.getElementsByTagName("a"),h=0;h<l.length;h++){var p=l.item(h);lt(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(r,e),ct(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=r,r},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var r=t+"_";if(void 0===e)return this[r]||0;if(""===e)return this[r]=void 0,void this.updateStyleEl_();var n=parseFloat(e);isNaN(n)?J.error('Improper value "'+e+'" supplied for for '+t):(this[r]=n,this.updateStyleEl_())},e.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?(this.addClass("vjs-fluid"),this.fill(!1)):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.prototype.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(!0!==i.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,e=void 0,r=void 0,n=void 0;r=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var o=r.split(":"),s=o[1]/o[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*s,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),te(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*s+"%;\n      }\n    ")}else{var a="number"===typeof this.width_?this.width_:this.options_.width,c="number"===typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),c>=0&&(u.height=c))}},e.prototype.loadTech_=function(t,e){var r=this;this.tech_&&this.unloadTech_();var n=ve(t),i=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==n&&this.tag&&(_r.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var o="string"!==typeof this.autoplay()&&this.autoplay(),s={source:e,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};br.names.forEach(function(t){var e=br[t];s[e.getterName]=r[e.privateName]}),z(s,this.options_[n]),z(s,this.options_[i]),z(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var a=_r.getTech(t);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(ee(this,this.handleTechReady_),!0),Me.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Li.forEach(function(t){r.on(r.tech_,t,r["handleTech"+ve(t)+"_"])}),Object.keys(Ri).forEach(function(t){r.on(r.tech_,t,function(e){0===r.tech_.playbackRate()&&r.tech_.seeking()?r.queuedCallbacks_.push({callback:r["handleTech"+Ri[t]+"_"].bind(r),event:e}):r["handleTech"+Ri[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||ct(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){var t=this;br.names.forEach(function(e){var r=br[e];t[r.privateName]=t[r.getterName]()}),this.textTracksJson_=Me.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.prototype.tech=function(t){return void 0===t&&J.warn(s(Ni)),this.tech_},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(t){J("deleting tag.poster throws in some browsers",t)}},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.prototype.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"===typeof t){var r=function(){var t=e.muted();e.muted(!0);var r=e.play();if(r&&r.then&&r["catch"])return r["catch"](function(r){e.muted(t)})},n=void 0;if("any"===t?(n=this.play(),n&&n.then&&n["catch"]&&n["catch"](function(){return r()})):n="muted"===t?r():this.play(),n&&n.then&&n["catch"])return n.then(function(){e.trigger({type:"autoplay-success",autoplay:t})})["catch"](function(r){e.trigger({type:"autoplay-failure",autoplay:t})})}},e.prototype.updateSourceCaches_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t,r="";"string"!==typeof e&&(e=t.src,r=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!r&&(r=Fr(this,e)),this.cache_.source=ge({},t,{src:e,type:r});for(var n=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),i=[],o=this.$$("source"),s=[],a=0;a<o.length;a++){var c=ft(o[a]);i.push(c),c.src&&c.src===e&&s.push(c.src)}s.length&&!n.length?this.cache_.sources=i:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},e.prototype.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var r=function(t){return e.updateSourceCaches_(t)},n=this.currentSource().src,i=t.src;if(n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(r=function(){}),r(i),!t.src){var o=function t(r){if("sourceset"!==r.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}e.tech_.off(["sourceset","loadstart"],t)};this.tech_.one(["sourceset","loadstart"],o)}}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},e.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(J.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){xt(t)&&this.controls_&&(this.paused()?Ne(this.play()):this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){this.ready(function(){if(t in Ir)return Or(this.middleware_,this.tech_,t,e);if(t in Dr)return jr(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(r){throw J(r),r}},!0)},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Ar)return xr(this.middleware_,this.tech_,t);if(t in Dr)return jr(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw J("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw J("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw J(e),e}}},e.prototype.play=function(){var t=this,e=this.options_.Promise||i.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},e.prototype.play_=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void e(this.techGet_("play"));this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){t.playWaitingForReady_=!1,e(t.play())})}},e.prototype.pause=function(){this.techCall_("pause")},e.prototype.paused=function(){return!1!==this.techGet_("paused")},e.prototype.played=function(){return this.techGet_("played")||Se(0,0)},e.prototype.scrubbing=function(t){if("undefined"===typeof t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.prototype.currentTime=function(t){return"undefined"!==typeof t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Se(0,0)),t},e.prototype.bufferedPercent=function(){return Ce(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),r=t.end(t.length-1);return r>e&&(r=e),r},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},e.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},e.prototype.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},e.prototype.requestFullscreen=function(){var t=ke;this.isFullscreen(!0),t.requestFullscreen?($t(o,t.fullscreenchange,ee(this,function e(r){this.isFullscreen(o[t.fullscreenElement]),!1===this.isFullscreen()&&Wt(o,t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},e.prototype.exitFullscreen=function(){var t=ke;this.isFullscreen(!1),t.requestFullscreen?o[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=o.documentElement.style.overflow,$t(o,"keydown",ee(this,this.fullWindowOnEscKey)),o.documentElement.style.overflow="hidden",lt(o.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,Wt(o,"keydown",this.fullWindowOnEscKey),o.documentElement.style.overflow=this.docOrigOverflow,ht(o.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,r=0,n=this.options_.techOrder;r<n.length;r++){var i=n[r],o=_r.getTech(i);if(o||(o=be.getComponent(i)),o){if(o.isSupported()&&(e=o.canPlayType(t),e))return e}else J.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e=this,r=this.options_.techOrder.map(function(t){return[t,_r.getTech(t)]}).filter(function(t){var e=t[0],r=t[1];return r?r.isSupported():(J.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(t,e,r){var n=void 0;return t.some(function(t){return e.some(function(e){if(n=r(t,e),n)return!0})}),n},i=void 0,o=function(t){return function(e,r){return t(r,e)}},s=function(t,r){var n=t[0],i=t[1];if(i.canPlaySource(r,e.options_[n.toLowerCase()]))return{source:r,tech:n}};return i=this.options_.sourceOrder?n(t,r,o(s)):n(r,t,s),i||!1},e.prototype.src=function(t){var e=this;if("undefined"===typeof t)return this.cache_.src||"";var r=Vr(t);r.length?(this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),Er(this,r[0],function(t,n){e.middleware_=n,e.cache_.sources=r,e.updateSourceCaches_(t);var i=e.src_(t);if(i)return r.length>1?e.src(r.slice(1)):(e.changingSrc_=!1,e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady());Pr(n,e.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.prototype.src_=function(t){var e=this,r=this.selectSource([t]);return!r||(ye(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){e.changingSrc_=!1}),!1))},e.prototype.load=function(){this.techCall_("load")},e.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},e.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},e.prototype.currentSource=function(){return this.cache_.source||{}},e.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},e.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"===typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},e.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},e.prototype.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.prototype.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Ae(t),this.addClass("vjs-error"),J.error("(CODE:"+this.error_.code+" "+Ae.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},e.prototype.reportUserActivity=function(t){this.userActivity_=!0},e.prototype.userActive=function(t){if(void 0===t)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,r=void 0,n=ee(this,this.reportUserActivity),i=function(t){t.screenX===e&&t.screenY===r||(e=t.screenX,r=t.screenY,n())},o=function(){n(),this.clearInterval(t),t=this.setInterval(n,250)},s=function(e){n(),this.clearInterval(t)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",s),this.on("keydown",n),this.on("keyup",n);var a=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var t=this.options_.inactivityTimeout;t<=0||(a=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},e.prototype.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},e.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.prototype.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},e.prototype.addTextTrack=function(t,e,r){if(this.tech_)return this.tech_.addTextTrack(t,e,r)},e.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},e.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.track,r=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(r)},e.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},e.prototype.languages=function(){return ge(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=ge(this.options_),e=t.tracks;t.tracks=[];for(var r=0;r<e.length;r++){var n=e[r];n=ge(n),n.player=void 0,t.tracks[r]=n}return t},e.prototype.createModal=function(t,e){var r=this;e=e||{},e.content=t||"";var n=new Fe(this,e);return this.addChild(n),n.on("dispose",function(){r.removeChild(n)}),n.open(),n},e.prototype.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),r=0;r<Bi.length;r++){var n=Bi[r],i=this.breakpoints_[n];if(e<=i){if(t===n)return;t&&this.removeClass(Mi[t]),this.addClass(Mi[n]),this.breakpoint_=n;break}}},e.prototype.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},e.prototype.breakpoints=function(t){return void 0===t?z(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=z({},Hi,t),this.updateCurrentBreakpoint_(),z(this.breakpoints_))},e.prototype.responsive=function(t){if(void 0===t)return this.responsive_;t=Boolean(t);var e=this.responsive_;return t!==e?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},e.prototype.currentBreakpoint=function(){return this.breakpoint_},e.prototype.currentBreakpointClass=function(){return Mi[this.breakpoint_]||""},e.getTagSettings=function(t){var e={sources:[],tracks:[]},r=ft(t),n=r["data-setup"];if(ut(t,"vjs-fill")&&(r.fill=!0),ut(t,"vjs-fluid")&&(r.fluid=!0),null!==n){var i=a(n||"{}"),o=i[0],s=i[1];o&&J.error(o),z(r,s)}if(z(e,r),t.hasChildNodes())for(var c=t.childNodes,u=0,l=c.length;u<l;u++){var h=c[u],p=h.nodeName.toLowerCase();"source"===p?e.sources.push(ft(h)):"track"===p&&e.tracks.push(ft(h))}return e},e.prototype.flexNotSupported_=function(){var t=o.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(be);br.names.forEach(function(t){var e=br[t];Ui.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Ui.players={};var Fi=i.navigator;Ui.prototype.options_={techOrder:_r.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Fi&&(Fi.languages&&Fi.languages[0]||Fi.userLanguage||Fi.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},P||Ui.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Ui.prototype[t]=function(){return this.techGet_(t)}}),Li.forEach(function(t){Ui.prototype["handleTech"+ve(t)+"_"]=function(){return this.trigger(t)}}),be.registerComponent("Player",Ui);var Vi="plugin",zi="activePlugins_",$i={},Wi=function(t){return $i.hasOwnProperty(t)},qi=function(t){return Wi(t)?$i[t]:void 0},Ki=function(t,e){t[zi]=t[zi]||{},t[zi][e]=!0},Xi=function(t,e,r){var n=(r?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},Ji=function(t,e){var r=function(){Xi(this,{name:t,plugin:e,instance:null},!0);var r=e.apply(this,arguments);return Ki(this,t),Xi(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r},Yi=function(t,e){return e.prototype.name=t,function(){Xi(this,{name:t,plugin:e,instance:null},!0);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=new(Function.prototype.bind.apply(e,[null].concat([this].concat(n))));return this[t]=function(){return o},Xi(this,o.getEventHash()),o}},Gi=function(){function t(e){if(L(this,t),this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,de(this),delete this.trigger,me(this,this.constructor.defaultState),Ki(e,this.name),this.dispose=ee(this,this.dispose),e.on("dispose",this.dispose)}return t.prototype.version=function(){return this.constructor.VERSION},t.prototype.getEventHash=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},t.prototype.trigger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return qt(this.eventBusEl_,t,this.getEventHash(e))},t.prototype.handleStateChanged=function(t){},t.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[zi][t]=!1,this.player=this.state=null,e[t]=Yi(t,$i[t])},t.isBasic=function(e){var r="string"===typeof e?qi(e):e;return"function"===typeof r&&!t.prototype.isPrototypeOf(r.prototype)},t.registerPlugin=function(e,r){if("string"!==typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+("undefined"===typeof e?"undefined":N(e))+".");if(Wi(e))J.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Ui.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!==typeof r)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+("undefined"===typeof r?"undefined":N(r))+".");return $i[e]=r,e!==Vi&&(t.isBasic(r)?Ui.prototype[e]=Ji(e,r):Ui.prototype[e]=Yi(e,r)),r},t.deregisterPlugin=function(t){if(t===Vi)throw new Error("Cannot de-register base plugin.");Wi(t)&&(delete $i[t],delete Ui.prototype[t])},t.getPlugins=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys($i),e=void 0;return t.forEach(function(t){var r=qi(t);r&&(e=e||{},e[t]=r)}),e},t.getPluginVersion=function(t){var e=qi(t);return e&&e.VERSION||""},t}();Gi.getPlugin=qi,Gi.BASE_PLUGIN_NAME=Vi,Gi.registerPlugin(Vi,Gi),Ui.prototype.usingPlugin=function(t){return!!this[zi]&&!0===this[zi][t]},Ui.prototype.hasPlugin=function(t){return!!Wi(t)};var Qi=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof e?"undefined":N(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},Zi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){t.apply(this,arguments)},n={};for(var i in"object"===("undefined"===typeof e?"undefined":N(e))?(e.constructor!==Object.prototype.constructor&&(r=e.constructor),n=e):"function"===typeof e&&(r=e),Qi(r,t),n)n.hasOwnProperty(i)&&(r.prototype[i]=n[i]);return r};"undefined"===typeof HTMLVideoElement&&rt()&&(o.createElement("video"),o.createElement("audio"),o.createElement("track"),o.createElement("video-js"));var to=function(t){return 0===t.indexOf("#")?t.slice(1):t};function eo(t,e,r){var n=eo.getPlayer(t);if(n)return e&&J.warn('Player "'+t+'" is already initialised. Options will not be applied.'),r&&n.ready(r),n;var i="string"===typeof t?Ot("#"+to(t)):t;if(!nt(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.body.contains(i)||J.warn("The element supplied is not included in the DOM"),e=e||{},eo.hooks("beforesetup").forEach(function(t){var r=t(i,ge(e));$(r)&&!Array.isArray(r)?e=ge(e,r):J.error("please return an object in beforesetup hooks")});var s=be.getComponent("Player");return n=new s(i,e,r),eo.hooks("setup").forEach(function(t){return t(n)}),n}if(eo.hooks_={},eo.hooks=function(t,e){return eo.hooks_[t]=eo.hooks_[t]||[],e&&(eo.hooks_[t]=eo.hooks_[t].concat(e)),eo.hooks_[t]},eo.hook=function(t,e){eo.hooks(t,e)},eo.hookOnce=function(t,e){eo.hooks(t,[].concat(e).map(function(e){var r=function r(){return eo.removeHook(t,r),e.apply(void 0,arguments)};return r}))},eo.removeHook=function(t,e){var r=eo.hooks(t).indexOf(e);return!(r<=-1)&&(eo.hooks_[t]=eo.hooks_[t].slice(),eo.hooks_[t].splice(r,1),!0)},!0!==i.VIDEOJS_NO_DYNAMIC_STYLE&&rt()){var ro=Ot(".vjs-styles-defaults");if(!ro){ro=Zt("vjs-styles-defaults");var no=Ot("head");no&&no.insertBefore(ro,no.firstChild),te(ro,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Qt(1,eo),eo.VERSION=l,eo.options=Ui.prototype.options_,eo.getPlayers=function(){return Ui.players},eo.getPlayer=function(t){var e=Ui.players,r=void 0;if("string"===typeof t){var n=to(t),i=e[n];if(i)return i;r=Ot("#"+n)}else r=t;if(nt(r)){var o=r,s=o.player,a=o.playerId;if(s||e[a])return s||e[a]}},eo.getAllPlayers=function(){return Object.keys(Ui.players).map(function(t){return Ui.players[t]}).filter(Boolean)},eo.players=Ui.players,eo.getComponent=be.getComponent,eo.registerComponent=function(t,e){_r.isTech(e)&&J.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),be.registerComponent.call(be,t,e)},eo.getTech=_r.getTech,eo.registerTech=_r.registerTech,eo.use=kr,!P&&Object.defineProperty?(Object.defineProperty(eo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(eo.middleware,"TERMINATOR",{value:Cr,writeable:!1,enumerable:!0})):eo.middleware={TERMINATOR:Cr},eo.browser=D,eo.TOUCH_ENABLED=A,eo.extend=Zi,eo.mergeOptions=ge,eo.bind=ee,eo.registerPlugin=Gi.registerPlugin,eo.deregisterPlugin=Gi.deregisterPlugin,eo.plugin=function(t,e){return J.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Gi.registerPlugin(t,e)},eo.getPlugins=Gi.getPlugins,eo.getPlugin=Gi.getPlugin,eo.getPluginVersion=Gi.getPluginVersion,eo.addLanguage=function(t,e){var r;return t=(""+t).toLowerCase(),eo.options.languages=ge(eo.options.languages,(r={},r[t]=e,r)),eo.options.languages[t]},eo.log=J,eo.createLogger=Y,eo.createTimeRange=eo.createTimeRanges=Se,eo.formatTime=un,eo.setFormatTime=an,eo.resetFormatTime=cn,eo.parseUrl=rr,eo.isCrossOrigin=or,eo.EventTarget=ie,eo.on=$t,eo.one=Kt,eo.off=Wt,eo.trigger=qt,eo.xhr=c,eo.TextTrack=ur,eo.AudioTrack=lr,eo.VideoTrack=hr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){eo[t]=function(){return J.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),At[t].apply(null,arguments)}}),eo.computedStyle=G,eo.dom=At,eo.url=sr,t.exports=eo},4127:function(t,e,r){"use strict";var n=r("d233"),i=r("b313"),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(t){return s.call(t)},skipNulls:!1,strictNullHandling:!1},c=function t(e,r,i,o,s,c,u,l,h,p,d,f){var m=e;if("function"===typeof u)m=u(r,m);else if(m instanceof Date)m=p(m);else if(null===m){if(o)return c&&!f?c(r,a.encoder):r;m=""}if("string"===typeof m||"number"===typeof m||"boolean"===typeof m||n.isBuffer(m)){if(c){var v=f?r:c(r,a.encoder);return[d(v)+"="+d(c(m,a.encoder))]}return[d(r)+"="+d(String(m))]}var y,g=[];if("undefined"===typeof m)return g;if(Array.isArray(u))y=u;else{var b=Object.keys(m);y=l?b.sort(l):b}for(var w=0;w<y.length;++w){var _=y[w];s&&null===m[_]||(g=Array.isArray(m)?g.concat(t(m[_],i(r,_),i,o,s,c,u,l,h,p,d,f)):g.concat(t(m[_],r+(h?"."+_:"["+_+"]"),i,o,s,c,u,l,h,p,d,f)))}return g};t.exports=function(t,e){var r=t,s=e?n.assign({},e):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!==typeof s.encoder)throw new TypeError("Encoder has to be a function.");var u="undefined"===typeof s.delimiter?a.delimiter:s.delimiter,l="boolean"===typeof s.strictNullHandling?s.strictNullHandling:a.strictNullHandling,h="boolean"===typeof s.skipNulls?s.skipNulls:a.skipNulls,p="boolean"===typeof s.encode?s.encode:a.encode,d="function"===typeof s.encoder?s.encoder:a.encoder,f="function"===typeof s.sort?s.sort:null,m="undefined"!==typeof s.allowDots&&s.allowDots,v="function"===typeof s.serializeDate?s.serializeDate:a.serializeDate,y="boolean"===typeof s.encodeValuesOnly?s.encodeValuesOnly:a.encodeValuesOnly;if("undefined"===typeof s.format)s.format=i["default"];else if(!Object.prototype.hasOwnProperty.call(i.formatters,s.format))throw new TypeError("Unknown format option provided.");var g,b,w=i.formatters[s.format];"function"===typeof s.filter?(b=s.filter,r=b("",r)):Array.isArray(s.filter)&&(b=s.filter,g=b);var _,T=[];if("object"!==typeof r||null===r)return"";_=s.arrayFormat in o?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var S=o[_];g||(g=Object.keys(r)),f&&g.sort(f);for(var C=0;C<g.length;++C){var k=g[C];h&&null===r[k]||(T=T.concat(c(r[k],k,S,l,h,p?d:null,b,f,m,v,w,y)))}var E=T.join(u),P=!0===s.addQueryPrefix?"?":"";return E.length>0?P+E:""}},4173:function(t,e){var r=1e3,n=60*r,i=60*n,o=24*i,s=365.25*o;function a(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]),c=(e[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function c(t){return t>=o?Math.round(t/o)+"d":t>=i?Math.round(t/i)+"h":t>=n?Math.round(t/n)+"m":t>=r?Math.round(t/r)+"s":t+"ms"}function u(t){return l(t,o,"day")||l(t,i,"hour")||l(t,n,"minute")||l(t,r,"second")||t+" ms"}function l(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,e){e=e||{};var r=typeof t;if("string"===r&&t.length>0)return a(t);if("number"===r&&!1===isNaN(t))return e.long?u(t):c(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},4328:function(t,e,r){"use strict";var n=r("4127"),i=r("9e6a"),o=r("b313");t.exports={formats:o,parse:i,stringify:n}},"467f":function(t,e,r){"use strict";var n=r("2d83");t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},"4ca4":function(t,e,r){"use strict";var n=r("57c2"),i=r.n(n);i.a},"4de8":function(t,e){t.exports=function(t){return null===t||"function"!==typeof t&&"object"!==typeof t}},5270:function(t,e,r){"use strict";var n=r("c532"),i=r("c401"),o=r("2e67"),s=r("2444"),a=r("d925"),c=r("e683");function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){u(t),t.baseURL&&!a(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=t.adapter||s.adapter;return e(t).then(function(e){return u(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},"53a8":function(t,e){t.exports=n;var r=Object.prototype.hasOwnProperty;function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t}},"562e":function(t,e,r){"use strict";var n=r("0f7c"),i=r("0f01"),o=n.call(Function.call,String.prototype.replace),s=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=i.ToString(i.CheckObjectCoercible(this));return o(o(t,s,""),a,"")}},"57c2":function(t,e,r){},5975:function(t,e){t.exports=function(t){return t>=0?1:-1}},"5c93":function(t,e,r){},"5fdd":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"promotion-wrap",class:"1"===t.channel?"pc-wrap":""},[r("qunar-header",{attrs:{title:t.title}}),"1"===t.channel?r("pc-header"):t._e(),t.needShowOrder?r("order-atmosphere",{attrs:{channel:t.channel,compProps:t.atmosphereConfig}}):t._e(),t._l(t.children,function(t,e){return r(t.compName,{key:t.elementId,tag:"component",attrs:{compProps:t,compIndex:""+e}})}),r("top-btn",{attrs:{entryInfo:t.entryInfo}}),r("share-comp",{attrs:{shareInfo:t.share},on:{action:t.shareHandle}}),t.showToast?r("toast",{attrs:{msg:t.msg},model:{value:t.showToast,callback:function(e){t.showToast=e},expression:"showToast"}}):t._e(),t.showRules?r("rules",{attrs:{rules:t.rules},on:{action:t.rulesHandle}}):t._e(),t.rulesImg?r("rules-btn",{attrs:{rulesImg:t.rulesImg,hasOrder:t.needShowOrder},on:{action:t.rulesHandle}}):t._e()],2)},i=[],o=r("a34a"),s=r.n(o),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"comp_id_"+t.compProps.elementId,padding:t.imgs&&t.imgs.privateProps.padding}},[r(t.compName,{tag:"component",attrs:{compProps:t.imgs,compId:t.compProps.elementId+""},on:{action:t.actionHandle}}),r(t.servCompName,{tag:"component",attrs:{payLoad:t.payLoad,compIndex:t.compIndex,compProps:t.compProps},on:{finish:t.finishHandle}})],1)},c=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"comp-image-tiled"},t._l(t.imgs,function(e,n){return r("div",{key:n,attrs:{"data-actionid":"1","data-itemtext":"图片类组件","data-itemotherinfo":t.getLink(e)},on:{click:function(r){t.clickHandle(e,n)}}},[r("img",{attrs:{width:"100%",src:""+(t.picHost+e.imgLink)}})])}))},l=[];function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){p(t,e,r[e])})}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function f(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){d(o,n,i,s,a,"next",t)}function a(t){d(o,n,i,s,a,"throw",t)}s(void 0)})}}var m={props:{compId:String,compProps:{type:Object,default:function(){return{}}}},computed:{imgs:function(){return this.compProps.items&&this.compProps.items||[]},delay:function(){return this.compProps.privateProps&&this.compProps.privateProps.duration||3e3}},methods:{getLink:function(t){return 1===this.platform&&t.mpLink?t.mpLink:2===this.platform&&t.appLink?t.appLink:t.activeLink?t.activeLink:void 0},clickHandle:function(){var t=f(s.a.mark(function t(e,r){return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$emit("action",h({},e,{imgIndex:r,timeStamp:(new Date).getTime()}));case 1:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()}},v={mixins:[m]},y=v,g=(r("fa4c"),r("2877")),b=Object(g["a"])(y,u,l,!1,null,"12c36dbd",null);b.options.__file="ImageTiled.vue";var w=b.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"comp-image-slide swiper-container"},[r("div",{staticClass:"swiper-wrapper"},[t._l(t.imgs,function(e,n){return r("div",{key:n,staticClass:"swiper-slide",attrs:{"data-actionid":"1","data-itemtext":"图片类组件","data-itemotherinfo":t.getLink(e)},on:{click:function(r){t.clickHandle(e,n)}}},[r("img",{attrs:{width:"100%",src:""+(t.picHost+e.imgLink)}})])}),r("div",{staticClass:"swiper-pagination"})],2)])},T=[],S={mixins:[m],mounted:function(){var t=0,e=document.body.clientWidth;t=e<=720?e/375*20:40,this.swiper=new Swiper("#comp_id_".concat(this.compId," .comp-image-slide"),{slidesPerView:"auto",spaceBetween:t})}},C=S,k=(r("7a21"),Object(g["a"])(C,_,T,!1,null,"2f639069",null));k.options.__file="ImageSlide.vue";var E=k.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"comp-image-swiper swiper-container"},[r("div",{staticClass:"swiper-wrapper"},t._l(t.imgs,function(e,n){return r("div",{key:n,staticClass:"swiper-slide",attrs:{"data-actionid":"1","data-itemtext":"图片类组件","data-itemotherinfo":t.getLink(e)},on:{click:function(r){t.clickHandle(e,n)}}},[r("img",{attrs:{width:"100%",src:""+(t.picHost+e.imgLink)}})])})),r("div",{staticClass:"swiper-pagination"})])},x=[],O={mixins:[m],mounted:function(){this.swiper=new Swiper("#comp_id_".concat(this.compId," .comp-image-swiper"),{autoplay:{delay:this.delay},pagination:{el:".swiper-pagination"}})}},j=O,A=(r("6ef2"),Object(g["a"])(j,P,x,!1,null,"23804bc5",null));A.options.__file="ImageSwiper.vue";var I=A.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div")},N=[];function L(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function R(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){L(o,n,i,s,a,"next",t)}function a(t){L(o,n,i,s,a,"throw",t)}s(void 0)})}}var B={props:{payLoad:{type:Object,default:function(){return{}}}},watch:{payLoad:function(t){t&&this.doRedirect(t)}},methods:{doRedirect:function(){var t=R(s.a.mark(function t(e){var r;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getEnv();case 2:r=t.sent,1===r&&e.mpLink?wx.miniProgram&&wx.miniProgram.navigateTo({url:e.mpLink}):2===r&&e.appLink?window.location.href=e.appLink:e.activeLink&&(window.location.href=e.activeLink);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},M=B,H=Object(g["a"])(M,D,N,!1,null,null,null);H.options.__file="ServRedirectComp.vue";var U=H.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div")},V=[],z=r("a7e1"),$=r("4328"),W=r.n($),q=r("bc3a"),K=r.n(q),X=r("f2e8"),J=r.n(X),Y=r("3452"),G=r.n(Y),Q=r("2ef0"),Z=r("411e"),tt=r("720d"),et=r.n(tt),rt="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDIApzmogRLa0fp4+Y+6nhgVy6601d7ZlBzeicEXs06xRmfyf5wcW2E58yVmxyhyoHJgpRsOFPN6DbhFbM05VOzWZOtVUNPc3VYixmtAtOUKDqlVKf9Xq97jenlYZznEKzuezkVv7QlfmaACqgzm2dblRynXHh32lKzZoxrHUCSdQIDAQAB",nt=null,it=null,ot=function(t){var e=new et.a;return e.setPublicKey(rt),e.encrypt(t)},st=function(){var t=(new Date).getTime();if(!nt||!it||t-nt>1e4){nt=t;var e=G.a.MD5("".concat(nt,"_").concat(Math.random().toString(36).substr(2))).toString().substr(0,16),r=ot(e);it={origin:e,sec:r}}return it},at=function(t,e){var r=G.a.enc.Latin1.parse(t),n=G.a.enc.Latin1.parse(t),i=G.a.AES.encrypt(e,n,{mode:G.a.mode.CBC,padding:G.a.pad.ZeroPadding,iv:r}),o=i.toString();return o};function ct(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){ut(t,e,r[e])})}return t}function ut(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var lt="my_location",ht="production",pt=null,dt=z["Sniff"].bnb_tujia||{},ft=dt.uid,mt=void 0===ft?"":ft,vt=dt.vid,yt=void 0===vt?"":vt,gt=dt.model,bt=void 0===gt?"":gt,wt=z["Sniff"].uinfo&&z["Sniff"].uinfo.uid||"",_t={appVersion:yt,model:bt,deviceID:mt,source:z["Sniff"].qunar?"app":"touch",platform:z["Sniff"].ios?"ios":"adr",osVersion:z["Sniff"].osVersion,userID:wt,networkType:z["Sniff"].networkType};function Tt(){var t=window.location.hash||"",e=t.match(/#\/([\w]+)\?*/),r=e?e[1]:"",n=(t.match(/curPageId=([\w]+)(&|$)/),Ct(r)),i=t.match(/refPage=([\w]+)(&|$)/),o=i&&i[1]||"",s=t.match(/refPageId=([\w]+)(&|$)/),a=s?s[1]:"",c=t.match(/fromForLog=([A-Za-z\d-]+)(&|$)/),u=c&&c[1]||5400;return{curPage:r,curPageId:n,refPage:o,refPageId:a,fromForLog:u}}function St(t){var e=t.url,r=t.extraParam,n=void 0===r?{}:r;return new Promise(function(t,r){J()(e+W.a.stringify(n,{addQueryPrefix:!0}),{param:"callback",timeout:1e4},function(e,n){return e?r(e):t(n)})})}function Ct(t){var e=window.location.hash||"",r=e.match(/curPageId=([\w]+)(&|$)/),n=r?r[1]:pt||function(){var e=z["Sniff"].bnb_tujia.uid;return pt=G.a.MD5("".concat(e,"_").concat(t,"_").concat((new Date).getTime())).toString(),pt}();return n}function kt(t,e){return-1!==t.indexOf("?")?"&"===t[t.length-1]?t+=e:"?"===t[t.length-1]?t+=e:t+="&"+e:t+="?"+e,t}var Et=function(t){return{text:"text/plain;charset=UTF-8",json:"application/json;charset=UTF-8",form:"application/x-www-form-urlencoded;charset=UTF-8"}[t]||"*/*"},Pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Tt(),n=JSON.stringify(ct({},r,e,{errmsg:t,actTime:(new Date).toString("YYYY-MM-DD HH:mm:ss:SSS"),deviceInfo:_t}));jt({url:"/tjbnb/app/log/logfront",data:{logType:"errLog",logContent:n}}).then(function(t){})["catch"](function(t){})},xt=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=z["Sniff"].bnb_tujia||{},r=e.uid,n=e.gid,i=e.vid,o=e.pid,s=e.releaseType,a=void 0===s?"":s,c=e.model,u=void 0===c?"":c,l=z["Sniff"]||{},h=l.os,p=l.osVersion,d=l.qunar,f=l.uinfo,m=void 0===f?{}:f,v=Object(Z["getStorge"])(lt)||{},y=v.lat,g=v.lng,b=Tt(),w=ct({uid:r,gid:n,vid:i,pid:o,osVersion:p,releaseType:a,model:u,platform:z["Sniff"].ios?"iOS":"Android",appVersion:z["Sniff"].appVersion,currLatitude:y||"",currLongitude:g||"",lat:y||"",lon:g||"",cityName:"",userId:m.uid||"",userName:m.username||"",bucket:"B",osn:h||"pc",osv:p||"unknow",source:d?"mobile":"touch",traceId:G.a.MD5("".concat(r||"touch","-").concat((new Date).getTime())).toString()},b);return t?w:JSON.stringify(w)};function Ot(t){var e=t.url,r=void 0===e?"":e,n=t.method,i=void 0===n?"POST":n,o=t.data,s=t.timeout,a=void 0===s?1e4:s,c=t.headersConfig,u=void 0===c?{}:c,l=t.requestType,h=void 0===l?"json":l,p=t.responseType,d=void 0===p?"json":p,f=encodeURIComponent("_r"+Math.floor(1e5*Math.random()))+"="+encodeURIComponent(Date.now()),m="[object Object]"===Object.prototype.toString.call(o),v={};if(r){h&&(v["Content-Type"]=Et(h)),d&&(v["Accept"]=Et(d));var y={};if("POST"===i){var g="",b="prod"==ht;b&&(g=st(),v["4f6f44cf6b27bbaf"]=g.sec);var w=null;m&&(w=-1!==v["Content-Type"].indexOf("application/x-www-form-urlencoded")?stringifyUrlParam(o):b?at(g.origin,JSON.stringify(o)):JSON.stringify(o)),y={data:w}}else if("GET"===i)y={params:o,paramsSerializer:function(t){return W.a.stringify(t,{})}};else if("JSONP"===i)return St(t);var _=ct({url:kt(r,f),method:i,timeout:a,headers:ct({},v,u)},y),T=!0;return t.url.indexOf("/log/logfront")>-1&&(T=!1),K.a.request(_).then(function(t){return t.data}).then(function(t){return Object(z["syncTime"])(t.time),t})["catch"](function(e){throw T&&Pt(JSON.stringify(e),{requestUrl:t.url,npm:"axios",version:"2.0"}),e})}}function jt(t){if(Object(Q["isObject"])(t)&&t.url){var e={};return e.b=t.data||{},t.exceptC||(e.c=xt()),t.extraParam&&(e=ct({},e,t.extraParam)),t.extraCParams&&e.c&&(e.c=ct({},e.c,t.extraCParams)),t.data=e,Ot(t)}}var At=jt;function It(t){return It="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Nt(t,e,r[e])})}return t}function Nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Lt=5,Rt=Tt(),Bt=(Rt.curPage,Rt.curPageId),Mt=Rt.refPage,Ht=Rt.refPageId,Ut=(Rt.fromForLog,z["Sniff"].bnb_tujia||{}),Ft=Ut.uid,Vt=void 0===Ft?"":Ft,zt=Ut.vid,$t=void 0===zt?"":zt,Wt=Ut.model,qt=void 0===Wt?"":Wt,Kt=Object(Z["getStorge"])("my_location")||{},Xt=Kt.lat,Jt=void 0===Xt?"":Xt,Yt=Kt.lng,Gt=void 0===Yt?"":Yt,Qt=z["Sniff"].uinfo&&z["Sniff"].uinfo.uid||"",Zt={appVersion:$t,model:qt,deviceID:Vt,source:z["Sniff"].qunar?"app":"touch",platform:z["Sniff"].ios?"ios":"adr",osVersion:z["Sniff"].osVersion,userID:Qt,networkType:z["Sniff"].networkType},te={logVersion:"2.3",commonParams:Dt({},Zt,{lat:Jt||"",lng:Gt||""}),userActions:[]};function ee(t){return t&&Object(Q["isPlainObject"])(t)?t:{}}function re(t){var e=t||{},r=e.actPos,n=void 0===r?"":r,i=e.actText,o=void 0===i?"":i,s=e.actInfo,a=void 0===s?"":s,c=e.extraParams,u=e.actPage,l=void 0===u?"":u,h=(e.appointedPageParams,a&&"object"===It(a)?JSON.stringify(a):a),p=ee(c),d=Dt({refer:Ht,logid:Bt,refPage:Mt,actPage:l,actTime:Object(z["getLogDate"])(),actPlace:"".concat(Jt,",").concat(Gt),un:z["Sniff"].getCookieUn(),actPos:n,actItemText:o,actItemOtherInfo:h,fromForLog:Object(Z["getFromForLog"])()},p),f=Object(Z["getStorge"])("action_log")||[];if(f.push(d),f.length>=Lt)return setTimeout(function(){ne(f)},0),void Object(Z["removeStorge"])("action_log");Object(Z["saveStorge"])("action_log",f)}var ne=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",r=Dt({},te,{userActions:t}),n="pv"===e?"displayLog":"actionLog";At({url:"/tjbnb/app/log/logfront",data:{logType:n,logContent:JSON.stringify(r)}}).then(function(t){})["catch"](function(t){})};var ie=re,oe={props:{compProps:{type:Object,default:function(){return{}}},payLoad:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},watch:{payLoad:function(t){t&&this.doRedirect(t)}},methods:{doRedirect:function(t){var e={actPos:"".concat(this.compIndex,"_").concat(t.imgIndex),actPage:"cms_".concat(this.$root.promotionId),actText:"cms_".concat(this.$root.promotionId,"_imageComp")};if(ie(e),t.activeLink){var r=t.activeLink;Object(Z["openScheme"])(r)}}}},se=oe,ae=Object(g["a"])(se,F,V,!1,null,null,null);ae.options.__file="QServRedirectComp.vue";var ce=ae.exports,ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div")},le=[],he=r("ed08");function pe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function de(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function fe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){de(o,n,i,s,a,"next",t)}function a(t){de(o,n,i,s,a,"throw",t)}s(void 0)})}}var me={props:{payLoad:{type:Object,default:function(){return{}}}},watch:{payLoad:{handler:function(t){t&&this.doRedirect(t)},deep:!0}},methods:{doRedirect:function(){var t=fe(s.a.mark(function t(e){var r,n,i;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getEnv();case 3:r=t.sent,n="",1===r&&e.mpLink?n=e.mpLink:2===r&&e.appLink?n=e.appLink:e.activeLink&&(n=e.activeLink),window._vds&&window._vds.track&&window._vds.track("".concat(this.$root.isMobile?"H5":"PC","_cityname_cms"),(i={},pe(i,"".concat(this.$root.isMobile?"H5":"PC","_cityname_cms_bian"),n),pe(i,"activityid_cms",this.$root.promotionId),i)),1===r&&e.mpLink?wx.miniProgram&&wx.miniProgram.navigateTo({url:e.mpLink}):2===r&&e.appLink?window.location.href=e.appLink:e.activeLink&&(window.location.href=e.activeLink),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),Object(he["a"])(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}},ve=me,ye=Object(g["a"])(ve,ue,le,!1,null,null,null);ye.options.__file="TServRedirectComp.vue";var ge=ye.exports,be=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showToast?r("toast",{attrs:{msg:t.msg},model:{value:t.showToast,callback:function(e){t.showToast=e},expression:"showToast"}}):t._e()},we=[],_e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cms-client-toast",class:t.opacity},[t._v(t._s(t.msg))])},Te=[],Se={data:function(){return{opacity:""}},props:{msg:{type:String,default:function(){return""}}},mounted:function(){var t=this;setTimeout(function(){t.opacity="show"},0),setTimeout(function(){t.opacity="hide"},1500),setTimeout(function(){t.$emit("input",!1)},2e3)}},Ce=Se,ke=(r("6e3e"),Object(g["a"])(Ce,_e,Te,!1,null,"7e30c4dc",null));ke.options.__file="Toast.vue";var Ee=ke.exports,Pe=r("bdd0");function xe(t){return Pe["a"].post("/feapi/bingo/h5/promotion/redpacket/searchactivitybyactivityidlist",{activityIdList:t})}function Oe(t){return Pe["a"].post("/feapi/bingo/h5/promotion/redpacket/receiveredpacket",{activityId:t})}function je(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Ae(t,e,r[e])})}return t}function Ae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ie(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function De(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){Ie(o,n,i,s,a,"next",t)}function a(t){Ie(o,n,i,s,a,"throw",t)}s(void 0)})}}var Ne={components:{Toast:Ee},props:{compProps:{type:Object,default:function(){return{}}},payLoad:{type:Object,default:function(){return{}}}},data:function(){return{showToast:!1,msg:""}},watch:{payLoad:function(t){t&&1===t.status?this.doRedpacketHandler(t.id):t&&3===t.status?this.doShowToast("已经领取过了"):t&&4===t.status&&this.doShowToast("好可惜，红包抢完了")}},mounted:function(){var t=De(s.a.mark(function t(){var e,r,n,i,o=this;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=[],r=[],this.compProps.mate.items.forEach(function(t){var n=null;n=void 0!==o.$root.isOldUser&&t.userType&&o.$root.isOldUser?t.oldUser:void 0!==o.$root.isOldUser&&t.userType&&!o.$root.isOldUser||void 0===o.$root.isOldUser&&t.userType?t.newUser:t,e.push(n.id),r.push(n)}),t.next=6,xe(e);case 6:n=t.sent,n&&0===n.errcode?(i=n.data.redpacketActivities.map(function(t){var e=r.find(function(e){return e.id===t.activityConfigId});return je({},t,e)}),this.$emit("init",i)):this.$emit("init",[]),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),Object(he["a"])(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),methods:{doRedpacketHandler:function(){var t=De(s.a.mark(function t(e){var r,n;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,window._vds&&window._vds.track&&window._vds.track("".concat(this.$root.isMobile?"H5":"PC","_coupons_cms"),(r={},Ae(r,"".concat(this.$root.isMobile?"H5":"PC","_coupons_cms_bian"),e),Ae(r,"activityid_cms",this.$root.promotionId),r)),t.next=4,Oe(e);case 4:n=t.sent,n&&0===n.errcode?(this.doShowToast("领取成功"),this.$emit("finish",{type:"doRedpacket",data:{id:e}})):n&&55004===n.errcode?this.goLoginPage():n&&165002===n.errcode?(this.doShowToast("已经领取过了"),this.$emit("finish",{type:"redpacketDone",data:{id:e}})):n&&165001===n.errcode?(this.doShowToast("好可惜，红包抢完了"),this.$emit("finish",{type:"overRedpacket",data:{id:e}})):this.doShowToast(n.errmsg),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),this.doShowToast("系统开小差了，一会再试试吧"),Object(he["a"])(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),doShowToast:function(t){this.msg=t,this.showToast=!0}}},Le=Ne,Re=Object(g["a"])(Le,be,we,!1,null,null,null);Re.options.__file="TServRedPacketComp.vue";var Be=Re.exports,Me=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.showToast?r("toast",{attrs:{msg:t.msg},model:{value:t.showToast,callback:function(e){t.showToast=e},expression:"showToast"}}):t._e(),t.hasDialog?r("div",[t.showDialog?r("div",{staticClass:"mask-wrapper",on:{click:t.onHideDialog}},[r("img",{staticClass:"img",attrs:{src:t.receivedSuccessImgUrl},on:{click:t.onGoUse}})]):t._e()]):t._e()],1)},He=[];function Ue(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e="/tjbnb/app/coupon/searchactivity",r={activityIdList:t};return At({url:e,data:r}).then(function(t){return Promise.resolve(t)})}function Fe(t){var e="/tjbnb/app/coupon/receive",r={activityId:t};return At({url:e,data:r}).then(function(t){return Promise.resolve(t)})}window.hysdk;var Ve=r("5ee5"),ze=r.n(Ve);var $e=function(){var t="/tjbnb/app/user/check";return At({url:t}).then(function(t){var e=t.data||{},r=e.newUser;!1===r?Object(Z["saveSession"])(Z["sessionKeys"].IS_OLD_USER,1):Object(Z["saveSession"])(Z["sessionKeys"].IS_OLD_USER,2)})["catch"](function(t){Object(Z["saveSession"])(Z["sessionKeys"].IS_OLD_USER,2)})},We=new ze.a;function qe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Ke(t,e,r[e])})}return t}function Ke(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xe=window.hysdk,Je=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null,r=!1,n=new Promise(function(t,n){e=setTimeout(function(){return r=!0,n({errMsg:"LoginTimeout"})},2e3)}),i=new Promise(function(n,i){Xe.ready(function(o){Xe.getUserInfo({success:function(o){if(o.ret&&o.data)return n();if(!t||r)return i();e&&clearTimeout(e);var s={success:function(t){return n()},fail:function(t){return i("需要登录")}};if(z["Sniff"].qunar)Xe.login(qe({},s,{shouldOpenLogin:!0}));else{window.scrollTo(0,0);var a=window.ucAPI.loginDialog.createInstance(s);a.instanceFunc.showDialog();var c=document.getElementsByClassName("ucApiDialog-dialog")[0],u=document.getElementsByClassName("ucApiDialog-content")[0];c.addEventListener("touchstart",function(t){t.target!==c&&t.target!==u||i("需要登录")})}},fail:function(t){i(t)}})})});return Promise.race([i,n])};function Ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Ge(t,e,r[e])})}return t}function Ge(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qe(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function Ze(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){Qe(o,n,i,s,a,"next",t)}function a(t){Qe(o,n,i,s,a,"throw",t)}s(void 0)})}}var tr={components:{Toast:Ee},props:{compProps:{type:Object,default:function(){return{}}},payLoad:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},data:function(){return{showToast:!1,msg:"",showDialog:!1,hasDialog:!1,receivedSuccessImgUrl:"",currCoupon:null}},watch:{payLoad:function(t){if(t){var e={actPos:"".concat(this.compIndex,"_").concat(t.redPackIndex),actPage:"cms_".concat(this.$root.promotionId),actText:"cms_".concat(this.$root.promotionId,"_redPack")};ie(e),1===t.status?this.fetchCoupon(t):3===t.status?this.goList(t):4===t.status&&this.doShowToast("好可惜，红包抢完了")}}},mounted:function(){var t=this;this.initRedPacket(),We.$on("refresh_redpack",function(e){e!==t.compIndex&&t.refreshRedpack()})},methods:{initRedPacket:function(){var t=Ze(s.a.mark(function t(){var e,r,n,i,o,a,c,u;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.compProps.mate||{},r=e.items,n=e.privateProps,this.receivedSuccessImgUrl=this.picHost+n.receivedSuccessImgUrl||"",this.hasDialog=n.hasDialog,i=[],o=[],t.next=7,this.getUserType();case 7:return a=t.sent,r.forEach(function(t){var e=null;e=t.userType&&1===a?t.oldUser:t.userType&&2===a?t.newUser:t,i.push(e.id),o.push(e)}),t.next=11,Ue(i);case 11:c=t.sent,c&&0===c.errcode?(u=c.data.redpacketActivities.map(function(t){var e=o.find(function(e){return e.id===t.activityConfigId});return Ye({},t,e)}),this.$emit("init",u||[])):this.$emit("init",[]);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),doShowToast:function(t){this.msg=t,this.showToast=!0},fetchCoupon:function(t){var e=this,r=t.id;try{this.$emit("finish",{type:"updateUnLoginTimeStamp",data:{id:r}}),Je(!0).then(function(n){We.$emit("refresh_redpack",e.compIndex),e.refreshRedpack(),Fe(r).then(function(n){if(n)switch(n.errcode){case 0:e.$emit("finish",{type:"doRedpacket",data:{id:r}}),e.doShowDialog(t);break;case 165002:e.doShowToast("已经领取过了"),e.$emit("finish",{type:"redpacketDone",data:{id:r}});break;case 165001:e.doShowToast("好可惜，红包抢完了"),e.$emit("finish",{type:"overRedpacket",data:{id:r}});break;default:e.doShowToast(n.errmsg);break}else e.doShowToast("好可惜，红包抢完了")})})["catch"](function(){e.doShowToast("需要登录")})}catch(n){this.doShowToast("系统开小差了，一会再试试吧")}},refreshRedpack:function(){var t=Ze(s.a.mark(function t(){return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$e();case 2:this.initRedPacket();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),doShowDialog:function(t){this.hasDialog?(this.showDialog=!0,this.currCoupon=t):this.doShowToast("领取成功")},goList:function(t){var e=Object(Z["getSession"])(Z["sessionKeys"].JUMP_LIST_URL),r=t.useUrl||"".concat(e,"&fromPage=cms_").concat(this.$root.promotionId,"&refPage=cms_").concat(this.$root.promotionId);setTimeout(function(){return Object(Z["openScheme"])(r)},20)},onHideDialog:function(){this.showDialog=!1},onGoUse:function(){this.showDialog=!1,this.goList(this.currCoupon),this.currCoupon=null},getUserType:function(){var t=Ze(s.a.mark(function t(){var e;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=Object(Z["getSession"])(Z["sessionKeys"].IS_OLD_USER),!e){t.next=3;break}return t.abrupt("return",e);case 3:return t.next=5,$e();case 5:return t.abrupt("return",Object(Z["getSession"])(Z["sessionKeys"].IS_OLD_USER));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},er=tr,rr=(r("d59e"),Object(g["a"])(er,Me,He,!1,null,"4c9b0d44",null));rr.options.__file="QServRedPacketComp.vue";var nr=rr.exports,ir=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.showToast?r("toast",{attrs:{msg:t.msg},model:{value:t.showToast,callback:function(e){t.showToast=e},expression:"showToast"}}):t._e()],1)},or=[];function sr(t){var e="/tjbnb/app/draw/showdrawpage",r={promotionCode:t};return At({url:e,data:r}).then(function(t){return Promise.resolve(t)})}function ar(t){var e="/tjbnb/app/draw/getprizelist",r={activityCode:t,oneself:!1,pageIndex:1,pageSize:20};return At({url:e,data:r}).then(function(t){return Promise.resolve(t)})}function cr(t){var e="/tjbnb/app/draw/getprizelist",r={activityCode:t,oneself:!0,pageIndex:1,pageSize:20};return At({url:e,data:r}).then(function(t){return Promise.resolve(t)})}function ur(t){var e="/tjbnb/app/draw/startdraw",r={promotionCode:t};return At({url:e,data:r}).then(function(t){return Promise.resolve(t)})}function lr(t){var e="/tjbnb/app/draw/savemailaddress";return At({url:e,data:t}).then(function(t){return Promise.resolve(t)})}function hr(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function pr(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){hr(o,n,i,s,a,"next",t)}function a(t){hr(o,n,i,s,a,"throw",t)}s(void 0)})}}function dr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){fr(t,e,r[e])})}return t}function fr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var mr={components:{Toast:Ee},props:{compProps:{type:Object,default:function(){return{}}},payLoad:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},data:function(){return{prizeInfo:{myPrize:[],allPrize:{},otherPrize:{}},showToast:!1,serverTime:null,firstLogIn:!0}},created:function(){this.initPrize()},watch:{payLoad:{handler:function(t){var e=this;switch(t.type){case"drawprize":this.drawprize();break;case"goUse":this.goUse();break;case"setAddress":this.setAddress(t);break;case"refreshPrize":setTimeout(function(){e.initPrize()},800);break;default:}},deep:!0}},methods:{initPrize:function(){var t=this,e=this.compProps.mate||{},r=e.items;sr(r.id).then(function(e){t.serverTime=e.time,t.prizeInfo.allPrize=e.data||{};var n=e.data.prizeList,i=void 0===n?[]:n;i.length&&(t.prizeInfo.prizeList=t.addDrawBtn(i)),t.$emit("init",dr({},t.prizeInfo,{id:r.id})),t.getOtherDrawList(),t.getMyDrawList()})["catch"](function(t){console.log(t)})},getOtherDrawList:function(){var t=pr(s.a.mark(function t(){var e,r,n,i;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.compProps.mate||{},r=e.items,t.prev=1,t.next=4,ar(r.id);case 4:n=t.sent,i=n.data.list||[],i.length&&(i.map(function(t){t.headUrl=t.imgUrl;var e=t.mobile+"";t.luckPeople=e.substr(0,3)+"****"+e.substr(7),t.prizeName="刚刚抽到"+t.prizeName}),this.prizeInfo.otherPrize=i,this.$emit("update",this.prizeInfo)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}(),getMyDrawList:function(){var t=this;Je().then(pr(s.a.mark(function e(){var r,n,i,o;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.compProps.mate||{},n=r.items,e.prev=1,e.next=4,cr(n.id);case 4:i=e.sent,o=i.data.list||[],o.length&&(o.map(function(t){t.lotteryCode=t.recordCode}),t.prizeInfo.myPrize=o,t.$emit("update",t.prizeInfo)),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])})))},dealAllPrizeList:function(t){var e,r;t.forEach(function(n,i){3===i&&(e=n,t[i]=t[8]),5===i&&(r=n,t[i]=e,t[8]=r),6===i&&(r=n,t[i]=t[7],t[7]=r)})},addDrawBtn:function(t){return t.splice(4,0,{prizeType:-1}),this.dealAllPrizeList(t),t},drawprize:function(){var t=this;if(this.canDrawPrize())return this.doShowToast("当前活动未激活，暂不可进行抽奖"),void this.$emit("finish",{type:"cantDraw",data:(new Date).getTime()});Je(!0).then(function(){var e=pr(s.a.mark(function e(r){var n,i;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.compProps.mate.items,e.prev=1,t.firstLogIn&&(t.initPrize(),t.firstLogIn=!1),e.next=5,ur(n.id);case 5:i=e.sent,i&&0===i.errcode?t.$emit("finish",{type:"drawFinish",data:i.data}):(t.$emit("finish",{type:"cantDraw",data:(new Date).getTime()}),t.doShowToast(i.errmsg)),e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](1),t.doShowToast("系统开小差了，一会再试试吧"),t.$emit("finish",{type:"cantDraw",data:(new Date).getTime()}),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}())["catch"](function(e){console.log(e),t.$emit("finish",{type:"cantDraw",data:(new Date).getTime()}),t.doShowToast("请先登录")})},goUse:function(t){var e=Object(Z["getSession"])(Z["sessionKeys"].JUMP_LIST_URL);setTimeout(function(){return Object(Z["openScheme"])(e)},20)},setAddress:function(){var t=pr(s.a.mark(function t(e){var r,n;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.data,t.next=4,lr(r);case 4:n=t.sent,n&&0===n.errcode&&(this.getMyDrawList(),this.$emit("finish",{type:"saveFinish",data:(new Date).getTime()})),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),this.doShowToast("系统开小差了，一会再试试吧"),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),canDrawPrize:function(){var t=this.prizeInfo.allPrize,e=t.startTime,r=t.endTime,n=this.serverTime,i=Object(Z["format"])("hh:mm:ss",new Date);return e=new Date(e).getTime(),r=new Date(r).getTime(),n=new Date(n+" "+i).getTime(),n<e||n>r},doShowToast:function(t){this.msg=t,this.showToast=!0}}},vr=mr,yr=Object(g["a"])(vr,ir,or,!1,null,null,null);yr.options.__file="QServPrizeComp.vue";var gr=yr.exports,br=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showToast?r("Toast",{attrs:{msg:t.msg},model:{value:t.showToast,callback:function(e){t.showToast=e},expression:"showToast"}}):t._e()},wr=[];function _r(t){return Pe["a"].post("/feapi/bingo/h5/promotion/draw/getotherprizelist",{promotionCode:t})}function Tr(t){return Pe["a"].post("/feapi/bingo/h5/promotion/draw/myprize",{promotionCode:t})}function Sr(t){return Pe["a"].post("/feapi/bingo/h5/promotion/draw/savemailaddress",t)}function Cr(t){return Pe["a"].post("/feapi/bingo/h5/promotion/draw/showdrawpage",{promotionCode:t})}function kr(t){return Pe["a"].post("/feapi/bingo/h5/promotion/draw/startdraw",{promotionCode:t})}function Er(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function Pr(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){Er(o,n,i,s,a,"next",t)}function a(t){Er(o,n,i,s,a,"throw",t)}s(void 0)})}}function xr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Or(t,e,r[e])})}return t}function Or(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jr={props:{compProps:{type:Object,default:function(){return{}}},payLoad:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},data:function(){return{showToast:!1,msg:"",prizeInfo:{myPrize:[],allPrize:{},otherPrize:[]}}},created:function(){this.initDrawPage()},watch:{payLoad:function(t){switch(t.type){case"drawprize":this.doStartDraw();break;case"setAddress":this.submitMailAddress(t.data);break;case"refreshPrize":this.initDrawPage();break;default:}}},methods:{initDrawPage:function(){var t=this,e=this.compProps.mate||{},r=e.items;Cr(r.id).then(function(e){if(e&&0===e.errcode){t.prizeInfo.allPrize=e.data||{};var n=e.data.prizeList,i=void 0===n?[]:n;i.length&&(t.prizeInfo.prizeList=t.addDrawBtn(i)),t.refreshOtherPrizeList(r.id),t.refreshMyPrize(),t.$emit("init",xr({},t.prizeInfo,{id:r.id}))}else e.errmsg&&t.doShowToast(e.errmsg)})},refreshOtherPrizeList:function(){var t=Pr(s.a.mark(function t(e){var r;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_r(e);case 3:r=t.sent,r&&0===r.errcode&&(this.prizeInfo.otherPrize=r.data,this.$emit("update",this.prizeInfo)),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),Object(he["a"])(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),refreshMyPrize:function(){var t=Pr(s.a.mark(function t(e){var r,n,i;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=this.compProps.mate||{},n=r.items,t.prev=1,t.next=4,Tr(n.id);case 4:i=t.sent,i&&0===i.errcode&&(this.prizeInfo.myPrize=i.data,this.$emit("update",this.prizeInfo)),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0),Object(he["a"])(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),submitMailAddress:function(){var t=Pr(s.a.mark(function t(e){var r;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sr(e);case 3:r=t.sent,r&&0===r.errcode?(this.refreshMyPrize(),this.$emit("finish",{type:"saveFinish",data:(new Date).getTime()})):this.doShowToast(r.errmsg),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),Object(he["a"])(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),doStartDraw:function(){var t=Pr(s.a.mark(function t(){var e,r;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.compProps.mate.items,!this.canDrawPrize()){t.next=5;break}return this.doShowToast("当前活动未激活，暂不可进行抽奖"),this.$emit("finish",{type:"cantDraw",data:(new Date).getTime()}),t.abrupt("return");case 5:return t.prev=5,t.next=8,kr(e.id);case 8:r=t.sent,r&&0===r.errcode?this.$emit("finish",{type:"drawFinish",data:r.data}):r&&55004===r.errcode?this.goLoginPage():(this.$emit("finish",{type:"cantDraw",data:(new Date).getTime()}),this.doShowToast(r.errmsg)),t.next=18;break;case 12:t.prev=12,t.t0=t["catch"](5),this.doShowToast("系统开小差了，一会再试试吧"),this.$emit("finish",{type:"cantDraw",data:(new Date).getTime()}),console.log(t.t0),Object(he["a"])(t.t0);case 18:case"end":return t.stop()}},t,this,[[5,12]])}));return function(){return t.apply(this,arguments)}}(),dealAllPrizeList:function(t){var e,r;t.forEach(function(n,i){3===i&&(e=n,t[i]=t[8]),5===i&&(r=n,t[i]=e,t[8]=r),6===i&&(r=n,t[i]=t[7],t[7]=r)})},addDrawBtn:function(t){return t.splice(4,0,{prizeType:-1}),this.dealAllPrizeList(t),t},canDrawPrize:function(){var t=this.prizeInfo.allPrize,e=t.startTime,r=t.endTime,n=t.serverTime;return n<e||n>r},doShowToast:function(t){this.msg=t,this.showToast=!0}},components:{Toast:Ee}},Ar=jr,Ir=Object(g["a"])(Ar,br,wr,!1,null,null,null);Ir.options.__file="TServPrizeComp.vue";var Dr=Ir.exports,Nr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showToast?r("toast",{attrs:{msg:t.msg},model:{value:t.showToast,callback:function(e){t.showToast=e},expression:"showToast"}}):t._e()},Lr=[];function Rr(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return Pe["a"].post("/feapi/bingo/h5/promotion/search/searchhousebyhouseidlist",{houseIdList:t,activityIds:e,needUnactive:!1,noNeedPrice:!1,pageSize:+n,defaultBetweenDays:+r,promotion:i,needNoRepositoty:o})}function Br(t){t.cityId,t.landlordIds,t.defaultBetweenDays,t.pagesize,t.pageIndex;return Pe["a"].post("/feapi/bingo/h5/promotion/search/searchbylandlords",arguments[0])}function Mr(t){return Pe["a"].post("/feapi/bingo/h5/favorite/checkfavorite",{houseIdList:t})}function Hr(t,e){var r="";return r=e?"/feapi/bingo/h5/favorite/deletefavorite":"/feapi/bingo/h5/favorite/addfavorite",Pe["a"].post(r,{houseId:t})}var Ur=r("a78e"),Fr=r.n(Ur);function Vr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){zr(t,e,r[e])})}return t}function zr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $r(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function Wr(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){$r(o,n,i,s,a,"next",t)}function a(t){$r(o,n,i,s,a,"throw",t)}s(void 0)})}}var qr={components:{Toast:Ee},props:{compProps:{type:Object,default:function(){return{}}},payLoad:{type:Object,default:function(){return{}}}},data:function(){return{showToast:!1,msg:"hello world"}},watch:{payLoad:function(t){t&&"openHouseInfo"===t.type?this.showHouseInfo(t.data,t.checkInDate,t.checkOutDate):t&&"favoriteHouse"===t.type&&this.doFavorite(t.data)}},mounted:function(){this.initHouses()},methods:{showHouseInfo:function(){var t=Wr(s.a.mark(function t(e,r,n){var i,o,a;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=r||"",n=n||"",t.prev=2,window._vds&&window._vds.track&&window._vds.track("".concat(this.$root.isMobile?"H5":"PC","_houseid_cms"),(i={},zr(i,"".concat(this.$root.isMobile?"H5":"PC","_houseid_cms_bian"),e),zr(i,"activityid_cms",this.$root.promotionId),i)),o="",this.$root.atm_source&&(o="&atm_source=".concat(this.$root.atm_source)),t.next=8,this.getEnv();case 8:a=t.sent,2===a?window.location.href="https://app.tujia.com/go/unitdetail?id=".concat(e,"&start=").concat(r,"&end=").concat(n,"&isFromPromotion=true").concat(o):1===a?wx.miniProgram.navigateTo({url:"/pages/unitDetails_v2/unitDetails?unitId=".concat(e,"&beginDate=").concat(r,"&endDate=").concat(n).concat(o)}):this.$root.isMobile?(Fr.a.set("".concat("tujia.com","_MobileContext_StartDate"),r,{domain:"tujia.com"}),Fr.a.set("".concat("tujia.com","_MobileContext_EndDate"),n,{domain:"tujia.com"}),window.location.href="".concat(this.mTujiaHost,"/detail/").concat(e,".htm")):window.location.href="".concat(this.pcTujiaHost,"/detail/").concat(e,".htm?startDate=").concat(r,"&endDate=").concat(n).concat(o),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),Object(he["a"])(t.t0);case 15:case"end":return t.stop()}},t,this,[[2,12]])}));return function(e,r,n){return t.apply(this,arguments)}}(),doFavorite:function(){var t=Wr(s.a.mark(function t(e){var r;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Hr(e.id,e.isLike);case 3:r=t.sent,r&&0===r.errcode?this.$emit("finish",{type:"favirote",data:{id:e.id,isLike:!e.isLike}}):r&&55004===r.errcode&&this.goLoginPage(),t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),this.msg="系统开小差了，一会再试试吧",this.showToast=!0,Object(he["a"])(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),initHouses:function(){var t=Wr(s.a.mark(function t(){var e,r,n,i,o,a,c,u,l,h,p,d,f,m=this;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e=[],r=[],n=null,i=this.compProps.maxShowNumber,"1"!==this.compProps.houseChoice){t.next=14;break}return o=[],this.compProps.landlordIds&&this.compProps.landlordIds.split(",").forEach(function(t){o.push(+t)}),a={cityId:+this.$root.cityId||0,landlordIds:o||[],defaultBetweenDays:+this.compProps.priceTime,pagesize:+i,pageIndex:+this.compProps.pageIndex||1},t.next=11,Br(a);case 11:n=t.sent,t.next=19;break;case 14:return this.compProps.houses.forEach(function(t){e.push(t.id)}),c=this.compProps.promotionId&&this.compProps.promotionId.split(","),t.next=18,Rr(e,c||[],this.compProps.priceTime,i,this.$root.promotionId,this.compProps.needNoRepositoty);case 18:n=t.sent;case 19:if(u=null,"T20190108142924"===this.$root.promotionId||"T20190118154654"===this.$root.promotionId){t.next=24;break}return t.next=23,Mr(e);case 23:u=t.sent;case 24:u&&0===u.errcode&&(r=u.data.houseIdList),l=0,h=[],0===n.errcode&&n.data&&(l=n.data.totalCount,h=n.data.items),l>+i&&(l=+i,h=h.splice(0,l)),p=!1,d=!1,h=h&&h.map(function(t){var e=t;"0"===m.compProps.houseChoice&&(e=m.compProps.houses.find(function(e){return e.id+""===t.unitId+""}));var n=r.find(function(e){return e===t.unitId}),i=t.priceTags||[];"2"===m.compProps.mode&&(i=t.priceTags&&t.priceTags.splice(0,1)),i&&i.length>0&&(p=!0);var o=t.specialTags||[];return o.length>0&&(d=!0),Vr({},t,{priceTags:i,comment:e.comment,isLike:void 0!==n})}),h=h&&h.map(function(t){return Vr({},t,{hasPriceTags:p,hasSpecialTags:d})}),f={totalCount:l,items:h},this.$emit("init",f),t.next=42;break;case 37:t.prev=37,t.t0=t["catch"](0),this.msg="系统开小差了，一会再试试吧",this.showToast=!0,Object(he["a"])(t.t0);case 42:case"end":return t.stop()}},t,this,[[0,37]])}));return function(){return t.apply(this,arguments)}}()}},Kr=qr,Xr=Object(g["a"])(Kr,Nr,Lr,!1,null,null,null);Xr.options.__file="TServHouseComp.vue";var Jr=Xr.exports,Yr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div")},Gr=[];function Qr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r="/tjbnb/app/list/list",n={pageIndex:1,activityPageSize:30,searchOptions:t,activityIds:e,pageName:"activeityPage"};return At({url:r,data:n}).then(function(t){return Promise.resolve(t.data)})}function Zr(t){var e=t.isLike,r=t.id,n=e?"/tjbnb/app/favorite/delete":"/tjbnb/app/favorite/submit";return At({url:n,encrypt:!1,data:{houseId:r,source:"activeityPage"}}).then(function(t){return Promise.resolve(t)})["catch"](function(t){})}function tn(){return new Promise(function(t,e){z["Sniff"].isLogin()?At({url:"/tjbnb/app/favorite/getHouseId"}).then(function(e){if(e.ret&&e.data){var r=e.data.houseIds||[];t(r)}else t([])})["catch"](function(e){t([])}):t([])})}function en(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){rn(t,e,r[e])})}return t}function rn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nn(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function on(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){nn(o,n,i,s,a,"next",t)}function a(t){nn(o,n,i,s,a,"throw",t)}s(void 0)})}}var sn=864e5,an={props:{compProps:{type:Object,default:function(){return{}}},payLoad:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},watch:{payLoad:function(t){var e=this;if(t&&"openHouseInfo"===t.type){var r={actPos:"".concat(this.compIndex,"_").concat(t.houseIndex,"_1"),actPage:"cms_".concat(this.$root.promotionId),actText:"cms_".concat(this.$root.promotionId,"_houseCard")};ie(r),this.showHouseInfo(t.data)}else t&&"favoriteHouse"===t.type&&Je(!0).then(function(r){var n={actPos:"".concat(e.compIndex,"_").concat(t.data.houseIndex,"_0"),actPage:"cms_".concat(e.$root.promotionId),actText:"cms_".concat(e.$root.promotionId,"_favoriteBtn")};ie(n),e.doFavorite(t.data)})["catch"](function(t){console.log(t)})}},mounted:function(){this.initHouses()},methods:{showHouseInfo:function(t){var e,r,n="detail",i=Object(Z["getFromForLog"])(),o=this.$root.activityInfo,s=o.startTime,a=o.endTime,c=t;if(s&&a)e=Object(Z["format"])("yyyy-MM-dd",new Date(s)),r=Object(Z["format"])("yyyy-MM-dd",new Date(a));else{var u=new Date;e=Object(Z["format"])("yyyy-MM-dd",u),r=Object(Z["format"])("yyyy-MM-dd",new Date(+u.getTime()+sn))}var l={fromForLog:i,houseID:c,fromDate:e,toDate:r},h=Object(z["queryUriTujia"])(n,l),p=Object(Z["throttle"])(this.openScheme,800);p(h)},doFavorite:function(){var t=on(s.a.mark(function t(e){var r,n,i;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Zr(e);case 2:r=t.sent,n=Object(Z["getStorge"])(Z["localKeys"].HOUSE_COLLECTION)||{},i=e.id,r.ret&&(e.isLike?(n&&n[i]&&delete n[i],Object(Z["saveStorge"])(Z["localKeys"].HOUSE_COLLECTION,n)):(n[i]=!0,Object(Z["saveStorge"])(Z["localKeys"].HOUSE_COLLECTION,n)),this.$emit("finish",{type:"favirote",data:{id:e.id,isLike:!e.isLike}}));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),openScheme:function(t){if(z["Sniff"].qunar){var e=window.hysdk;e&&e.openWebView({url:t,type:"navibar-none"})}else{var r=z["Sniff"].ios?"qunariphone":"qunaraphone",n="".concat(r,"://hy?url=").concat(encodeURIComponent(t),"&type=navibar-none");window.location.href=n,window.setTimeout(function(){window.location.href=t},500)}},initHouses:function(){var t=on(s.a.mark(function t(){var e,r,n,i,o,a,c,u,l,h,p,d,f,m,v=this;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.compProps.promotionId&&this.compProps.promotionId.split(",")||[],r=this.compProps.priceTime||1,n=+r-1,i=new Date,o=Object(Z["format"])("yyyy-MM-dd",new Date(+i.getTime()+sn*n)),a=Object(Z["format"])("yyyy-MM-dd",new Date(+i.getTime()+sn*r)),c=[{key:2,value:o},{key:3,value:a},{key:4,value:7}],this.compProps.houses.forEach(function(t){var e={key:9,value:t.id};c.push(e)}),t.next=10,Qr(c,e);case 10:return u=t.sent,t.next=13,tn();case 13:l=t.sent,h=u.searchHouseData&&u.searchHouseData.totalCount||0,p=u.searchHouseData&&u.searchHouseData.items||[],d=this.compProps.maxShowNumber,h>d&&(h=d,p=p.splice(0,h)),f=!1,m=!1,p=p&&p.map(function(t){var e=v.compProps.houses.find(function(e){return e.id+""===t.id+""}),r=l.find(function(e){return e+""===t.id+""}),n=t.dynamicTags||[];"2"===v.compProps.mode&&(n=n.splice(0,1));var i=t.specialTags||[];i.length>0&&(m=!0),n.length>0&&(f=!0);var o=[t.roomCount,t.bedCount,t.pplNum];return en({},t,{priceTags:n,hasPriceTags:f,hasSpecialTags:m,unitId:t.id,unitName:t.name,pictureList:t.imgUrls,finalPrice:+t.price||"",productPrice:+t.originPrice,defaultPicture:t.imgUrl,unitSummeries:[{text:Object(Z["formatText"])(o)}],comment:e&&e.comment,isLike:void 0!==r})}),p=p&&p.map(function(t){return en({},t,{hasPriceTags:f,hasSpecialTags:m})}),this.$emit("init",{totalCount:h,items:p});case 23:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},cn=an,un=Object(g["a"])(cn,Yr,Gr,!1,null,null,null);un.options.__file="QServHouseComp.vue";var ln=un.exports,hn={CServRedirectComp:U,QServRedirectComp:ce,TServRedirectComp:ge,CServRedPacketComp:Be,QServRedPacketComp:nr,TServRedPacketComp:Be,QServPrizeComp:gr,TServPrizeComp:Dr,CServHouseComp:Jr,QServHouseComp:ln,TServHouseComp:Jr},pn={computed:{servCompName:function(){return this.compProps.mate?this.compProps.mate.serviceComp:""}}};function dn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){fn(t,e,r[e])})}return t}function fn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var mn={mixins:[pn],data:function(){return{payLoad:null}},components:dn({ImageTiled:w,ImageSlide:E,ImageSwiper:I},hn),props:{compProps:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},computed:{compName:function(){switch(this.compProps.mate.mode+""){case"0":return"ImageTiled";case"1":return"ImageSwiper";case"2":return"ImageSlide";default:return""}},imgs:function(){return this.compProps.mate?this.compProps.mate:null}},methods:{actionHandle:function(t){this.$root.isPreview||(this.payLoad=t)},finishHandle:function(){this.payLoad=null}}},vn=mn,yn=(r("f163"),Object(g["a"])(vn,a,c,!1,null,"0ffc5ee4",null));yn.options.__file="ElementImageComp.vue";var gn=yn.exports,bn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"comp_id_"+t.compProps.elementId}},[r(t.compName,{tag:"component",attrs:{compProps:t.docContent,compId:t.compProps.elementId+""}})],1)},wn=[],_n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"comp-doc-section ql-editor",style:{"background-color":""+t.compProps.backgroundColor},domProps:{innerHTML:t._s(t.compProps.content)}})},Tn=[],Sn={props:{compProps:{type:Object,default:function(){return{}}}}},Cn=Sn,kn=(r("94d1"),Object(g["a"])(Cn,_n,Tn,!1,null,"21ab8668",null));kn.options.__file="DocContent.vue";var En=kn.exports,Pn={name:"ElementDocComp",components:{DocContent:En},props:{compProps:{type:Object,default:function(){return{}}}},computed:{compName:function(){return"DocContent"},docContent:function(){return this.compProps.mate&&this.compProps.mate.privateProps||{}}}},xn=Pn,On=Object(g["a"])(xn,bn,wn,!1,null,null,null);On.options.__file="ElementDocComp.vue";var jn=On.exports,An=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"comp_id_"+t.compProps.elementId}},[r(t.compName,{tag:"component",attrs:{compProps:t.items,compId:t.compProps.elementId+""},on:{action:t.actionHandle}}),r(t.servCompName,{tag:"component",attrs:{payLoad:t.payLoad,compIndex:t.compIndex,compProps:t.compProps},on:{init:t.initHandle,finish:t.finishHandle}})],1)},In=[],Dn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"comp-redpacket"},t._l(t.redpackets,function(e,n){return r("div",{key:n,attrs:{"data-actionid":"2","data-itemtext":"红包类组件","data-itemotherinfo":"id="+e.id+"&status="+e.status},on:{click:function(r){t.clickHandle(e,n)}}},[r("img",{attrs:{width:"100%",src:t.picHost+e.imgLink[t.getRedpacketStatus(e.status)]}})])}))},Nn=[];function Ln(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Rn(t,e,r[e])})}return t}function Rn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Bn={props:{compProps:{type:Array,default:function(){return[]}}},data:function(){return{type:0,redpackets:[]}},watch:{compProps:{handler:function(t){var e=this;t&&(this.redpackets=t.map(function(t){var r=0;return 3===t.activityType&&(e.type=1),4===t.activityStatus?r=4:3===t.activityStatus?r=2:2===t.activityStatus&&!1===t.receive&&(r=1),t.receive&&(r=3),Ln({},t,{status:r})}))},deep:!0}},methods:{clickHandle:function(t,e){t.redPackIndex=e,this.$emit("action",t)},getRedpacketStatus:function(t){if(0===this.type)switch(t){case 3:return 1;case 4:case 2:return 2;default:return 0}else if(1===this.type)switch(t){case 3:return 1;case 4:return 2;case 2:return 2;case 1:return 0;default:return 3}}}},Mn=Bn,Hn=(r("ddc6"),Object(g["a"])(Mn,Dn,Nn,!1,null,"3a8ceec4",null));Hn.options.__file="RedPacket.vue";var Un=Hn.exports;function Fn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Vn(t,e,r[e])})}return t}function Vn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var zn={mixins:[pn],data:function(){return{items:[],payLoad:null}},components:Fn({RedPacket:Un},hn),props:{compProps:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},computed:{compName:function(){switch(this.compProps.mate.mode){case"0":case"1":return"RedPacket";default:return""}}},methods:{initHandle:function(t){this.items=t},actionHandle:function(t){this.$root.isPreview||(this.payLoad=Fn({},t,{timeStamp:(new Date).getTime()}))},finishHandle:function(t){this.payLoad=null;var e=this.items.findIndex(function(e){return e.id===t.data.id});"doRedpacket"===t.type?this.items[e].receive=!0:"redpacketDone"===t.type?this.items[e].receive=!0:"overRedpacket"===t.type?this.items[e].activityStatus=4:"updateUnLoginTimeStamp"===t.type&&(this.items[e].timeStamp=Date.now())}}},$n=zn,Wn=Object(g["a"])($n,An,In,!1,null,null,null);Wn.options.__file="ElementRedPacketComp.vue";var qn=Wn.exports,Kn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"comp_id_"+t.compProps.elementId}},[r(t.compName,{tag:"component",attrs:{compProps:t.houses,compId:t.compProps.elementId+""},on:{action:t.actionHandle}}),r(t.servCompName,{tag:"component",attrs:{payLoad:t.payLoad,compIndex:t.compIndex,compProps:t.houstList},on:{init:t.initHandle,finish:t.finishHandle}})],1)},Xn=[],Jn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{class:t.warpClass,style:"background-color: "+t.backgroundColor},[r("div",{class:t.compProps.mode===t.mode.swiperCol?"swiper-wrapper wrapper-width":""},t._l(t.compProps.items,function(e,n){return r("div",{key:n,staticClass:"house-warp",class:t.compProps.mode===t.mode.swiperCol?"swiper-slide":"",attrs:{"data-actionid":"3","data-itemtext":e.unitName,"data-itemotherinfo":e.unitId},on:{click:function(r){t.openHouseInfo(r,e.unitId,n,e.checkInDate,e.checkOutDate)}}},[t.compProps.mode===t.mode.singleCol||t.compProps.mode===t.mode.singleCommentCol?r("div",{staticClass:"house-imgs-warp swiper-container"},[t.compProps.privateProps&&t.compProps.privateProps.atmosphere?r("img",{staticClass:"atmosphere-icon",attrs:{src:t.compProps.privateProps&&t.picHost+t.compProps.privateProps.atmosphere}}):t._e(),r("div",{staticClass:"swiper-wrapper"},t._l(e.pictureList,function(e,n){return r("div",{key:n,staticClass:"swiper-slide"},[r("img",{attrs:{width:"100%",src:e},on:{error:t.imgErrorHandle}})])}))]):r("div",{staticClass:"house-imgs-warp"},[t.compProps.privateProps&&t.compProps.privateProps.atmosphere?r("img",{staticClass:"atmosphere-icon",attrs:{src:t.compProps.privateProps&&t.picHost+t.compProps.privateProps.atmosphere}}):t._e(),r("div",[r("img",{attrs:{width:"100%",src:e.defaultPicture},on:{error:t.imgErrorHandle}})])]),r("div",{staticClass:"house-detail-warp"},[e.hasSpecialTags?r("div",{staticClass:"house-detail-tags"},t._l(e.specialTags,function(e,n){return r("div",{key:n,staticClass:"detail-tag-1"},[t._v(t._s(e.name))])})):t._e(),t.compProps.privateProps&&t.compProps.privateProps.isHideHouseName?t._e():r("div",{staticClass:"house-detail-name",class:t.unitNameClass},[t._v(t._s(e.unitName))]),r("div",{staticClass:"house-detail-unit"},t._l(e.unitSummeries,function(e){return r("label",{key:e.text},[t._v(t._s(e.text))])})),e.finalPrice?r("div",{staticClass:"house-detail-price"},[r("div",{staticClass:"detail-price-now"},[t._v("¥"+t._s(e.finalPrice))]),e.finalPrice<e.productPrice?r("div",{staticClass:"detail-price-before"},[t._v("¥"+t._s(e.productPrice))]):t._e(),r("div",{staticClass:"detail-price-reason"},[t._l(e.priceTags,function(e){return r("label",{key:e.text},[t._v(t._s(e.text||e.name))])}),e.priceTags.length<=0&&e.hasPriceTags?r("label",{staticStyle:{"background-color":"transparent"}},[t._v(t._s(" "))]):t._e()],2)]):r("div",{staticClass:"house-detail-empty"},[r("div",{staticClass:"detail-empty-text"},[t._v("当日已订完")]),r("div",{staticClass:"detail-price-reason"},[e.hasPriceTags?r("label",{staticStyle:{"background-color":"transparent"}},[t._v(t._s(" "))]):t._e()])]),t.compProps.mode===t.mode.singleCommentCol?r("div",{staticClass:"house-detail-desc"},[t._v(t._s(e.comment))]):t._e()]),"T20190108142924"!==t.promotionId&&"T20190118154654"!==t.promotionId?r("div",{staticClass:"favorate-icon",style:"background-image: url('"+("/"===t.baseUrl?"":t.baseUrl)+(e.isLike?"/static/imgs/favorate.png":"/static/imgs/unfavorate.png")+"')",on:{click:function(r){r.stopPropagation(),t.favorite(e.unitId,e.isLike,n)}}}):t._e()])}))])},Yn=[],Gn={props:{compId:{type:String,default:function(){return""}},compProps:{type:Object,default:function(){return{mode:"0",items:[],totalCount:0,privateProps:{}}}}},data:function(){return{mode:{singleCol:"0",singleCommentCol:"1",doubleCol:"2",swiperCol:"3"},isMobile:!1}},mounted:function(){this.isMobile=this.$root.isMobile},computed:{warpClass:function(){switch(this.compProps.mode+""){case"0":return"single-col";case"2":return"double-col";case"3":return"swiper-col swiper-container";case"1":return"single-comment-col";default:return"single-col"}},unitNameClass:function(){switch(this.compProps.mode+""){case"1":return"multi-unit";default:return"single-unit"}},backgroundColor:function(){return this.compProps.privateProps?this.compProps.privateProps.backgroundColor:""},promotionId:function(){return this.$root.promotionId}},watch:{compProps:{handler:function(t,e){var r=this,n=JSON.stringify(t.items),i=JSON.stringify(e.items);n===i||"0"!==t.mode&&"1"!==t.mode?n!==i&&"3"===t.mode&&this.$nextTick(function(){var t=0,e=document.body.clientWidth;t=e<=720?e/375*20:40,r.swiper=new Swiper("#comp_id_".concat(r.compId," .swiper-col"),{slidesPerView:"auto",spaceBetween:t})}):this.$nextTick(function(){r.swiper=new Swiper("#comp_id_".concat(r.compId," .house-imgs-warp"),{})})},deep:!0}},methods:{imgErrorHandle:function(t){t.target.src="".concat(this.baseUrl,"static/imgs/default.jpg")},openHouseInfo:function(t,e,r,n,i){this.$emit("action",{type:"openHouseInfo",data:e,houseIndex:r,checkInDate:n,checkOutDate:i})},favorite:function(t,e,r){this.$emit("action",{type:"favoriteHouse",data:{id:t,isLike:e,houseIndex:r}})}}},Qn=Gn,Zn=(r("67a1"),Object(g["a"])(Qn,Jn,Yn,!1,null,"21840e8a",null));Zn.options.__file="HouseCard.vue";var ti=Zn.exports;function ei(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){ri(t,e,r[e])})}return t}function ri(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ni={mixins:[pn],data:function(){return{payLoad:null,houses:{}}},components:ei({HouseCard:ti},hn),props:{compProps:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},computed:{compName:function(){return"HouseCard"},houstList:function(){var t=this.$root.tmpHouseList,e=[];if(t){var r=this.compProps.mate.items,n=t[r];e=n||[]}return{houseChoice:this.compProps.mate.privateProps.houseChoice,pageIndex:this.compProps.mate.privateProps.pageIndex,landlordIds:this.compProps.mate.privateProps.landlordIds,maxShowNumber:this.compProps.mate.privateProps.maxShowNumber,promotionId:this.compProps.mate.privateProps.promotionId,priceTime:this.compProps.mate.privateProps.priceTime,mode:this.compProps.mate.mode+"",elementId:this.compProps.elementId,houses:e,needNoRepositoty:this.compProps.mate.privateProps.needNoRepositoty}}},methods:{initHandle:function(t){this.houses={privateProps:this.compProps.mate.privateProps,mode:this.compProps.mate.mode+"",items:t.items,totalCount:t.totalCount}},actionHandle:function(t){this.$root.isPreview||(this.payLoad=t)},finishHandle:function(t){if(this.payLoad=null,"favirote"===t.type){var e=this.houses.items.findIndex(function(e){return e.unitId===t.data.id});this.houses.items[e].isLike=t.data.isLike}}}},ii=ni,oi=Object(g["a"])(ii,Kn,Xn,!1,null,null,null);oi.options.__file="ElementHousesComp.vue";var si=oi.exports,ai=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"comp_id_"+t.compProps.elementId}},[r("div",{staticClass:"element-floor-wrapper"},[t.needShow?r("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPadding,expression:"isShowPadding"}],staticClass:"element-padding",style:"height: "+t.wrapperPadding+"px"}):t._e(),r("div",{staticClass:"element-floor",style:"background-color: "+t.activeColor},t._l(t.items,function(e,n){return r("div",{key:n,style:"background-color: "+(t.currentId!=="comp_id_"+e.elementId?t.backgroundColor:t.activeColor),attrs:{"data-actionid":"5","data-itemtext":e.name,"data-id":"comp_id_"+e.elementId},on:{click:function(r){t.jumpTo("comp_id_"+e.elementId)}}},[r("img",{attrs:{height:"100%",src:t.picHost+(t.currentId==="comp_id_"+e.elementId?e.selectionIcon:e.defaultIcon)}})])}))])])},ci=[],ui={data:function(){return{currentId:"",wrapperPadding:0,isShowPadding:!1,needShow:!1}},mounted:function(){var t=this.$route.query.hastitle;1==t?this.needShow=!0:2==t?this.needShow=!1:6===this.platform&&(this.needShow=!0),this.wrapperPadding=z["Sniff"].statusBarH},props:{compProps:{type:Object,default:function(){return{}}}},computed:{items:function(){return this.compProps.mate?this.compProps.mate.items:[]},backgroundColor:function(){return this.compProps.mate&&this.compProps.mate.privateProps&&this.compProps.mate.privateProps.backgroundColor},activeColor:function(){return this.compProps.mate&&this.compProps.mate.privateProps&&this.compProps.mate.privateProps.activeColor}},created:function(){this.scrollHandle=Object(he["d"])(16,this.scrollHandle).bind(this),window.addEventListener("scroll",this.scrollHandle,!1)},destroyed:function(){window.removeEventListener("scroll",this.scrollHandle,!1)},methods:{jumpTo:function(t){var e=document.getElementById(t);if(e){this.currentId=t;var r=document.querySelector(".element-floor");this.height=r.getBoundingClientRect().height,window.scrollTo(0,e.offsetTop-this.height)}},scrollHandle:function(){var t=this;setTimeout(function(){var e=document.documentElement.scrollTop||document.body.scrollTop,r=document.querySelector("#comp_id_".concat(t.compProps.elementId)),n=document.querySelector(".element-floor-wrapper");t.height=n.getBoundingClientRect().height,t.offsetTop=r.clientTop+r.offsetTop;var i="";if(t.items.forEach(function(e){var r=document.getElementById("comp_id_".concat(e.elementId));if(r){var n=r.getBoundingClientRect();Math.floor(0+t.height+5)>=Math.floor(n.top)&&(i="comp_id_".concat(e.elementId))}}),i&&t.currentId!==i){var o=document.querySelector("div[data-id=".concat(i,"]"));o.offsetLeft+o.clientWidth>n.scrollLeft+document.body.clientWidth?n.scrollLeft=o.offsetLeft+o.clientWidth-document.body.clientWidth:o.offsetLeft<n.scrollLeft&&(n.scrollLeft=o.offsetLeft)}t.currentId=i,e>t.offsetTop||t.currentId?(r.style.height=t.height+"px",r.childNodes[0].classList.add("wrap-fixed"),t.isShowPadding=!0):(r.childNodes[0].classList.remove("wrap-fixed"),t.isShowPadding=!1)})}}},li=ui,hi=(r("cce2"),Object(g["a"])(li,ai,ci,!1,null,"b4f32594",null));hi.options.__file="ElementFloorComp.vue";var pi=hi.exports,di=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"comp_id_"+t.compProps.elementId}},[r("nav",{class:"swiper-container tab-nav-"+t.privateProps.level,style:"background-color: "+("0"===t.privateProps.level?t.privateProps.backgroundColor:"")},[r("div",{class:"swiper-wrapper tab-item-"+t.privateProps.level},[t._l(t.children,function(e,n){return r("div",{key:n,class:"swiper-slide tab-sub-item-"+t.privateProps.level,style:{"padding-left":t.children.length>5?"1.1rem":"1.3333rem"},attrs:{"data-actionid":"4","data-itemtext":e.name},on:{click:function(e){t.tabChange(n)}}},[r("div",{style:t.getStyles(n)},[t._v(t._s(e.name))]),r("div",{style:"background-color: "+(t.currentTab===n?t.privateProps.activeColor:"")})])}),"1"===t.privateProps.level&&t.needShowAll?r("div",{class:"tab-sub-item-"+t.privateProps.level,attrs:{"data-actionid":"4","data-value":"-1"},on:{click:function(e){t.tabChange(-1)}}},[r("div",{style:"color: "+t.privateProps.textColor+";background-color: "+t.privateProps.backgroundColor},[t._v("\n          "+t._s(t.showAll?"收起":"更多")+"\n          "),r("div",{staticClass:"arrow-icon",class:t.showAll?"":"down"})])]):t._e()],2)]),t._l(t.tabChildren,function(e){return r(e.compName,{key:e.elementId,tag:"component",attrs:{tabIndex:""+t.currentTab,compIndex:""+t.childIndex,compProps:e}})})],2)},fi=[],mi={name:"ElementTabComp",components:{ElementImageComp:gn,ElementRedPacketComp:qn,ElementHousesComp:si,ElementDocComp:jn},data:function(){return{currentTab:0,showAll:!1,needShowAll:!1,childIndex:""}},props:{compProps:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}},tabIndex:{type:String,default:function(){return""}}},computed:{children:function(){var t=[].concat(this.compProps.mate.items||[]);return this.$root.isMobile&&"1"===this.compProps.mate.privateProps.level&&t.length>8&&!this.showAll&&(t=t.slice(0,7)),t},privateProps:function(){return this.compProps.mate?this.compProps.mate.privateProps:[]},tabChildren:function(){return this.children[this.currentTab]?this.children[this.currentTab].items:[]}},created:function(){var t=[];this.compProps.mate&&(t=this.compProps.mate.items),t.length>8&&this.$root.isMobile&&(this.needShowAll=!0),this.getChildIndex()},mounted:function(){"0"===this.privateProps.level&&(this.swiper=new Swiper("#comp_id_".concat(this.compProps.elementId," .tab-nav-0"),{slidesPerView:"auto",freeMode:!0}))},methods:{tabChange:function(t){-1===t?this.showAll=!this.showAll:this.currentTab=t,this.getChildIndex()},getStyles:function(t){var e="color: ".concat(this.currentTab===t?this.privateProps.activeTextColor:this.privateProps.textColor),r="";"1"===this.privateProps.level&&(r="background-color: ".concat(this.currentTab===t?this.privateProps.activeColor:this.privateProps.backgroundColor));var n="font-weight: ".concat(this.currentTab===t?600:400);return e+";"+r+";"+n},getChildIndex:function(){var t=this.compProps.mate.privateProps.level;"0"===t?this.childIndex="".concat(this.compIndex,"_").concat("undefined"==this.tabIndex?this.tabIndex+"_":"").concat(this.currentTab):"1"===t&&(this.childIndex="".concat(this.compIndex,"_").concat(this.currentTab))}}},vi=mi,yi=(r("c2c1"),Object(g["a"])(vi,di,fi,!1,null,"413e80ef",null));yi.options.__file="ElementTabComp.vue";var gi=yi.exports,bi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"comp_id_"+t.compProps.elementId}},[r(t.compName,{tag:"component",attrs:{compProps:t.prizeInfo,payLoad:t.uiPayLoad,compId:t.compProps.elementId+""},on:{action:t.actionHandle}}),r(t.servCompName,{tag:"component",attrs:{payLoad:t.payLoad,compIndex:t.compIndex,compProps:t.compProps},on:{update:t.updateHandle,init:t.initHandle,finish:t.finishHandle}})],1)},wi=[],_i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.compProps.allPrize.prizeList?r("section",{staticClass:"comp-prizedraw"},[t.showToast?r("toast",{attrs:{msg:t.msg},model:{value:t.showToast,callback:function(e){t.showToast=e},expression:"showToast"}}):t._e(),r("div",{staticClass:"prizedraw-wrapper",style:{backgroundImage:"url("+t.picHost+t.compProps.allPrize.pictureOfTurntableUrl+")"}},[r("div",{staticClass:"prizedraw-list"},[t.compProps.allPrize.prizeList&&t.compProps.allPrize.prizeList.length?r("ul",{staticClass:"turntable-wrapper"},t._l(t.compProps.allPrize.prizeList,function(e,n){return r("li",{key:n,staticClass:"prize-item",class:{active:t.orderNum==e.orderNum,drawBtn:-1==e.prizeType}},[-1==e.prizeType?r("div",{staticClass:"turntable-item"},[r("img",{attrs:{src:t.picHost+t.compProps.allPrize.pictureOfLottery,"data-itemtext":"抽奖转盘","data-actionid":"9","data-itemotherinfo":t.id},on:{click:t.drawprize}})]):r("div",{staticClass:"turntable-item"},[r("img",{attrs:{src:e.prizeType?t.picHost+e.pictureUrl:t.picHost+t.compProps.allPrize.pictureOfThank}})]),r("div",{staticClass:"turntable-item-mark"})])})):t._e()]),r("div",{staticClass:"prize-num"},[1==t.compProps.allPrize.lotteryLimitType?r("p",[t._v("\n        本次活动还剩\n        "),r("span",{style:{color:t.compProps.allPrize.colourOfHighlight}},[t._v(t._s(t.compProps.allPrize.lastNum))]),t._v(" 次抽奖机会哦\n      ")]):t._e(),2==t.compProps.allPrize.lotteryLimitType?r("p",[t._v("\n        今天还剩\n        "),r("span",{style:{color:t.compProps.allPrize.colourOfHighlight}},[t._v(t._s(t.compProps.allPrize.lastNum))]),t._v(" 次抽奖机会哦\n      ")]):t._e()]),t.compProps.otherPrize&&t.compProps.otherPrize.length?r("div",{staticClass:"left-line",style:{background:t.compProps.allPrize.colourOfCountdown}}):t._e(),t.compProps.otherPrize&&t.compProps.otherPrize.length?r("div",{staticClass:"right-line",style:{background:t.compProps.allPrize.colourOfCountdown}}):t._e()]),t.compProps.otherPrize&&t.compProps.otherPrize.length?r("div",{staticClass:"prize-history",style:{background:t.compProps.allPrize.colourOfCountdown}},[r("ul",{staticClass:"history-wrapper",style:{transform:"translateY("+-2.4*t.currPrizeHistoryIndex+"rem)",transition:t.currPrizeHistoryIndex?"0.5s":"none"}},t._l(t.compProps.otherPrize,function(e,n){return r("li",{key:n,staticClass:"history-item"},[r("img",{staticClass:"item-icon",attrs:{src:e.headUrl}}),r("span",{staticClass:"item-number"},[t._v(t._s(e.luckPeople))]),r("span",{staticClass:"item-text"},[t._v(t._s(e.prizeName))])])}))]):t._e(),r("div",{staticClass:"my-prize-wrapper"},[t.compProps.myPrize&&t.compProps.myPrize.length?r("div",{staticClass:"my-prize-btn",style:{color:t.compProps.allPrize.colourOfWinningFont},on:{click:t.checkMyPrizes}},[t._v("我的奖品")]):t._e(),t.isMyPrizesShow?r("div",{staticClass:"my-prize-list"},[r("ul",{staticClass:"my-prize-wrapper"},t._l(t.compProps.myPrize,function(e,n){return r("li",{key:n,staticClass:"my-prize-item"},[r("span",[t._v("\n            "+t._s(e.lotteryTime)+" 您抽中了"+t._s(e.prizeName)+"\n            "),4===e.prizeType?r("span",{staticClass:"redeem-style"},[t._v("兑换码是"+t._s(e.redeemNo))]):t._e(),5!=e.prizeType||5!==t.platform&&6!==t.platform?t._e():r("span",{staticClass:"prize-list-btn",style:{color:t.compProps.allPrize.colourOfWinningFont},on:{click:function(r){t.goUse(e)}}},[t._v("立即使用")]),1==e.prizeType?r("span",{staticClass:"prize-list-btn",class:{"no-underline":e.receiveAddress},style:{color:t.compProps.allPrize.colourOfWinningFont},on:{click:function(r){t.setAddress(e)}}},[t._v(t._s(e.receiveAddress?"已填写地址":"邮寄地址"))]):t._e()])])}))]):t._e()]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"prizedraw-dialog",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.doShowDialog(!1)}}},[r("div",{staticClass:"dialog-wrapper"},[r("div",{staticClass:"dialog-close",style:"background-image: url('"+t.baseUrl+"static/imgs/close-btn.png')",on:{click:function(e){t.doShowDialog(!1)}}}),null==t.popupContentType?r("div",[r("div",{staticClass:"dialog-title"},[t._v("很遗憾未中奖")]),r("div",{staticClass:"prize-name"},[t._v("别泄气，擦擦屏幕再来一次")]),t.compProps.allPrize.pictureOfThank?r("img",{staticClass:"prize-image",attrs:{src:t.picHost+t.compProps.allPrize.pictureOfThank}}):t._e(),r("button",{staticClass:"dialog-btn",on:{click:t.oneMoreAgain}},[t._v("好的")])]):6===t.popupContentType||t.addressDialog?t._e():r("div",[r("div",{staticClass:"dialog-title"},[t._v("恭喜您抽中")]),r("div",{staticClass:"prize-name"},[t._v("\n          "+t._s(t.prize.name)+"\n          "),4===t.popupContentType?r("span",[t._v("，兑换码是"+t._s(t.prize.redeemNo))]):t._e()]),t.prize.pictureUrl?r("img",{staticClass:"prize-image",attrs:{src:t.picHost+t.prize.pictureUrl}}):t._e(),1===t.popupContentType?r("button",{staticClass:"dialog-btn",on:{click:function(e){t.setAddress(t.prize)}}},[t._v("邮递地址")]):t._e(),1!==t.popupContentType?r("button",{staticClass:"dialog-btn",on:{click:t.oneMoreAgain}},[t._v("好的")]):t._e()]),t.addressDialog?r("div",[r("div",{staticClass:"dialog-title"},[t._v("请确认递送信息")]),r("ul",{staticClass:"dialog-from"},[r("li",{staticClass:"from-name"},[t._v("姓名\n            "),r("div",{staticClass:"f-border-line-gray-warp"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"dialog-input",attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),r("div",{staticClass:"f-border-line-gray"})])]),r("li",{staticClass:"from-phone"},[t._v("手机\n            "),r("div",{staticClass:"f-border-line-gray-warp"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"dialog-input",attrs:{type:"number",placeholder:"请输入手机"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),r("div",{staticClass:"f-border-line-gray"})])]),r("li",{staticClass:"from-address"},[t._v("地址\n            "),r("div",{staticClass:"f-border-line-gray-warp"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"dialog-input",attrs:{type:"text",placeholder:"请输入地址"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),r("div",{staticClass:"f-border-line-gray"})])]),r("li",{staticClass:"from-postcode"},[t._v("邮编\n            "),r("div",{staticClass:"f-border-line-gray-warp"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.postCode,expression:"postCode"}],staticClass:"dialog-input",attrs:{type:"number",placeholder:"请输入邮编"},domProps:{value:t.postCode},on:{input:function(e){e.target.composing||(t.postCode=e.target.value)}}}),r("div",{staticClass:"f-border-line-gray"})])])]),r("button",{staticClass:"dialog-btn",on:{click:t.confirmAddress}},[t._v("确认")]),r("p",{staticClass:"dialog-text"},[t._v("请仔细核实地址信息，提交后不能修改")])]):t._e()])])],1):t._e()},Ti=[];function Si(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Ci(t,e,r[e])})}return t}function Ci(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ki={PRIZEINKIND:1,OTHERPRIZE:2,INTEGRAL:3,COUPON:4,REDPACKAGE:5,MISSED:null,NONE:6},Ei={mounted:function(){this.prizeHistoryAnimate()},components:{Toast:Ee},data:function(){return{orderNum:-1,popupContentType:ki.NONE,showDialog:!1,showToast:!1,isMyPrizesShow:!1,currPrizeHistoryIndex:0,isDrawing:!1,name:"",phone:"",id:"",address:"",postCode:"",toastMsg:"",prize:{},myPrizeOrder:-1,lotteryCode:"",prizeResult:{},addressDialog:!1}},props:{compId:{type:String,default:function(){return""}},compProps:{type:Object,default:function(){return{myPrize:[],allPrize:{},otherPrize:[]}}},payLoad:{type:Object,default:function(){return{}}}},watch:{payLoad:{handler:function(t){switch(t.type){case"drawFinish":this.finishDraw(t);break;case"cantDraw":this.isDrawing=!1;break;case"goUse":this.goUse();break;case"saveFinish":this.doShowDialog(!1);break;default:}},deep:!0},compProps:{handler:function(t){t&&t.id&&(this.id=t.id)},deep:!0}},methods:{drawprize:function(t){this.isDrawing||(this.isDrawing=!0,this.$emit("action",{type:"drawprize",data:(new Date).getTime()}))},goUse:function(){this.$emit("action",{type:"goUse",data:(new Date).getTime()})},finishDraw:function(t){this.prizeResult=t.data,this.prizeDrawAnimate()},setAddress:function(t){console.log(t),this.lotteryCode=t.lotteryCode,t.receiveAddress||(this.addressDialog=!0,this.showDialog=!0)},prizeDrawAnimate:function(){this.orderNum=this.compProps.allPrize.prizeList[0].orderNum;var t=300,e=0,r=24+this.prizeResult.orderNum,n=this;function i(){n.orderNum++,t-=10,n.orderNum>8&&(n.orderNum=1,e++),8*e+n.orderNum>r-5?8*e+n.orderNum===r?(clearInterval(n.timer),setTimeout(function(){n.showPrizeDrawResult()},500)):(clearInterval(n.timer),n.timer=setTimeout(function(){i()},300)):(clearInterval(n.timer),n.timer=setTimeout(function(){i()},t))}setTimeout(function(){i()},300)},confirmAddress:function(){if(this.name.trim())if(this.phone.trim())if(this.address.trim())if(this.postCode.trim()){var t=new RegExp(/^1\d{10}$/);if(t.test(this.phone)){var e={lotteryRecordCode:this.lotteryCode,userName:this.name,mobile:this.phone,address:this.address,zipCode:this.postCode};this.$emit("action",{type:"setAddress",data:e})}else this.doShowToast("请输入正确的手机号码")}else this.doShowToast("请输入邮编");else this.doShowToast("请输入详细快递地址");else this.doShowToast("请输入手机号");else this.doShowToast("请输入姓名")},prizeHistoryAnimate:function(){var t=this,e=null;clearInterval(e),e=setInterval(function(){t.currPrizeHistoryIndex++,t.currPrizeHistoryIndex>t.compProps.otherPrize.length-1&&(t.currPrizeHistoryIndex=0)},2e3)},doShowToast:function(t){this.msg=t,this.showToast=!0},checkMyPrizes:function(){this.isMyPrizesShow=!this.isMyPrizesShow},doShowDialog:function(t){this.showDialog=t,t||(this.claerInput(),this.orderNum=0)},oneMoreAgain:function(){this.popupContentType=ki.NONE,this.showDialog=!1,this.orderNum=0},showPrizeDrawResult:function(){var t=this;this.doShowDialog(!0);var e={};this.prize=this.prizeResult,e=this.compProps.allPrize.prizeList.find(function(e){return e.orderNum==t.payLoad.data.orderNum}),this.prize=Si({},this.prize,e),this.prize&&this.prize.prizeType?this.popupContentType=this.prize.prizeType:this.popupContentType=ki.MISSED,this.isDrawing=!1,this.$emit("action",{type:"refreshPrize",data:(new Date).getTime()})},claerInput:function(){this.name="",this.phone="",this.address="",this.postCode="",this.addressDialog=!1,this.popupContentType=ki.NONE}}},Pi=Ei,xi=(r("6ea9"),Object(g["a"])(Pi,_i,Ti,!1,null,"5cb32214",null));xi.options.__file="PrizeDraw.vue";var Oi=xi.exports;function ji(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Ai(t,e,r[e])})}return t}function Ai(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ii={mixins:[pn],data:function(){return{prizeInfo:{myPrize:[],allPrize:{},otherPrize:{}},uiPayLoad:{},payLoad:null}},components:ji({PrizeDraw:Oi},hn),props:{compProps:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},computed:{compName:function(){return"PrizeDraw"}},methods:{initHandle:function(t){this.prizeInfo=t},updateHandle:function(t){this.prizeInfo=t},actionHandle:function(t){this.payLoad=t},finishHandle:function(t){switch(t.type){case"drawFinish":this.uiPayLoad=t;break;case"cantDraw":this.uiPayLoad=t;break;case"refreshFinish":this.prizeInfo=t.data;break;case"saveFinish":this.uiPayLoad=t;break;default:}}}},Di=Ii,Ni=Object(g["a"])(Di,bi,wi,!1,null,null,null);Ni.options.__file="ElementPrizeComp.vue";var Li=Ni.exports,Ri=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"comp_id_"+t.compProps.elementId}},[r(t.compName,{tag:"component",attrs:{compProps:t.video,compId:t.compProps.elementId+""},on:{action:t.actionHandle}}),r(t.servCompName,{tag:"component",attrs:{payLoad:t.payLoad,compIndex:t.compIndex,compProps:t.compProps},on:{finish:t.finishHandle}})],1)},Bi=[],Mi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"comp-video"},[r("video-player",{ref:"videoPlayer",staticClass:"vjs-video-box",attrs:{options:t.playerOptions,playsinline:!0,events:t.events},on:{fullscreenchange:function(e){t.onPlayerFullScreenchange(e)}}})],1)},Hi=[],Ui=(r("fda2"),r("d6d3")),Fi={props:{compProps:{type:Object,default:function(){return{}}},payLoad:{type:Object,default:function(){return{}}}},computed:{player:function(){return this.$refs.videoPlayer.player},playerOptions:function(){return{autoplay:!1,muted:!0,loop:!1,preload:"none",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"video/mp4",src:this.picHost+this.compProps.video}],poster:this.picHost+this.compProps.poster,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!0,fullscreenToggle:!0}}}},components:{videoPlayer:Ui["videoPlayer"]}},Vi=Fi,zi=(r("b835"),r("7e53"),Object(g["a"])(Vi,Mi,Hi,!1,null,"7fefd760",null));zi.options.__file="Video.vue";var $i=zi.exports;function Wi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){qi(t,e,r[e])})}return t}function qi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ki={mixins:[pn],name:"",props:{compProps:{type:Object,default:function(){return{}}},compIndex:{type:String,default:function(){return""}}},data:function(){return{payLoad:null}},computed:{compName:function(){return"Video"},video:function(){return this.compProps.mate?this.compProps.mate:null}},methods:{actionHandle:function(t){this.$root.isPreview||(this.payLoad=t)},finishHandle:function(){this.payLoad=null}},components:Wi({Video:$i},hn)},Xi=Ki,Ji=(r("60b8"),Object(g["a"])(Xi,Ri,Bi,!1,null,"50e975d0",null));Ji.options.__file="ElementVideoComp.vue";var Yi=Ji.exports,Gi={ElementImageComp:gn,ElementPrizeComp:Li,ElementRedPacketComp:qn,ElementHousesComp:si,ElementFloorComp:pi,ElementDocComp:jn,ElementTabComp:gi,ElementVideoComp:Yi},Qi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"float-wrap"},[r("div",{staticClass:"float-floor",style:"visibility: "+(t.entryInfo.needShowEntry?"visible":"hidden")},[r("a",{attrs:{"data-actionid":"8"},on:{click:function(e){e.preventDefault(),t.clickHandler(t.entry)}}},[t.entryInfo.needShowEntry?r("img",{attrs:{src:t.picHost+t.entry.iconLink}}):t._e()])]),r("div",{staticClass:"go-top",style:"visibility: "+(t.goTopShow?"visible":"hidden"),on:{click:t.goTop}},[r("i",{staticClass:"go-top-icon",style:"background-image: url('"+t.baseUrl+"static/imgs/top-btn.png')"})])])},Zi=[];function to(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function eo(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){to(o,n,i,s,a,"next",t)}function a(t){to(o,n,i,s,a,"throw",t)}s(void 0)})}}var ro={data:function(){return{goTopShow:!1,scrollTop:""}},props:{entryInfo:{type:Object,default:function(){return{}}}},computed:{entry:function(){return this.entryInfo.info||{}}},created:function(){this._throttle=Object(he["d"])(16,this.needScroll).bind(this),window.addEventListener("scroll",this._throttle,!1)},methods:{needScroll:function(){var t=document.documentElement.clientHeight||document.body.clientHeight;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop>=t?this.goTopShow=!0:this.goTopShow=!1},goTop:function(){window.scrollTo(0,0)},clickHandler:function(){var t=eo(s.a.mark(function t(e){var r;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.next=7;break;case 7:return t.next=9,this.getEnv();case 9:r=t.sent,2===r?window.location.href=e.APPEntryLink:1===r?wx.miniProgram.navigateTo({url:e.WXEntryLink}):window.location.href=e.webEntryLink;case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},destroyed:function(){window.removeEventListener("scroll",this._throttle,!1)}},no=ro,io=(r("4ca4"),Object(g["a"])(no,Qi,Zi,!1,null,"476d14dc",null));io.options.__file="TopBtn.vue";var oo=io.exports,so=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"cms-client-rules",on:{click:function(e){return e.target!==e.currentTarget?null:t.clickHandle(e)}}},[r("div",{staticClass:"rules-wrapper"},[r("div",{staticClass:"rules-title-wrapper"},[r("p",{staticClass:"rules-title"},[t._v("活动规则")]),r("p",{staticClass:"rules-close-icon",style:"background-image: url('"+t.baseUrl+"static/imgs/close-btn.png')",on:{click:t.clickHandle}})]),r("div",{staticClass:"rules-content"},[r("DocContent",{attrs:{compProps:t.compProps}})],1)])])},ao=[],co={components:{DocContent:En},data:function(){return{compProps:{}}},created:function(){this.compProps={content:this.rules,backgroundColor:"#fff"}},props:{rules:{type:String,default:function(){return""}}},methods:{clickHandle:function(){this.$emit("action",!1)}}},uo=co,lo=(r("edcc"),Object(g["a"])(uo,so,ao,!1,null,"368be699",null));lo.options.__file="Rules.vue";var ho=lo.exports,po=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"cms-client-rules-icon",style:"top: "+t.getTop+"px"},[r("img",{attrs:{src:t.picHost+t.rulesImg},on:{click:t.clickHandle}})])},fo=[],mo={components:{DocContent:En},props:{rulesImg:{type:String,default:function(){return""}},hasOrder:{type:Boolean,default:function(){return!1}}},computed:{getTop:function(){var t=this.$route.query.hastitle,e=46+z["Sniff"].statusBarH,r=35,n=15;return this.hasOrder&&(n+=r),2==t?n:1==t?(n+=e,n):6===this.platform?(n+=e,n):n}},methods:{clickHandle:function(){this.$emit("action",!0)}}},vo=mo,yo=(r("974a"),Object(g["a"])(vo,po,fo,!1,null,"db149c44",null));yo.options.__file="RulesBtn.vue";var go=yo.exports,bo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return 8!==t.platform?r("section",{staticClass:"share-wrap",style:"top: "+t.getTop+"px"},[2!==t.platform&&6!==t.platform&&t.$root.isMobile?r("div",{staticClass:"share-normal",attrs:{"data-actionid":"7-1"},on:{click:t.shareNormal}},[r("img",{attrs:{src:t.baseUrl+"static/imgs/share.png"}})]):t._e(),t.shareInfo.weShare&&2===t.platform?r("div",{staticClass:"share-wechat",attrs:{"data-actionid":"7-2"},on:{click:t.shareToTimeline}},[r("img",{attrs:{src:t.baseUrl+"static/imgs/timeline.png"}})]):t._e(),t.shareInfo.weShare&&2===t.platform?r("div",{staticClass:"share-wechat",attrs:{"data-actionid":"7-3"},on:{click:t.shareToWechat}},[r("img",{attrs:{src:t.baseUrl+"static/imgs/wechat.png"}})]):t._e()]):t._e()},wo=[],_o={data:function(){return{}},props:{shareInfo:{type:Object,default:function(){return{}}}},computed:{getTop:function(){var t=this.$route.query.hastitle,e=40;return 1==t?e+z["Sniff"].statusBarH:2==t?0:6===this.platform?e+z["Sniff"].statusBarH:0}},methods:{shareToWechat:function(){this.$emit("action",1)},shareToTimeline:function(){this.$emit("action",2)},shareNormal:function(){this.$emit("action",0)}}},To=_o,So=(r("7680"),Object(g["a"])(To,bo,wo,!1,null,"23b8ec78",null));So.options.__file="ShareComp.vue";var Co=So.exports,ko=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pc-activity-header"},[r("header",[r("a",{staticClass:"tujia-logo",attrs:{href:t.pcTujiaHost,target:"_blank",title:"途家网首页"}}),r("ul",{staticClass:"nav-list"},[r("li",[r("a",{staticClass:"home-link",attrs:{href:t.pcTujiaHost,target:"_blank"}},[t._v("首页")])]),r("li",[r("a",{attrs:{href:t.pcTravelHost,target:"_blank"}},[t._v("发现")])])]),r("div",{staticClass:"header-search"},[r("span",{staticClass:"log-reg"},[r("a",{attrs:{href:t.loginUrl}},[t._v(t._s(t.loginLabel))]),r("span",[t._v("|")]),r("a",{staticClass:"reg",attrs:{id:"btnHeaderLogin",href:t.logupUrl}},[t._v(t._s(t.logupLabel))])])])])])},Eo=[],Po={data:function(){return{loginUrl:"",loginLabel:"登录",logupLabel:"注册",logupUrl:""}},computed:{isLoginCpd:function(){return!(!Fr.a.get("".concat(this.tujiaDomain,"_PortalContext_UserId"))||"0"===Fr.a.get("".concat(this.tujiaDomain,"_PortalContext_UserId")))}},watch:{isLoginCpd:{handler:function(){this.isLoginCpd?(this.loginLabel="我的途家",this.logupLabel="[退出]",this.logupUrl="".concat(this.passportHost,"/PortalSite/Logout?returnUrl=").concat(window.location.href),this.loginUrl="".concat(this.pcTujiaHost,"/UserInfo/OrderList/")):(this.loginLabel="登录",this.logupLabel="注册",this.logupUrl="".concat(this.passportHost,"/PortalSite/Register/"),this.loginUrl="".concat(this.passportHost,"/PortalSite/LoginPage/?srcUrl=").concat(window.location.href))},immediate:!0}}},xo=Po,Oo=(r("87d8"),Object(g["a"])(xo,ko,Eo,!1,null,"767e823a",null));Oo.options.__file="PcActivityHeader.vue";var jo=Oo.exports,Ao=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.orderList.length&&t.orderList.length>9?r("section",{ref:"atmosphere",staticClass:"cms-client-atmosphere",style:"background: "+t.compProps.backgroundColor+";top: "+t.getTop+"px"},[r("p",{staticClass:"atmosphere-text",class:t.isAndroidText,style:{color:t.compProps.textColor}},[t._v(t._s(t.showOrder))])]):t._e()},Io=[];function Do(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function No(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){Do(o,n,i,s,a,"next",t)}function a(t){Do(o,n,i,s,a,"throw",t)}s(void 0)})}}var Lo={data:function(){return{orderList:[],showOrder:"",orderIndex:1}},props:{compProps:{type:Object,default:function(){return{}}},channel:{type:String,default:function(){return"2"}}},computed:{getTop:function(){var t=this.$route.query.hastitle,e=56,r=40;return"1"===this.channel?r+16:1==t?e+z["Sniff"].statusBarH:2==t?16:6===this.platform?e+z["Sniff"].statusBarH:16},isAndroidText:function(){return he["c"]?"isAndroid":""}},created:function(){var t=No(s.a.mark(function t(){var e,n,i,o,a,c,u,l,h=this;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.t0="T",t.next="T"===t.t0?3:"Q"===t.t0?15:27;break;case 3:return t.prev=3,e=r("7e61"),n=e.fetchOrderList,t.next=7,n();case 7:i=t.sent,0===i.errcode&&(o=i.data,o.length&&(this.orderList=o),this.showOrder=o[0]),t.next=14;break;case 11:t.prev=11,t.t1=t["catch"](3),Object(he["a"])(t.t1);case 14:return t.abrupt("break",27);case 15:return t.prev=15,a=r("8b9e"),c=a.fetchOrderList,t.next=19,c();case 19:u=t.sent,u.ret&&(l=u.data&&u.data.scrollBars,l.length&&(l.map(function(t){h.orderList.push("".concat(t.phone,"刚预定了一间民宿 优惠已减").concat(t.promoSum,"元"))}),this.showOrder=this.orderList[0])),t.next=26;break;case 23:t.prev=23,t.t2=t["catch"](15),console.log(t.t2);case 26:return t.abrupt("break",27);case 27:case"end":return t.stop()}},t,this,[[3,11],[15,23]])}));return function(){return t.apply(this,arguments)}}(),updated:function(){this.$refs.atmosphere&&!this.hasEvent&&(this.hasEvent=!0,this.$refs.atmosphere.addEventListener("animationiteration",this.orderAnimate,!1))},methods:{orderAnimate:function(){var t=this.orderList;t.length&&(this.orderIndex>t.length-1&&(this.orderIndex=0),this.showOrder=t[this.orderIndex],this.orderIndex++)}}},Ro=Lo,Bo=(r("e40e"),Object(g["a"])(Ro,Ao,Io,!1,null,"0d1f8db0",null));Bo.options.__file="OrderAtmosphere.vue";var Mo=Bo.exports,Ho=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.needShow?r("div",{staticClass:"cms-client-header",style:"padding-top: "+t.wrapperPadding+"px"},[r("p",{staticClass:"header-back",on:{click:t.clickHandle}},[r("img",{attrs:{src:t.baseUrl+"static/imgs/back.png"}})]),r("p",{staticClass:"header-title"},[t._v(t._s(t.title))])]):t._e()},Uo=[],Fo={created:function(){var t=this.$route.query.hastitle;1==t?this.needShow=!0:2==t?this.needShow=!1:6===this.platform&&(this.needShow=!0)},mounted:function(){this.wrapperPadding=z["Sniff"].statusBarH},data:function(){return{needShow:!1,wrapperPadding:0}},props:{title:{type:String,default:function(){return""}}},methods:{clickHandle:function(){if(z["Sniff"].qunar){var t=window.hysdk;t&&t.closeWebView(),setTimeout(function(){t.closeWebView()},2e3)}history.back(-1)}}},Vo=Fo,zo=(r("edd2"),Object(g["a"])(Vo,Ho,Uo,!1,null,"caa37530",null));zo.options.__file="Qheader.vue";var $o=zo.exports;function Wo(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function qo(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){Wo(o,n,i,s,a,"next",t)}function a(t){Wo(o,n,i,s,a,"throw",t)}s(void 0)})}}function Ko(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(r,n){var i=new Image;e&&i.setAttribute("crossOrigin","anonymous"),i.src=t,i.onload=function(){this.complete&&r(i)},i.onerror=function(){this.complete&&n(i)}})}function Xo(t){return Jo.apply(this,arguments)}function Jo(){return Jo=qo(s.a.mark(function t(e){var r,n;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=[],r.push(Ko(e[0],!0)),r.push(Ko(e[1])),t.prev=3,t.next=6,Promise.all(r);case 6:return n=t.sent,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t["catch"](3),t.abrupt("return",null);case 13:case"end":return t.stop()}},t,this,[[3,10]])})),Jo.apply(this,arguments)}function Yo(t,e){for(var r=t.split(","),n=window.atob(r[1]),i=r[0].match(/:(.*?);/)[1],o=i.split("/")[1],s=new ArrayBuffer(n.length),a=new Uint8Array(s),c=0;c<n.length;c++)a[c]=n.charCodeAt(c);var u=new Blob([s],{type:i});return{blob:u,name:e+"."+o}}function Go(t,e,r){return Qo.apply(this,arguments)}function Qo(){return Qo=qo(s.a.mark(function t(e,r,n){var i,o,a,c,u,l,h,p,d,f;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xo([e,"data:image/png;base64,"+r]);case 3:if(i=t.sent,o=document.createElement("canvas"),a=o.getContext("2d"),c=window.devicePixelRatio||1,u=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1,l=c/u,h=750,p=1334,o.setAttribute("width",h*l),o.setAttribute("height",p*l),o.style.width=h+"px",o.style.height=p+"px",a.scale(l,l),a.fillStyle="#3F4954",a.fillRect(0,0,h,p),a.drawImage(i[0],0,0,h,p),a.drawImage(i[1],275,870,200,200),d=o.toDataURL("image/jpeg",.1),f=(new Date).getTime(),!n){t.next=26;break}n(Yo(d,f)),t.next=27;break;case 26:return t.abrupt("return",Promise.resolve(Yo(d,f)));case 27:t.next=36;break;case 29:if(t.prev=29,t.t0=t["catch"](0),!n){t.next=35;break}n(null),t.next=36;break;case 35:return t.abrupt("return",null);case 36:case"end":return t.stop()}},t,this,[[0,29]])})),Qo.apply(this,arguments)}function Zo(t){var e=new FormData;return e.append("fileData",t.blob,t.name),e.append("subfolder","feccms"),K()({method:"post",url:"".concat("https://upload.tujia.com","/FileUpload.ashx"),data:e,headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(function(t){return 200===t.status?Promise.resolve("https://pic.tujia.com"+t.data.msg.url):Promise.resolve(null)})}r("ccd0"),r("e1b4");function ts(t){return Pe["a"].post("/feapi/bingo/h5/promotion/cms/detail",{id:t})}function es(t){return Pe["a"].post("/feapi/bingo/h5/promotion/cms/preview",{previewToken:t})}function rs(t){var e=t.lastIndexOf("/"),r=t.substring(e+1,t.length);return Pe["a"].post("/feapi/bingo/h5/wechat/getwxacode",{page:"pages/webview/index",scene:"gcd"+r}).then(function(t){return 0===t.errcode?Promise.resolve(t.data.wxACodeByteArray):Promise.resolve(null)})}function ns(){return Pe["a"].post("/feapi/bingo/h5/Config/getCommonConfigs",{})}var is=r("007f");function os(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[],n=e.length;if(t)for(var i=0;i<t;i++)r[i]=e[0|Math.random()*n];return r.join("")}function ss(t){if(""!==t.id)return'//*[@id="'+t.id+'"]';if(t===document.body)return"/html/"+t.tagName.toLowerCase();var e=t.parentNode.childNodes;e=Array.from(e).filter(function(e){return e.tagName===t.tagName});var r=e.length;if(1===r)return ss(t.parentNode)+"/"+t.tagName.toLowerCase();if(r>1)for(var n=1,i=0;i<r;i++){var o=e[i];if(o===t)return ss(t.parentNode)+"/"+t.tagName.toLowerCase()+"["+n+"]";1===o.nodeType&&o.tagName===t.tagName&&n++}}var as=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cs=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},us=os(),ls={},hs={},ps=window.history.pushState,ds=window.history.replaceState;function fs(){var t=window.location.toString();if(!window.nostorage){var e=sessionStorage.getItem("prevUrl"),r=sessionStorage.getItem("currUrl");return t!=r&&(sessionStorage.setItem("prevUrl",r||""),sessionStorage.setItem("currUrl",t),e=r),e||document.referrer}}function ms(t){var e=t||{},r=e.appId,n=e.platform,i=e.logversion,o=e.source,s=e.path,a=cs(e,["appId","platform","logversion","source","path"]);ls={appId:r,platform:n,logversion:i,source:o},hs=a,Object(is["reportInit"])(as({},ls,{path:s||"webActionLog"}))}function vs(t,e){hs[t]=e}function ys(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(new Date).getTime();hs.eventpage=t,Object(is["reportLog"])(as({Referer:fs(),url:location.href,eventtype:"page",eventtime:r,eventpage:t,actpos:[],xpath:"",actionid:0,itemtext:null,itemotherinfo:null,triceid:r,eventpageid:us,params:e},hs))}function gs(t){for(var e=t.target,r=e,n=!1,i=e;i&&!n&&i!==document.body&&i.parentNode;i=i.parentNode){var o=i.getAttribute("data-actionid");o&&(n=!0,r=i)}var s=(new Date).getTime(),a=as({Referer:fs(),url:location.href,eventtype:"click",eventtime:s,eventpage:hs.eventpageid,actpos:[t.pageX,t.pageY],triceid:s,eventpageid:us,xpath:ss(e)},hs);if(n){var c=r.getAttribute("data-actionid"),u=r.getAttribute("data-itemotherinfo"),l=r.getAttribute("data-href"),h=r.getAttribute("data-itemtext");a.actionid=c,a.itemText=h,a.itemotherinfo=u,a.hrefurl=l}else a.itemText=e.innerText;return Object(is["reportLog"])(a),t}function bs(){var t=Fr.a.get("".concat("tujia.com","_PortalContext_UserId")),e=Fr.a.get("tujia_code")||"",r=Fr.a.get("tujia_code_site")||"";ms({appId:"CMS_SITE",platform:"h5",logversion:"1.0",tujia_code:e,tujia_code_site:r,source:"5",path:"webActionLog"}),vs("userId",t),ys("cms_activity")}function ws(){var t,e=document.location.search,r=/(?:^\?|&)(.*?)=(.*?)(?=&|$)/g,n={};while(null!==(t=r.exec(e)))n[t[1]]=decodeURIComponent(t[2]);return n}function _s(t){return(document.location.search.match(new RegExp("(?:^\\?|&)"+t+"=(.*?)(?=&|$)"))||["",null])[1]}function Ts(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function Ss(t){return window.location.origin+window.location.pathName+"?"+Ts(t)}function Cs(t){if(!t)return{};t=decodeURIComponent(t);var e=t.split("?");if(e.length>1){var r,n="?"+e[1],i=/(?:^\?|&)(.*?)=(.*?)(?=&|$)/g,o={};while(null!==(r=i.exec(n)))o[r[1]]=decodeURIComponent(r[2]);return o}return{}}window.history.pushState&&(window.history.pushState=function(t){return window.nostorage||sessionStorage.setItem("prevUrl",window.location.toString()),ps.apply(window.history,arguments)}),window.history.replaceState&&(window.history.replaceState=function(t){return window.nostorage||sessionStorage.setItem("prevUrl",window.location.toString()),ds.apply(window.history,arguments)}),window.addEventListener?window.addEventListener("click",gs,!0):window.attachEvent&&window.addEventListener("onclick",gs);var ks={queryStrings:ws,queryString:_s,getStringByObject:Ts,getCurrentUrlByQuerys:Ss,getQueryStringByStringUrl:Cs};function Es(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(n,i)}function Ps(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(t){Es(o,n,i,s,a,"next",t)}function a(t){Es(o,n,i,s,a,"throw",t)}s(void 0)})}}function xs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){Os(t,e,r[e])})}return t}function Os(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var js={components:xs({},Gi,{"qunar-header":$o,"top-btn":oo,"share-comp":Co,"order-atmosphere":Mo,Toast:Ee,Rules:ho,"rules-btn":go,"pc-header":jo}),data:function(){return{promotion:null,children:[],entryInfo:{},share:{},msg:"",showToast:!1,channel:"2",title:"",showRules:!1,rules:{},rulesImg:"",needShowOrder:!1,atmosphereConfig:{}}},created:function(){var t=Ps(s.a.mark(function t(){var e,n,i,o,a,c,u,l,h=this;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.query,n=e.id,window.nostorage||(n?localStorage.setItem("id",n):n=localStorage.getItem("id")),this.$root.promotionId=n,i="preview"===e.mode,2!==this.platform||window.WebViewJavascriptBridge||r("fa1e"),o=r("066b").default,o(e),this.$root.query=e,this.$root.atm_source=e.atm_source,bs(e.tujia_code),t.prev=12,t.next=15,ns();case 15:a=t.sent,a.data&&a.data.userInfo&&(this.$root.isOldUser=a.data.userInfo.oldUser),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](12),Object(he["a"])(t.t0);case 22:t.next=25;break;case 24:0;case 25:if(window.WeixinJSBridge&&window.WeixinJSBridge.invoke||document.addEventListener("WeixinJSBridgeReady",this.checkWxReady,!1),c=null,u=!1,t.prev=28,!i){t.next=36;break}return this.$root.isPreview=!0,t.next=33,es(n);case 33:c=t.sent,t.next=39;break;case 36:return t.next=38,ts(n);case 38:c=t.sent;case 39:if(!c||0!==c.errcode){t.next=44;break}this.initPromotion(c.data),this.TJShare=r("790a").default,this.tjShare=this.TJShare.getInstance(),l=this,this.tjShare.getPlatformType(function(t){t===h.TJShare.platformTypes.WX_ENV&&l.platformShare({isNeedWxTip:!1,wxTimeLineImgUrl:null,appWxType:1,platformEnv:t})}),t.next=52;break;case 44:if(404!==c.errcode){t.next=51;break}t.next=48;break;case 48:window.location.href="/wrongpromotionid",t.next=52;break;case 51:u=!0;case 52:t.next=58;break;case 54:t.prev=54,t.t1=t["catch"](28),console.error(t.t1),Object(he["a"])(t.t1);case 58:u&&(this.msg="活动信息加载失败！",this.showToast=!0,Object(he["a"])(c));case 59:case"end":return t.stop()}},t,this,[[12,19],[28,54]])}));return function(){return t.apply(this,arguments)}}(),destroyed:function(){document.removeEventListener("WeixinJSBridgeReady",this.checkWxReady,!1)},methods:{shareHandle:function(){var t=Ps(s.a.mark(function t(e){var r,n,i,o,a;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$root.isPreview){t.next=25;break}if(r="",n=!1,2!==e&&0!==e||3===this.platform||4===this.platform||!this.share||!this.share.weShare){t.next=21;break}return t.prev=5,t.next=8,rs(this.share.weShare.goLink);case 8:return i=t.sent,t.next=11,Go(this.picHost+this.share.weShare.shareSceneTimeline,i);case 11:return o=t.sent,t.next=14,Zo(o);case 14:r=t.sent,t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](5),console.error(t.t0),Object(he["a"])(t.t0);case 21:n?(console.error("shareHandle Error"),Object(he["a"])({message:"shareHandle Error"})):(a=this,this.tjShare.getPlatformType(function(t){console.log(t),a.platformShare({isNeedWxTip:!0,wxTimeLineImgUrl:r,appWxType:e,platformEnv:t})})),t.next=25;break;case 24:0;case 25:case"end":return t.stop()}},t,this,[[5,17]])}));return function(e){return t.apply(this,arguments)}}(),platformShare:function(t){var e=t.isNeedWxTip,r=t.wxTimeLineImgUrl,n=t.appWxType,i=t.platformEnv;if("true"===this.$route.query.vconsole){var o=JSON.stringify(arguments[0]);console.log(o),window.__tjshare=this.tjShare}var s=this,a=this.share.normalShare.shareTitle,c=this.share.normalShare.shareDescription,u=a,l=this.picHost+this.share.normalShare.shareImg,h=window.location.href,p=r,d="",f="gh_8e5bfcfff118",m="";this.share.weShare&&(d=this.picHost+this.share.weShare.shareSceneSession,i===this.TJShare.platformTypes.APP_ENV?1===n?(a=this.share.weShare.shareTitle,m=d):(a="",h="",m=p):i===this.TJShare.platformTypes.MP_ENV&&(a="",c="",u=this.share.weShare.shareTitle));var v=null;switch(n){case 1:v=-2;break;case 2:v=-1;break;default:v=-2;break}this.tjShare.share({url:h,title:a,desc:c,appConfig:{mpAppId:f,mpUrl:"/pages/webview/index?h5url=".concat(encodeURIComponent(h)),mpEnvType:null,wxSharedImageUrl:m,wxSharedType:v},wxConfig:{isWxTip:!0===e,wxShareImgUrl:l,wxShareApiTestEnv:null},wxMpConfig:{shareContTxt:u,canvasimgUrl:p,shareImageUrl:d,backUrl:null,imgUrl:null,btnTextLeft:null,btnTextRight:null,bgImgUrl:"",miniPath:null,loginType:null},wbConfig:{wbShareImgUrl:l},callback:function(t){!t.success&&e&&"2"!==this.platform&&(s.showToast=!0,s.msg="分享失败！",Object(he["a"])({message:"分享失败",url:h,title:a,desc:c,appConfig:{mpAppId:f,mpUrl:"/pages/webview/index?h5url=".concat(encodeURIComponent(h)),mpEnvType:null,wxSharedImageUrl:m,wxSharedType:v},wxConfig:{isWxTip:!0===e,wxShareImgUrl:l,wxShareApiTestEnv:null},wxMpConfig:{shareContTxt:u,canvasimgUrl:p,shareImageUrl:d,backUrl:null,imgUrl:null,btnTextLeft:null,btnTextRight:null,bgImgUrl:"",miniPath:null,loginType:null},wbConfig:{wbShareImgUrl:l}}))}})},checkWxReady:function(){"miniprogram"===window.__wxjs_environment&&(this.platform=1)},initPromotion:function(t){if(t){this.promotion=t;try{var e=t.data&&JSON.parse(t.data.data||"{}");console.log("数据",e),document.title=e.data.htmlTitle,document.body.style.backgroundColor=e.data.backgroundColor,this.$root.cityId=ks.queryString("cityId"),this.$root.tmpHouseList=e.houseList,this.$root.activityInfo=t.data||{},this.children=e.data.children,this.channel=e.channel,this.entryInfo={needShowEntry:e.data.privateProps.needShowEntry,info:e.data.privateProps.entry},this.share={weShare:e.data.privateProps.needShareToWechat?e.data.privateProps.shareSetting:null,normalShare:{shareTitle:e.data.shareTitle,shareDescription:e.data.shareDescription,shareImg:e.data.shareImg}},e.data.privateProps.needShowOrder&&(this.needShowOrder=!0,this.atmosphereConfig=e.data.privateProps.order),this.$root.isMobile="2"===e.channel,window.nostorage||(this.$root.promotionId=localStorage.getItem("id"))}catch(r){this.msg="活动信息数据格式错误！",this.showToast=!0,Object(he["a"])(r)}}},rulesHandle:function(t){this.showRules=t}}},As=js,Is=(r("acaf"),Object(g["a"])(As,n,i,!1,null,null,null));Is.options.__file="index.vue";e["default"]=Is.exports},"60b8":function(t,e,r){"use strict";var n=r("86a2"),i=r.n(n);i.a},6444:function(t,e,r){var n=r("ca9f"),i=r("d024"),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var e={};return i(n(t).split("\n"),function(t){var r=t.indexOf(":"),i=n(t.slice(0,r)).toLowerCase(),s=n(t.slice(r+1));"undefined"===typeof e[i]?e[i]=s:o(e[i])?e[i].push(s):e[i]=[e[i],s]}),e}},"67a1":function(t,e,r){"use strict";var n=r("3adf"),i=r.n(n);i.a},"688e":function(t,e,r){"use strict";var n="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,s="[object Function]";t.exports=function(t){var e=this;if("function"!==typeof e||o.call(e)!==s)throw new TypeError(n+e);for(var r,a=i.call(arguments,1),c=function(){if(this instanceof r){var n=e.apply(this,a.concat(i.call(arguments)));return Object(n)===n?n:this}return e.apply(t,a.concat(i.call(arguments)))},u=Math.max(0,e.length-a.length),l=[],h=0;h<u;h++)l.push("$"+h);if(r=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),e.prototype){var p=function(){};p.prototype=e.prototype,r.prototype=new p,p.prototype=null}return r}},"6d1a":function(t,e,r){var n;function i(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}function o(t){function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!==typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;c++;var i=e.formatters[n];if("function"===typeof i){var o=s[c];r=i.call(t,o),s.splice(c,1),c--}return r}),e.formatArgs.call(t,s);var u=r.log||e.log||console.log.bind(console);u.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=i(t),"function"===typeof e.init&&e.init(r),r}function s(t){e.save(t),e.names=[],e.skips=[];for(var r=("string"===typeof t?t:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&(t=r[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function a(){e.enable("")}function c(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o["default"]=o,e.coerce=u,e.disable=a,e.enable=s,e.enabled=c,e.humanize=r("4173"),e.names=[],e.skips=[],e.formatters={}},"6e3e":function(t,e,r){"use strict";var n=r("eb3b"),i=r.n(n);i.a},"6ea9":function(t,e,r){"use strict";var n=r("88c4"),i=r.n(n);i.a},"6ef2":function(t,e,r){"use strict";var n=r("ca20"),i=r.n(n);i.a},"720d":function(t,e,r){(function(t,r){r(e)})(0,function(t){"use strict";var e="0123456789abcdefghijklmnopqrstuvwxyz";function r(t){return e.charAt(t)}function n(t,e){return t&e}function i(t,e){return t|e}function o(t,e){return t^e}function s(t,e){return t&~e}function a(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function c(t){var e=0;while(0!=t)t&=t-1,++e;return e}var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l="=";function h(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=u.charAt(r>>6)+u.charAt(63&r);e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=u.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=u.charAt(r>>2)+u.charAt((3&r)<<4));while((3&n.length)>0)n+=l;return n}function p(t){var e,n="",i=0,o=0;for(e=0;e<t.length;++e){if(t.charAt(e)==l)break;var s=u.indexOf(t.charAt(e));s<0||(0==i?(n+=r(s>>2),o=3&s,i=1):1==i?(n+=r(o<<2|s>>4),o=15&s,i=2):2==i?(n+=r(o),n+=r(s>>2),o=3&s,i=3):(n+=r(o<<2|s>>4),n+=r(15&s),i=0))}return 1==i&&(n+=r(o<<2)),n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var d,f=function(t,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},f(t,e)};function m(t,e){function r(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var v,y={decode:function(t){var e;if(void 0===d){var r="0123456789ABCDEF",n=" \f\n\r\t \u2028\u2029";for(d={},e=0;e<16;++e)d[r.charAt(e)]=e;for(r=r.toLowerCase(),e=10;e<16;++e)d[r.charAt(e)]=e;for(e=0;e<n.length;++e)d[n.charAt(e)]=-1}var i=[],o=0,s=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(a=d[a],-1!=a){if(void 0===a)throw new Error("Illegal character at offset "+e);o|=a,++s>=2?(i[i.length]=o,o=0,s=0):o<<=4}}if(s)throw new Error("Hex encoding incomplete: 4 bits missing");return i}},g={decode:function(t){var e;if(void 0===v){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="= \f\n\r\t \u2028\u2029";for(v=Object.create(null),e=0;e<64;++e)v[r.charAt(e)]=e;for(e=0;e<n.length;++e)v[n.charAt(e)]=-1}var i=[],o=0,s=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(a=v[a],-1!=a){if(void 0===a)throw new Error("Illegal character at offset "+e);o|=a,++s>=4?(i[i.length]=o>>16,i[i.length]=o>>8&255,i[i.length]=255&o,o=0,s=0):o<<=6}}switch(s){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=o>>10;break;case 3:i[i.length]=o>>16,i[i.length]=o>>8&255;break}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=g.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return g.decode(t)}},b=1e13,w=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var r,n,i=this.buf,o=i.length;for(r=0;r<o;++r)n=i[r]*t+e,n<b?e=0:(e=0|n/b,n-=e*b),i[r]=n;e>0&&(i[r]=e)},t.prototype.sub=function(t){var e,r,n=this.buf,i=n.length;for(e=0;e<i;++e)r=n[e]-t,r<0?(r+=b,t=1):t=0,n[e]=r;while(0===n[n.length-1])n.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,r=e[e.length-1].toString(),n=e.length-2;n>=0;--n)r+=(b+e[n]).toString().substring(1);return r},t.prototype.valueOf=function(){for(var t=this.buf,e=0,r=t.length-1;r>=0;--r)e=e*b+t[r];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),_="…",T=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,S=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function C(t,e){return t.length>e&&(t=t.substring(0,e)+_),t}var k,E=function(){function t(e,r){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=r)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"===typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,r){for(var n="",i=t;i<e;++i)if(n+=this.hexByte(this.get(i)),!0!==r)switch(15&i){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},t.prototype.isASCII=function(t,e){for(var r=t;r<e;++r){var n=this.get(r);if(n<32||n>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var r="",n=t;n<e;++n)r+=String.fromCharCode(this.get(n));return r},t.prototype.parseStringUTF=function(t,e){for(var r="",n=t;n<e;){var i=this.get(n++);r+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(n++)):String.fromCharCode((15&i)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return r},t.prototype.parseStringBMP=function(t,e){for(var r,n,i="",o=t;o<e;)r=this.get(o++),n=this.get(o++),i+=String.fromCharCode(r<<8|n);return i},t.prototype.parseTime=function(t,e,r){var n=this.parseStringISO(t,e),i=(r?T:S).exec(n);return i?(r&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},t.prototype.parseInteger=function(t,e){var r,n=this.get(t),i=n>127,o=i?255:0,s="";while(n==o&&++t<e)n=this.get(t);if(r=e-t,0===r)return i?-1:0;if(r>4){s=n,r<<=3;while(0==(128&(+s^o)))s=+s<<1,--r;s="("+r+" bit)\n"}i&&(n-=256);for(var a=new w(n),c=t+1;c<e;++c)a.mulAdd(256,this.get(c));return s+a.toString()},t.prototype.parseBitString=function(t,e,r){for(var n=this.get(t),i=(e-t-1<<3)-n,o="("+i+" bit)\n",s="",a=t+1;a<e;++a){for(var c=this.get(a),u=a==e-1?n:0,l=7;l>=u;--l)s+=c>>l&1?"1":"0";if(s.length>r)return o+C(s,r)}return o+s},t.prototype.parseOctetString=function(t,e,r){if(this.isASCII(t,e))return C(this.parseStringISO(t,e),r);var n=e-t,i="("+n+" byte)\n";r/=2,n>r&&(e=t+r);for(var o=t;o<e;++o)i+=this.hexByte(this.get(o));return n>r&&(i+=_),i},t.prototype.parseOID=function(t,e,r){for(var n="",i=new w,o=0,s=t;s<e;++s){var a=this.get(s);if(i.mulAdd(128,127&a),o+=7,!(128&a)){if(""===n)if(i=i.simplify(),i instanceof w)i.sub(80),n="2."+i.toString();else{var c=i<80?i<40?0:1:2;n=c+"."+(i-40*c)}else n+="."+i.toString();if(n.length>r)return C(n,r);i=new w,o=0}}return o>0&&(n+=".incomplete"),n},t}(),P=function(){function t(t,e,r,n,i){if(!(n instanceof x))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=r,this.tag=n,this.sub=i}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),r=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+r);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+r,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+r,t);case 6:return this.stream.parseOID(e,e+r,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return C(this.stream.parseStringUTF(e,e+r),t);case 18:case 19:case 20:case 21:case 22:case 26:return C(this.stream.parseStringISO(e,e+r),t);case 30:return C(this.stream.parseStringBMP(e,e+r),t);case 23:case 24:return this.stream.parseTime(e,e+r,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var r=0,n=this.sub.length;r<n;++r)e+=this.sub[r].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),r=127&e;if(r==e)return r;if(r>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===r)return null;e=0;for(var n=0;n<r;++n)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,r=2*this.length;return t.substr(e,r)},t.decode=function(e){var r;r=e instanceof E?e:new E(e,0);var n=new E(r),i=new x(r),o=t.decodeLength(r),s=r.pos,a=s-n.pos,c=null,u=function(){var e=[];if(null!==o){var n=s+o;while(r.pos<n)e[e.length]=t.decode(r);if(r.pos!=n)throw new Error("Content size is not correct for container starting at offset "+s)}else try{for(;;){var i=t.decode(r);if(i.tag.isEOC())break;e[e.length]=i}o=s-r.pos}catch(a){throw new Error("Exception while decoding undefined length content: "+a)}return e};if(i.tagConstructed)c=u();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=r.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");c=u();for(var l=0;l<c.length;++l)if(c[l].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(h){c=null}if(null===c){if(null===o)throw new Error("We can't skip over an invalid tag with undefined length at offset "+s);r.pos=s+Math.abs(o)}return new t(n,a,o,i,c)},t}(),x=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!==(32&e),this.tagNumber=31&e,31==this.tagNumber){var r=new w;do{e=t.get(),r.mulAdd(128,127&e)}while(128&e);this.tagNumber=r.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),O=0xdeadbeefcafe,j=15715070==(16777215&O),A=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],I=(1<<26)/A[A.length-1],D=function(){function t(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,o=!1,s="",a=this.t,c=this.DB-a*this.DB%e;if(a-- >0){c<this.DB&&(n=this[a]>>c)>0&&(o=!0,s=r(n));while(a>=0)c<e?(n=(this[a]&(1<<c)-1)<<e-c,n|=this[--a]>>(c+=this.DB-e)):(n=this[a]>>(c-=e)&i,c<=0&&(c+=this.DB,--a)),n>0&&(o=!0),o&&(s+=r(n))}return o?s:"0"},t.prototype.negate=function(){var e=M();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(e=r-t.t,0!=e)return this.s<0?-e:e;while(--r>=0)if(0!=(e=this[r]-t[r]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+J(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var r=M();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&e.subTo(r,r),r},t.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new L(e):new R(e),this.exp(t,r)},t.prototype.clone=function(){var t=M();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0){n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);while(t>=0)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r)}return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=M();return this.bitwiseTo(t,n,e),e},t.prototype.or=function(t){var e=M();return this.bitwiseTo(t,i,e),e},t.prototype.xor=function(t){var e=M();return this.bitwiseTo(t,o,e),e},t.prototype.andNot=function(t){var e=M();return this.bitwiseTo(t,s,e),e},t.prototype.not=function(){for(var t=M(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=M();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=M();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+a(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=c(this[r]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,i)},t.prototype.clearBit=function(t){return this.changeBit(t,s)},t.prototype.flipBit=function(t){return this.changeBit(t,o)},t.prototype.add=function(t){var e=M();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=M();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=M();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=M();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=M();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=M(),r=M();return this.divRemTo(t,e,r),[e,r]},t.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),o=X(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new L(e):e.isEven()?new B(e):new R(e);var s=[],a=3,c=r-1,u=(1<<r)-1;if(s[1]=n.convert(this),r>1){var l=M();n.sqrTo(s[1],l);while(a<=u)s[a]=M(),n.mulTo(l,s[a-2],s[a]),a+=2}var h,p,d=t.t-1,f=!0,m=M();i=J(t[d])-1;while(d>=0){i>=c?h=t[d]>>i-c&u:(h=(t[d]&(1<<i+1)-1)<<c-i,d>0&&(h|=t[d-1]>>this.DB+i-c)),a=r;while(0==(1&h))h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--d),f)s[h].copyTo(o),f=!1;else{while(a>1)n.sqrTo(o,m),n.sqrTo(m,o),a-=2;a>0?n.sqrTo(o,m):(p=o,o=m,m=p),n.mulTo(m,s[h],o)}while(d>=0&&0==(t[d]&1<<i))n.sqrTo(o,m),p=o,o=m,m=p,--i<0&&(i=this.DB-1,--d)}return n.revert(o)},t.prototype.modInverse=function(e){var r=e.isEven();if(this.isEven()&&r||0==e.signum())return t.ZERO;var n=e.clone(),i=this.clone(),o=X(1),s=X(0),a=X(0),c=X(1);while(0!=n.signum()){while(n.isEven())n.rShiftTo(1,n),r?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);while(i.isEven())i.rShiftTo(1,i),r?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(i)>=0?(n.subTo(i,n),r&&o.subTo(a,o),s.subTo(c,s)):(i.subTo(n,i),r&&a.subTo(o,a),c.subTo(s,c))}return 0!=i.compareTo(t.ONE)?t.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},t.prototype.pow=function(t){return this.exp(t,new N)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));while(e.signum()>0)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},t.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=A[A.length-1]){for(e=0;e<A.length;++e)if(r[0]==A[e])return!0;return!1}if(r.isEven())return!1;e=1;while(e<A.length){var n=A[e],i=e+1;while(i<A.length&&n<I)n*=A[i++];n=r.modInt(n);while(e<i)if(n%A[e++]==0)return!1}return r.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(e,r);n=2}this.t=0,this.s=0;var i=e.length,o=!1,s=0;while(--i>=0){var a=8==n?255&+e[i]:K(e,i);a<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=n,s>=this.DB&&(s-=this.DB))}8==n&&0!=(128&+e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){var t=this.s&this.DM;while(this.t>0&&this[this.t-1]==t)--this.t},t.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),s=this.s<<r&this.DM,a=this.t-1;a>=0;--a)e[a+o+1]=this[a]>>n|s,s=(this[a]&i)<<r;for(a=o-1;a>=0;--a)e[a]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&o)<<i,e[s-r]=this[s]>>n;n>0&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},t.prototype.subTo=function(t,e){var r=0,n=0,i=Math.min(t.t,this.t);while(r<i)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){n-=t.s;while(r<this.t)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{n+=this.s;while(r<t.t)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},t.prototype.multiplyTo=function(e,r){var n=this.abs(),i=e.abs(),o=n.t;r.t=o+i.t;while(--o>=0)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=e.s&&t.ZERO.subTo(r,r)},t.prototype.squareTo=function(t){var e=this.abs(),r=t.t=2*e.t;while(--r>=0)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,r,n){var i=e.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=M());var s=M(),a=this.s,c=e.s,u=this.DB-J(i[i.t-1]);u>0?(i.lShiftTo(u,s),o.lShiftTo(u,n)):(i.copyTo(s),o.copyTo(n));var l=s.t,h=s[l-1];if(0!=h){var p=h*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),d=this.FV/p,f=(1<<this.F1)/p,m=1<<this.F2,v=n.t,y=v-l,g=null==r?M():r;s.dlShiftTo(y,g),n.compareTo(g)>=0&&(n[n.t++]=1,n.subTo(g,n)),t.ONE.dlShiftTo(l,g),g.subTo(s,s);while(s.t<l)s[s.t++]=0;while(--y>=0){var b=n[--v]==h?this.DM:Math.floor(n[v]*d+(n[v-1]+m)*f);if((n[v]+=s.am(0,b,n,y,0,l))<b){s.dlShiftTo(y,g),n.subTo(g,n);while(n[v]<--b)n.subTo(g,n)}}null!=r&&(n.drShiftTo(l,r),a!=c&&t.ZERO.subTo(r,r)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&t.ZERO.subTo(n,n)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,r){if(e>4294967295||e<1)return t.ONE;var n=M(),i=M(),o=r.convert(this),s=J(e)-1;o.copyTo(n);while(--s>=0)if(r.sqrTo(n,i),(e&1<<s)>0)r.mulTo(i,o,n);else{var a=n;n=i,i=a}return r.revert(n)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=X(r),i=M(),o=M(),s="";this.divRemTo(n,i,o);while(i.signum()>0)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s},t.prototype.fromRadix=function(e,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),i=Math.pow(r,n),o=!1,s=0,a=0,c=0;c<e.length;++c){var u=K(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(o=!0):(a=r*a+u,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(r,s)),this.dAddOffset(a,0)),o&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,r,n){if("number"==typeof r)if(e<2)this.fromInt(1);else{this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),i,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(r))this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this)}else{var o=[],s=7&e;o.length=1+(e>>3),r.nextBytes(o),s>0?o[0]&=(1<<s)-1:o[0]=0,this.fromString(o,256)}},t.prototype.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},t.prototype.changeBit=function(e,r){var n=t.ONE.shiftLeft(e);return this.bitwiseTo(n,r,n),n},t.prototype.addTo=function(t,e){var r=0,n=0,i=Math.min(t.t,this.t);while(r<i)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){n+=t.s;while(r<this.t)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{n+=this.s;while(r<t.t)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){while(this.t<=e)this[this.t++]=0;this[e]+=t;while(this[e]>=this.DV)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,r){var n=Math.min(this.t+t.t,e);r.s=0,r.t=n;while(n>0)r[--n]=0;for(var i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()},t.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;r.s=0;while(--n>=0)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},t.prototype.millerRabin=function(e){var r=this.subtract(t.ONE),n=r.getLowestSetBit();if(n<=0)return!1;var i=r.shiftRight(n);e=e+1>>1,e>A.length&&(e=A.length);for(var o=M(),s=0;s<e;++s){o.fromInt(A[Math.floor(Math.random()*A.length)]);var a=o.modPow(i,this);if(0!=a.compareTo(t.ONE)&&0!=a.compareTo(r)){var c=1;while(c++<n&&0!=a.compareTo(r))if(a=a.modPowInt(2,this),0==a.compareTo(t.ONE))return!1;if(0!=a.compareTo(r))return!1}}return!0},t.prototype.square=function(){var t=M();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var r=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(r.compareTo(n)<0){var i=r;r=n,n=i}var o=r.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)e(r);else{o<s&&(s=o),s>0&&(r.rShiftTo(s,r),n.rShiftTo(s,n));var a=function(){(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),r.compareTo(n)>=0?(r.subTo(n,r),r.rShiftTo(1,r)):(n.subTo(r,n),n.rShiftTo(1,n)),r.signum()>0?setTimeout(a,0):(s>0&&n.lShiftTo(s,n),setTimeout(function(){e(n)},0))};setTimeout(a,10)}},t.prototype.fromNumberAsync=function(e,r,n,o){if("number"==typeof r)if(e<2)this.fromInt(1);else{this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),i,this),this.isEven()&&this.dAddOffset(1,0);var s=this,a=function(){s.dAddOffset(2,0),s.bitLength()>e&&s.subTo(t.ONE.shiftLeft(e-1),s),s.isProbablePrime(r)?setTimeout(function(){o()},0):setTimeout(a,0)};setTimeout(a,0)}else{var c=[],u=7&e;c.length=1+(e>>3),r.nextBytes(c),u>0?c[0]&=(1<<u)-1:c[0]=0,this.fromString(c,256)}},t}(),N=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),L=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),R=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=M();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(D.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=M();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){while(t.t<=this.mt2)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);while(t[r]>=t.DV)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),B=function(){function t(t){this.m=t,this.r2=M(),this.q3=M(),D.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=M();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(t.compareTo(this.r2)<0)t.dAddOffset(1,this.m.t+1);t.subTo(this.r2,t);while(t.compareTo(this.m)>=0)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function M(){return new D(null)}function H(t,e){return new D(t,e)}function U(t,e,r,n,i,o){while(--o>=0){var s=e*this[t++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i}function F(t,e,r,n,i,o){var s=32767&e,a=e>>15;while(--o>=0){var c=32767&this[t],u=this[t++]>>15,l=a*c+u*s;c=s*c+((32767&l)<<15)+r[n]+(1073741823&i),i=(c>>>30)+(l>>>15)+a*u+(i>>>30),r[n++]=1073741823&c}return i}function V(t,e,r,n,i,o){var s=16383&e,a=e>>14;while(--o>=0){var c=16383&this[t],u=this[t++]>>14,l=a*c+u*s;c=s*c+((16383&l)<<14)+r[n]+i,i=(c>>28)+(l>>14)+a*u,r[n++]=268435455&c}return i}j&&"Microsoft Internet Explorer"==navigator.appName?(D.prototype.am=F,k=30):j&&"Netscape"!=navigator.appName?(D.prototype.am=U,k=26):(D.prototype.am=V,k=28),D.prototype.DB=k,D.prototype.DM=(1<<k)-1,D.prototype.DV=1<<k;var z=52;D.prototype.FV=Math.pow(2,z),D.prototype.F1=z-k,D.prototype.F2=2*k-z;var $,W,q=[];for($="0".charCodeAt(0),W=0;W<=9;++W)q[$++]=W;for($="a".charCodeAt(0),W=10;W<36;++W)q[$++]=W;for($="A".charCodeAt(0),W=10;W<36;++W)q[$++]=W;function K(t,e){var r=q[t.charCodeAt(e)];return null==r?-1:r}function X(t){var e=M();return e.fromInt(t),e}function J(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}D.ZERO=X(0),D.ONE=X(1);var Y=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();function G(){return new Y}var Q,Z,tt=256,et=null;if(null==et){et=[],Z=0;var rt=void 0;if(window.crypto&&window.crypto.getRandomValues){var nt=new Uint32Array(256);for(window.crypto.getRandomValues(nt),rt=0;rt<nt.length;++rt)et[Z++]=255&nt[rt]}var it=function(t){if(this.count=this.count||0,this.count>=256||Z>=tt)window.removeEventListener?window.removeEventListener("mousemove",it,!1):window.detachEvent&&window.detachEvent("onmousemove",it);else try{var e=t.x+t.y;et[Z++]=255&e,this.count+=1}catch(r){}};window.addEventListener?window.addEventListener("mousemove",it,!1):window.attachEvent&&window.attachEvent("onmousemove",it)}function ot(){if(null==Q){Q=G();while(Z<tt){var t=Math.floor(65536*Math.random());et[Z++]=255&t}for(Q.init(et),Z=0;Z<et.length;++Z)et[Z]=0;Z=0}return Q.next()}var st=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=ot()},t}();function at(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var r=e-t.length-6,n="",i=0;i<r;i+=2)n+="ff";var o="0001"+n+"00"+t;return H(o,16)}function ct(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;var r=[],n=t.length-1;while(n>=0&&e>0){var i=t.charCodeAt(n--);i<128?r[--e]=i:i>127&&i<2048?(r[--e]=63&i|128,r[--e]=i>>6|192):(r[--e]=63&i|128,r[--e]=i>>6&63|128,r[--e]=i>>12|224)}r[--e]=0;var o=new st,s=[];while(e>2){s[0]=0;while(0==s[0])o.nextBytes(s);r[--e]=s[0]}return r[--e]=2,r[--e]=0,new D(r)}var ut=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);var e=t.mod(this.p).modPow(this.dmp1,this.p),r=t.mod(this.q).modPow(this.dmq1,this.q);while(e.compareTo(r)<0)e=e.add(this.p);return e.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=H(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=ct(t,this.n.bitLength()+7>>3);if(null==e)return null;var r=this.doPublic(e);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},t.prototype.setPrivate=function(t,e,r){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=H(t,16),this.e=parseInt(e,16),this.d=H(r,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,r,n,i,o,s,a){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=H(t,16),this.e=parseInt(e,16),this.d=H(r,16),this.p=H(n,16),this.q=H(i,16),this.dmp1=H(o,16),this.dmq1=H(s,16),this.coeff=H(a,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var r=new st,n=t>>1;this.e=parseInt(e,16);for(var i=new D(e,16);;){for(;;)if(this.p=new D(t-n,1,r),0==this.p.subtract(D.ONE).gcd(i).compareTo(D.ONE)&&this.p.isProbablePrime(10))break;for(;;)if(this.q=new D(n,1,r),0==this.q.subtract(D.ONE).gcd(i).compareTo(D.ONE)&&this.q.isProbablePrime(10))break;if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(D.ONE),a=this.q.subtract(D.ONE),c=s.multiply(a);if(0==c.gcd(i).compareTo(D.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(c),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=H(t,16),r=this.doPrivate(e);return null==r?null:lt(r,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,r){var n=new st,i=t>>1;this.e=parseInt(e,16);var o=new D(e,16),s=this,a=function(){var e=function(){if(s.p.compareTo(s.q)<=0){var t=s.p;s.p=s.q,s.q=t}var e=s.p.subtract(D.ONE),n=s.q.subtract(D.ONE),i=e.multiply(n);0==i.gcd(o).compareTo(D.ONE)?(s.n=s.p.multiply(s.q),s.d=o.modInverse(i),s.dmp1=s.d.mod(e),s.dmq1=s.d.mod(n),s.coeff=s.q.modInverse(s.p),setTimeout(function(){r()},0)):setTimeout(a,0)},c=function(){s.q=M(),s.q.fromNumberAsync(i,1,n,function(){s.q.subtract(D.ONE).gcda(o,function(t){0==t.compareTo(D.ONE)&&s.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(c,0)})})},u=function(){s.p=M(),s.p.fromNumberAsync(t-i,1,n,function(){s.p.subtract(D.ONE).gcda(o,function(t){0==t.compareTo(D.ONE)&&s.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(u,0)})})};setTimeout(u,0)};setTimeout(a,0)},t.prototype.sign=function(t,e,r){var n=pt(r),i=n+e(t).toString(),o=at(i,this.n.bitLength()/4);if(null==o)return null;var s=this.doPrivate(o);if(null==s)return null;var a=s.toString(16);return 0==(1&a.length)?a:"0"+a},t.prototype.verify=function(t,e,r){var n=H(e,16),i=this.doPublic(n);if(null==i)return null;var o=i.toString(16).replace(/^1f+00/,""),s=dt(o);return s==r(t).toString()},t}();function lt(t,e){var r=t.toByteArray(),n=0;while(n<r.length&&0==r[n])++n;if(r.length-n!=e-1||2!=r[n])return null;++n;while(0!=r[n])if(++n>=r.length)return null;var i="";while(++n<r.length){var o=255&r[n];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&r[n+1]),++n):(i+=String.fromCharCode((15&o)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return i}var ht={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function pt(t){return ht[t]||""}function dt(t){for(var e in ht)if(ht.hasOwnProperty(e)){var r=ht[e],n=r.length;if(t.substr(0,n)==r)return t.substr(n)}return t}
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/var ft={};ft.lang={extend:function(t,e,r){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var n=function(){};if(n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),r){var i;for(i in r)t.prototype[i]=r[i];var o=function(){},s=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(o=function(t,e){for(i=0;i<s.length;i+=1){var r=s[i],n=e[r];"function"===typeof n&&n!=Object.prototype[r]&&(t[r]=n)}})}catch(a){}o(t.prototype,r)}}};
/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
var mt={};"undefined"!=typeof mt.asn1&&mt.asn1||(mt.asn1={}),mt.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1),n=r.length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var i="",o=0;o<n;o++)i+="f";var s=new D(i,16),a=s.xor(t).add(D.ONE);e=a.toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=mt,r=e.asn1,n=r.DERBoolean,i=r.DERInteger,o=r.DERBitString,s=r.DEROctetString,a=r.DERNull,c=r.DERObjectIdentifier,u=r.DEREnumerated,l=r.DERUTF8String,h=r.DERNumericString,p=r.DERPrintableString,d=r.DERTeletexString,f=r.DERIA5String,m=r.DERUTCTime,v=r.DERGeneralizedTime,y=r.DERSequence,g=r.DERSet,b=r.DERTaggedObject,w=r.ASN1Util.newObject,_=Object.keys(t);if(1!=_.length)throw"key of param shall be only one.";var T=_[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+T+":"))throw"undefined key: "+T;if("bool"==T)return new n(t[T]);if("int"==T)return new i(t[T]);if("bitstr"==T)return new o(t[T]);if("octstr"==T)return new s(t[T]);if("null"==T)return new a(t[T]);if("oid"==T)return new c(t[T]);if("enum"==T)return new u(t[T]);if("utf8str"==T)return new l(t[T]);if("numstr"==T)return new h(t[T]);if("prnstr"==T)return new p(t[T]);if("telstr"==T)return new d(t[T]);if("ia5str"==T)return new f(t[T]);if("utctime"==T)return new m(t[T]);if("gentime"==T)return new v(t[T]);if("seq"==T){for(var S=t[T],C=[],k=0;k<S.length;k++){var E=w(S[k]);C.push(E)}return new y({array:C})}if("set"==T){for(S=t[T],C=[],k=0;k<S.length;k++){E=w(S[k]);C.push(E)}return new g({array:C})}if("tag"==T){var P=t[T];if("[object Array]"===Object.prototype.toString.call(P)&&3==P.length){var x=w(P[2]);return new b({tag:P[0],explicit:P[1],obj:x})}var O={};if(void 0!==P.explicit&&(O.explicit=P.explicit),void 0!==P.tag&&(O.tag=P.tag),void 0===P.obj)throw"obj shall be specified for 'tag'.";return O.obj=w(P.obj),new b(O)}},this.jsonToASN1HEX=function(t){var e=this.newObject(t);return e.getEncodedHex()}},mt.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=Math.floor(r/40),i=r%40,o=(e=n+"."+i,""),s=2;s<t.length;s+=2){var a=parseInt(t.substr(s,2),16),c=("00000000"+a.toString(2)).slice(-8);if(o+=c.substr(1,7),"0"==c.substr(0,1)){var u=new D(o,2);e=e+"."+u.toString(10),o=""}}return e},mt.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new D(t,10),i=n.toString(2),o=7-i.length%7;7==o&&(o=0);for(var s="",a=0;a<o;a++)s+="0";i=s+i;for(a=0;a<i.length-1;a+=7){var c=i.substr(a,7);a!=i.length-7&&(c="1"+c),r+=e(parseInt(c,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);return n},mt.asn1.ASN1Object=function(){var t="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.hV;var e=this.hV.length/2,r=e.toString(16);if(r.length%2==1&&(r="0"+r),e<128)return r;var n=r.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var i=128+n;return i.toString(16)+r},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},mt.asn1.DERAbstractString=function(t){mt.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("string"==typeof t?this.setString(t):"undefined"!=typeof t["str"]?this.setString(t["str"]):"undefined"!=typeof t["hex"]&&this.setStringHex(t["hex"]))},ft.lang.extend(mt.asn1.DERAbstractString,mt.asn1.ASN1Object),mt.asn1.DERAbstractTime=function(t){mt.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.formatDate=function(t,e,r){var n=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());"utc"==e&&(o=o.substr(2,2));var s=n(String(i.getMonth()+1),2),a=n(String(i.getDate()),2),c=n(String(i.getHours()),2),u=n(String(i.getMinutes()),2),l=n(String(i.getSeconds()),2),h=o+s+a+c+u+l;if(!0===r){var p=i.getMilliseconds();if(0!=p){var d=n(String(p),3);d=d.replace(/[0]+$/,""),h=h+"."+d}}return h+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,r,n,i,o){var s=new Date(Date.UTC(t,e-1,r,n,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},ft.lang.extend(mt.asn1.DERAbstractTime,mt.asn1.ASN1Object),mt.asn1.DERAbstractStructured=function(t){mt.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,"undefined"!=typeof t&&"undefined"!=typeof t["array"]&&(this.asn1Array=t["array"])},ft.lang.extend(mt.asn1.DERAbstractStructured,mt.asn1.ASN1Object),mt.asn1.DERBoolean=function(){mt.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},ft.lang.extend(mt.asn1.DERBoolean,mt.asn1.ASN1Object),mt.asn1.DERInteger=function(t){mt.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=mt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new D(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t["bigint"]?this.setByBigInteger(t["bigint"]):"undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"number"==typeof t?this.setByInteger(t):"undefined"!=typeof t["hex"]&&this.setValueHex(t["hex"]))},ft.lang.extend(mt.asn1.DERInteger,mt.asn1.ASN1Object),mt.asn1.DERBitString=function(t){if(void 0!==t&&"undefined"!==typeof t.obj){var e=mt.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}mt.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var r=0;r<=e;r++)t+="0";var n="";for(r=0;r<t.length-1;r+=8){var i=t.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+e+n},this.setByBooleanArray=function(t){for(var e="",r=0;r<t.length;r++)1==t[r]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):"undefined"!=typeof t["hex"]?this.setHexValueIncludingUnusedBits(t["hex"]):"undefined"!=typeof t["bin"]?this.setByBinaryString(t["bin"]):"undefined"!=typeof t["array"]&&this.setByBooleanArray(t["array"]))},ft.lang.extend(mt.asn1.DERBitString,mt.asn1.ASN1Object),mt.asn1.DEROctetString=function(t){if(void 0!==t&&"undefined"!==typeof t.obj){var e=mt.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}mt.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},ft.lang.extend(mt.asn1.DEROctetString,mt.asn1.DERAbstractString),mt.asn1.DERNull=function(){mt.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ft.lang.extend(mt.asn1.DERNull,mt.asn1.ASN1Object),mt.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new D(t,10),i=n.toString(2),o=7-i.length%7;7==o&&(o=0);for(var s="",a=0;a<o;a++)s+="0";i=s+i;for(a=0;a<i.length-1;a+=7){var c=i.substr(a,7);a!=i.length-7&&(c="1"+c),r+=e(parseInt(c,2))}return r};mt.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(t){var e=mt.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"===typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},ft.lang.extend(mt.asn1.DERObjectIdentifier,mt.asn1.ASN1Object),mt.asn1.DEREnumerated=function(t){mt.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=mt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new D(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"number"==typeof t?this.setByInteger(t):"undefined"!=typeof t["hex"]&&this.setValueHex(t["hex"]))},ft.lang.extend(mt.asn1.DEREnumerated,mt.asn1.ASN1Object),mt.asn1.DERUTF8String=function(t){mt.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},ft.lang.extend(mt.asn1.DERUTF8String,mt.asn1.DERAbstractString),mt.asn1.DERNumericString=function(t){mt.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},ft.lang.extend(mt.asn1.DERNumericString,mt.asn1.DERAbstractString),mt.asn1.DERPrintableString=function(t){mt.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},ft.lang.extend(mt.asn1.DERPrintableString,mt.asn1.DERAbstractString),mt.asn1.DERTeletexString=function(t){mt.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},ft.lang.extend(mt.asn1.DERTeletexString,mt.asn1.DERAbstractString),mt.asn1.DERIA5String=function(t){mt.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},ft.lang.extend(mt.asn1.DERIA5String,mt.asn1.DERAbstractString),mt.asn1.DERUTCTime=function(t){mt.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return"undefined"==typeof this.date&&"undefined"==typeof this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},ft.lang.extend(mt.asn1.DERUTCTime,mt.asn1.DERAbstractTime),mt.asn1.DERGeneralizedTime=function(t){mt.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},ft.lang.extend(mt.asn1.DERGeneralizedTime,mt.asn1.DERAbstractTime),mt.asn1.DERSequence=function(t){mt.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t+=r.getEncodedHex()}return this.hV=t,this.hV}},ft.lang.extend(mt.asn1.DERSequence,mt.asn1.DERAbstractStructured),mt.asn1.DERSet=function(t){mt.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},"undefined"!=typeof t&&"undefined"!=typeof t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},ft.lang.extend(mt.asn1.DERSet,mt.asn1.DERAbstractStructured),mt.asn1.DERTaggedObject=function(t){mt.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,r){this.hT=e,this.isExplicit=t,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t["tag"]&&(this.hT=t["tag"]),"undefined"!=typeof t["explicit"]&&(this.isExplicit=t["explicit"]),"undefined"!=typeof t["obj"]&&(this.asn1Object=t["obj"],this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},ft.lang.extend(mt.asn1.DERTaggedObject,mt.asn1.ASN1Object);var vt=function(t){function e(r){var n=t.call(this)||this;return r&&("string"===typeof r?n.parseKey(r):(e.hasPrivateKeyProperty(r)||e.hasPublicKeyProperty(r))&&n.parsePropertiesFrom(r)),n}return m(e,t),e.prototype.parseKey=function(t){try{var e=0,r=0,n=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,i=n.test(t)?y.decode(t):g.unarmor(t),o=P.decode(i);if(3===o.sub.length&&(o=o.sub[2].sub[0]),9===o.sub.length){e=o.sub[1].getHexStringValue(),this.n=H(e,16),r=o.sub[2].getHexStringValue(),this.e=parseInt(r,16);var s=o.sub[3].getHexStringValue();this.d=H(s,16);var a=o.sub[4].getHexStringValue();this.p=H(a,16);var c=o.sub[5].getHexStringValue();this.q=H(c,16);var u=o.sub[6].getHexStringValue();this.dmp1=H(u,16);var l=o.sub[7].getHexStringValue();this.dmq1=H(l,16);var h=o.sub[8].getHexStringValue();this.coeff=H(h,16)}else{if(2!==o.sub.length)return!1;var p=o.sub[1],d=p.sub[0];e=d.sub[0].getHexStringValue(),this.n=H(e,16),r=d.sub[1].getHexStringValue(),this.e=parseInt(r,16)}return!0}catch(f){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new mt.asn1.DERInteger({int:0}),new mt.asn1.DERInteger({bigint:this.n}),new mt.asn1.DERInteger({int:this.e}),new mt.asn1.DERInteger({bigint:this.d}),new mt.asn1.DERInteger({bigint:this.p}),new mt.asn1.DERInteger({bigint:this.q}),new mt.asn1.DERInteger({bigint:this.dmp1}),new mt.asn1.DERInteger({bigint:this.dmq1}),new mt.asn1.DERInteger({bigint:this.coeff})]},e=new mt.asn1.DERSequence(t);return e.getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return h(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new mt.asn1.DERSequence({array:[new mt.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new mt.asn1.DERNull]}),e=new mt.asn1.DERSequence({array:[new mt.asn1.DERInteger({bigint:this.n}),new mt.asn1.DERInteger({int:this.e})]}),r=new mt.asn1.DERBitString({hex:"00"+e.getEncodedHex()}),n=new mt.asn1.DERSequence({array:[t,r]});return n.getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return h(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(e=e||64,!t)return t;var r="(.{1,"+e+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(r,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----",t},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----",t},e.hasPublicKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(ut),yt=function(){function t(t){t=t||{},this.default_key_size=parseInt(t.default_key_size,10)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new vt(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(p(t))}catch(e){return!1}},t.prototype.encrypt=function(t){try{return h(this.getKey().encrypt(t))}catch(e){return!1}},t.prototype.sign=function(t,e,r){try{return h(this.getKey().sign(t,e,r))}catch(n){return!1}},t.prototype.verify=function(t,e,r){try{return this.getKey().verify(t,p(e),r)}catch(n){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new vt,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version="3.0.0-rc.1",t}();window.JSEncrypt=yt,t.JSEncrypt=yt,t.default=yt,Object.defineProperty(t,"__esModule",{value:!0})})},7680:function(t,e,r){"use strict";var n=r("e915"),i=r.n(n);i.a},"790a":function(t,e,r){"use strict";function n(){window.TujiaJSBridge?TujiaJSBridge.callApp({action:"IsLogin",resultCallback:function(t){alert(JSON.stringify(t))}}):alert("客户端未初始化完成")}function i(t,e,r,n,i,o,s,a,c){var u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null;if(!window.TujiaJSBridge)return c(-2),void alert("客户端未初始化完成");var h=arguments;TujiaJSBridge.callApp({action:u?"ShowShareMenu":"Share",parameter:{sharedChannel:o,shareUrlForWeChatSmallApp:s,sharedUrl:t,sharedTitle:e,sharedDescription:r,sharedText:n,sharedImageUrl:i,miniProgramType:a,appId:l},resultCallback:function(t){t=t.result,console.log("TJAppBridge-shareByClient result=",{json:t,params:h}),c(t.result)},exceptionCallback:function(t){c(-3)}})}r.r(e);var o={isUserLoginInApp:n,shareInApp:i},s=r("69c1");function a(t,e,r){var n=e.title;return 1===t&&e.wechatTimelineTitle&&(n=e.wechatTimelineTitle),{title:n,desc:e.content,link:e.currentURL||e.url,imgUrl:e.imgUrl,type:"",dataUrl:"",success:function(){r(t)},cancel:function(){},complete:function(){}}}function c(t,e){if(t.wechatConfig&&wx){var r=window.location.search.indexOf("vconsole=true")>-1;wx.config({debug:r,appId:t.wechatConfig.AppId,timestamp:t.wechatConfig.Timestamp,nonceStr:t.wechatConfig.NonceStr,signature:t.wechatConfig.Signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","showOptionMenu"]}),wx.ready(function(){!0,u(t,e)}),wx.error(function(t){e(-1)})}}function u(t,e){wx.showOptionMenu(),wx.onMenuShareTimeline(a(1,t,e)),wx.onMenuShareAppMessage(a(2,t,e)),wx.onMenuShareQQ(a(3,t,e)),wx.onMenuShareWeibo(a(4,t,e)),wx.onMenuShareQZone(a(5,t,e))}var l=!1;function h(t){l||(s["b"].dynamicAddScript("https://res.wx.qq.com/open/js/jweixin-1.3.2.js"),l=!0),window.wx?t&&t():setTimeout(function(){h(t)},1e3)}var p={loadWeixinJs:h,updateWxConfig:c};function d(t){t.title,t.text,t.shareContTxt,t.imgUrl,t.btnTextLeft,t.btnTextRight,t.canvasimgUrl,t.sharePath,t.bgImgUrl,t.shareImageUrl,t.miniPath;var e="/pages/webview/share/share",r=[],n=arguments[0];Object.keys(n).forEach(function(t){var e=n[t];"undefined"!==typeof e&&null!==e||(e=""),r.push([t,encodeURIComponent(e)].join("="))});var i=e+"?"+r.join("&");y(i)}function f(t,e,r,n){wx.miniProgram.postMessage({data:{title:t,desc:e,imgurl:r,path:"/pages/webview/index?data='+json.stringfy({url:encodeURLComponent(".concat(n,")})'")}})}function m(t){var e=t.promotioncode,r=t.h5url,n=t.outtoken,i="/pages/wechatShare/tjlogin/index?promotioncode=".concat(e,"&outtoken=").concat(n,"&h5url=").concat(encodeURIComponent(r));y(i)}function v(t){var e=t.h5url,r="/pages/webview/index?h5url=".concat(encodeURIComponent(e));y(r)}function y(t){wx.miniProgram.navigateTo({url:t})}var g={toMPShare:d,toMPTjLogin:m,toMPWebview:v,postMessage:f};function b(t){t.title,t.text,t.shareContTxt,t.imgUrl,t.btnTextLeft,t.btnTextRight,t.canvasimgUrl,t.sharePath,t.bgImgUrl,t.shareImageUrl,t.miniPath;var e="/pages/webview/share/share",r=[],n=arguments[0];Object.keys(n).forEach(function(t){var e=n[t];"undefined"!==typeof e&&null!==e||(e=""),r.push([t,encodeURIComponent(e)].join("="))});var i=e+"?"+r.join("&");S(i)}function w(t,e,r,n){my.postMessage({data:{title:t,desc:e,imgurl:r,path:"/pages/webview/index?data='+json.stringfy({url:encodeURLComponent(".concat(n,")})'")}})}function _(t){var e=t.promotioncode,r=t.h5url,n=t.outtoken,i="/pages/wechatShare/tjlogin/index?promotioncode=".concat(e,"&outtoken=").concat(n,"&h5url=").concat(encodeURIComponent(r));S(i)}function T(t){var e=t.h5url,r="/pages/webview/index?h5url=".concat(encodeURIComponent(e));S(r)}function S(t){my.navigateTo({url:t})}var C={toMPShare:b,toMPTjLogin:_,toMPWebview:T,postMessage:w},k=r("bc3a"),E=r.n(k);function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t,e,r){return e&&x(t.prototype,e),r&&x(t,r),t}var j=function(){function t(e){var r=e.resHandle,n=e.reqHandle;P(this,t),this.axios=E.a.create(),this.reqHandle=n,this.resHandle=r}return O(t,[{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.data,n=e.params,i=e.headers,o=e.withCredentials,s=void 0!==o&&o,a=e.timeout,c=void 0===a?1e4:a;return this.http({url:t,method:"post",data:r,params:n,headers:i,withCredentials:s,timeout:c})}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.data,n=e.params,i=e.headers,o=e.withCredentials,s=void 0!==o&&o,a=e.timeout,c=void 0===a?1e4:a;return this.http({url:t,method:"get",data:r,params:n,headers:i,withCredentials:s,timeout:c})}},{key:"http",value:function(t){var e=this;return t.params=t.params||{},t.params._apitsp=(new Date).getTime(),this.reqHandle&&this.reqHandle(t),this.axios(t).then(function(r){return e.resHandle?e.resHandle(r.data,t):Promise.resolve(r.data)})["catch"](function(e){var r=e;return(e.response||e.request)&&(r={errorNo:1e3,errorMsg:"网络请求错误!",httpStatus:e.response&&e.response.status||504}),console.error("HTTP-ERROR:",{url:t.url,httpStatus:r.httpStatus||200,err:r,options:JSON.stringify(t)}),Promise.reject(r)})}}]),t}(),A=j;function I(){return""===D()}function D(){var t="";return/tujia.com/.test(location.host)&&(-1!==location.host.indexOf("dev")?t="dev":-1!==location.host.indexOf("1.fvt")?t="1.fvt":-1!==location.host.indexOf("2.fvt")?t="2.fvt":-1!==location.host.indexOf("fvt")&&(t="fvt")),t}Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})});var N={isProdEnv:I,getTujiaEnv:D},L=new A({});function R(t){var e=t.url,r=t.env,n=r||N.getTujiaEnv(),i="https://passport".concat("fvt"===n?".":"").concat(n,".tujia.com")+"/H5Site/UpdateJsSdkConfig";return L.get(i,{params:{url:e},timeout:1e5})}var B={getWeChatJsSdkConfig:R};function M(){return new Promise(function(t,e){window.my?t():Object(s["asyncLoadScript"])("https://appx/web-view.min.js").then(function(){t()})["catch"](function(){e()})})}function H(){return/aliapp/.test(window.navigator.userAgent.toLowerCase())}var U={loadAliSDK:M,isAliApp:H};function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function z(t,e,r){return e&&V(t.prototype,e),r&&V(t,r),t}var $={BROWSER_ENV:1,WX_ENV:2,APP_ENV:3,MP_ENV:4,ALI_MP_ENV:5},W=null,q=function(){function t(){F(this,t),this._currentShareConfig=null,this._platformEnv="",this._isInit=!1,this._wxUrkTokenCaches=[],this.init()}return z(t,[{key:"init",value:function(){var t=this,e=navigator.userAgent.toLowerCase();if(e.indexOf("tujia")>-1)this._isInit=!0,this._platformEnv=$.APP_ENV;else if(/aliapp/.test(e.toLowerCase())&&/miniprogram/.test(e.toLowerCase())||/alipayide/.test(e.toLowerCase()))this._isInit=!0,this._platformEnv=$.ALI_MP_ENV;else if(e.indexOf("micromessenger")>-1)if(window.wx)this._getWxEnv(function(e){t._platformEnv=e,t._isInit=!0});else{var r=this;p.loadWeixinJs(function(){console.info("分享初始化--微信JS初始化成功"),r._getWxEnv(function(t){r._platformEnv=t,r._isInit=!0,r._currentShareConfig&&(r.share(r._currentShareConfig),console.info("分享初始化--微信JS初始化成功--异步重新执行分享功能"))})})}else this._isInit=!0,this._platformEnv=$.BROWSER_ENV;console.info("分享初始化")}},{key:"getPlatformType",value:function(t){var e=this;this._platformEnv?t(this._platformEnv):setTimeout(function(){e.getPlatformType(t)},50)}},{key:"share",value:function(t){t.url,t.title,t.desc;var e=t.appConfig,r=(e.mpAppId,e.mpUrl,e.mpEnvType,e.wxSharedImageUrl,e.wxSharedType,t.wxConfig),n=(r.isWxTip,r.wxShareImgUrl,r.wxShareApiTestEnv,t.wxMpConfig),i=(n.shareContTxt,n.imgUrl,n.btnTextLeft,n.btnTextRight,n.canvasimgUrl,n.backUrl,n.bgImgUrl,n.shareImageUrl,n.miniPath,n.loginType,t.wbConfig.wbShareImgUrl,t.callback),o=arguments[0];if(this._isInit){var s=this._platformEnv,a=this,c={opts:arguments[0],callback:function(t){i(t),a._currentShareConfig=null}};s===$.APP_ENV?this.appShare(c):s===$.WX_ENV?this.wxShare(c):s===$.MP_ENV?this.mpShare(c):s===$.ALI_MP_ENV?this.aliShare(c):s===$.BROWSER_ENV&&this.weiboShare(c)}else this._currentShareConfig=o}},{key:"appShare",value:function(t){var e=t.opts,r=t.callback;o.shareInApp(e.url,e.title,e.desc,e.desc+e.url,e.appConfig.wxSharedImageUrl,e.appConfig.wxSharedType,e.appConfig.mpUrl,e.appConfig.mpEnvType,function(t){r&&r({success:0===t,type:$.APP_ENV,data:t})},!1,e.appConfig.mpAppId)}},{key:"wxShare",value:function(t){var e=t.opts,r=t.callback;if(window.wx){e.wxConfig.isWxTip&&this._showWechatTip();var n=window.location.href;this._getWxShareSdkConfig({url:n,env:e.wxConfig.wxShareApiTestEnv,callback:function(t){var i=t.success,o=t.data;i?(p.updateWxConfig({wechatConfig:o,title:e.title,content:e.desc,url:e.url,imgUrl:e.wxConfig.wxShareImgUrl},function(t){-1==t&&r({success:!1,msg:"配置错误"})}),r&&r({success:!0,type:$.WX_ENV,data:{url:n,opts:e,sdkConfig:o}})):r&&r({success:i,msg:"接口加载数据失败",data:o})}})}else r&&r({success:!1,msg:"wxShare:微信未加载完成"})}},{key:"mpShare",value:function(t){var e=t.opts,r=t.callback;if(window.wx&&window.wx.miniProgram){var n=e.wxMpConfig;n.sharePath=e.url,g.toMPShare(n)}else r&&r({success:!1,msg:"mpShare:微信未加载完成"})}},{key:"aliShare",value:function(t){var e=t.opts,r=t.callback,n=e.wxMpConfig;n.sharePath=e.url,n.canvasimgUrl="",U.loadAliSDK().then(function(){C.toMPShare(n)})["catch"](function(){r&&r({success:!1,msg:"aliShare:支付宝小程序未加载完成"})})}},{key:"weiboShare",value:function(t){var e=t.opts,r=t.callback,n=e.title,i=encodeURIComponent(e.url),o="";e.wbConfig&&e.wbConfig.wbShareImgUrl&&(o=encodeURIComponent(e.wbConfig.wbShareImgUrl));var s="http://service.weibo.com/share/share.php?url=".concat(i,"&sharesource=weibo&title=").concat(n,"&pic=").concat(o);r&&r({success:!0,type:$.BROWSER_ENV,data:{weiboUrl:s}}),window.location.href=s}},{key:"_getWxEnv",value:function(t){if(!window.wx)return"";window.wx.miniProgram&&window.wx.miniProgram.getEnv?window.wx.miniProgram.getEnv(function(e){e.miniprogram?t($.MP_ENV):t($.WX_ENV)}):t($.WX_ENV)}},{key:"_getWxShareSdkConfig",value:function(t){var e=this,r=t.url,n=t.env,i=t.callback,o=this._wxUrkTokenCaches.filter(function(t){return t.url===r});if(o.length>0){var s=o[0];i&&i({success:!0,data:s.data})}else B.getWeChatJsSdkConfig({url:r,env:n}).then(function(t){t.IsSuccess?(e._wxUrkTokenCaches.push({url:r,data:t.Config}),i&&i({success:!0,data:t.Config})):i&&i({success:!1,data:t})})["catch"](function(t){i&&i({success:!1,err:t})})}},{key:"_showWechatTip",value:function(){var t=document.body,e=document.createElement("div");e.setAttribute("id","__wxShareDiv"),e.innerHTML="点击右上角按钮，分享给朋友",t.appendChild(e);var r=document.createElement("style");r.innerHTML="#__wxShareDiv{position:fixed; top:0;left:0; width:100%; height:100%; padding-top:40%; color:#fff; text-align:center; font-size:15px; background:rgba(0,0,0,.6) url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPgAAADkCAYAAAC1xenrAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABDjSURBVHhe7d0vrBRZFsfxCUEQEhLECAwCgcJgUBgEjoQE8wQCgxkzAoEZhSEZg51kBGrMGJJRGAQGgxkzAoEZM2LVCJJNNtlk9vfrd4otiq6uf7f7nur3/SQ3O7xXfbt6U+dV173nnvsNgLr++eef6/GfAI6NAvy22hW1V2rfxo8BrJ0DWu1Htb/V7G78CsCaKZivq/2xCev/exK/BrBGCuLzak/V/u2I7ngZhwFYGwXwTbXfN6G83e9xKIC1UOBeUPOz9n8dxTv4rn4uXgYgOwXsHbWPjt6RmDYDslOgXlb7eROy05xEFwAyUpA+UPtrE67TPYtuAGSi4GwSVpZ4Fd0ByEKB+VitSVhZ4mN0CaA2BaQTVt5uQrMMj7RfjO4B1KAg3JWwstSteBsAh6YAHEpYWepxvBWAQ1HgjU1YWepFvCWAQ1DQTU1YWeJNvC2AfVKwzU1YWeJf8fYA9kWBtiRhpWvqSPuVOA0AJTm41JYmrDR+U7ul9mzzL92d43+HUPwBKE2BVSJhxYNwv6jdiD7Pqf2pZg74MZ5uTgjAcgqoEgkr/1Hz8/q16HZD/77rX4ZHamP+gPwSLwcwlwKpRMKKX/tC7Wp0+wX9/FcfFK6qvTz9z50o/gAsoSBamrDiO7HnxXurofp3ar6z2ybPXP97cvrPnfya85tOAIynwFmasOKBsh/ULkeXvXSMvx00foqfXVJrgn6XzTM8gJEUNEsSVjxl9kTtUnQ3SMe23+tB/Ng/f3P6o50o/gCMoWBZkrDiEfDv1C5Ed6Po+Pbgmr8tfL7j67/d35DncTiAPgqUuQkrH9Q86j3rWViva8+lv48fb+jfHmwb8lscDqBLATI3YcUDbx4Im13hVK91ALef8b+6G+tnQwN8f8ahANoUHHMSVt6p3YsuFlE/njZruxO/+kw/a7Lbdhn9vA8cPQXEnIQVD3h9FYBzqS+P0rf/uHxS++prvn7mFNYht+Nw4OxSIMxJWNnkiUcXxahPf3to6y2kqN8NjQ18F4cCZ5OCYErCip+LnVl2M15enPrubir4KH71Ff3up9NDem3mzoEzRxf/lIQVJ5Y4RXSvO4eo//bUmPncdmW63dsc1e9tHAqcHbrwxyas+Cu775Jb88RL0/t0E1jexa+20u/9R8rP6H3+jkOB46cLfmzCioPGI9kHK5yg99o2aDa47FPHDC0hPcgfJ6AqXehjElY8eu3pp8E88dL0nu1VY43BRwId42SaXYpM3QEp6QIfk7DiBSAeRa8yb6z39fRcdyxg1C4lOs4rznaNI1D8AcdJF/dQworzxL9Xm5QnXpref9tjw+jyxzrWSTZ9KP6A46KLeihhxQNsDv7qa6Z1Dv6GsW3+ffQcu4718tM+f8RhwLrpYh5KWPEc80O12XnipelcPFXXNWkTQR1/4/RlW1H8Aeuni3hXwsp7tftxaBo6Jz8/b5vmmrzUU6/ZNe1H8Qesky7eXQkr/pqetoSwzm3b3dsmZ8rpNd0FKm0P4zBgPXTh9iWsvFZLvdBC59d39/4Qh0yi1/n/iz4/xmFAfrpgtyWs+A7u6bC95YmXpPPsu3s/i0Mm0es8/tA3Y/A6DgNy08XaTVhxYH/eKGANdK59d2+b/Tn0Wv//sA3FH5CbLtJuwopHh50n/sVGAWugc+57Xl5Uz1yv31VS+eDZecAoujjbCSsHzxMvSeftckx903jfx2Gz6PV+dOkrqUzxB+Sii7KdsOIAf67Wu3xyDXT+fYtdHJiL77Lqo6+kMsUfkIMuxnbCSrNRwOrri+kzbMs5b/RWbplC/Tj1dhuKP6A+XYhNwkqzUcDF+NXq6bNsWzHWKFWw8dppd1/ZubYc2CtdgE3CiuuJu7D/UaVX6vPsKpLoP2bFPq/66pZ9Moo/oA5dfE7ScOEC54kfZd60PteuxS9FE1HUn8cqtqH4Aw5HF5xHfX239tx2mgUgpemzDdVOK1rrTf31fVug+AMOQxebkz1WkXW2hD6jBwy3fWVuvIlDi1Gf59S2Va/5IQ4BUIKCamijwM+7hpakfrdNx1H8AShFAeVHEE/z9Sk6uNamfu9v3uFLFH8ASlFA7VrCabMWloyhvj0r0c2YczJN1fJUwFFQIDmppS9t1Jzwstd0W/W/raTy0Y97AHunQPKa9F1+jUP3Ru/R3efMerdCAjCCgmhoWsyK7UjaR+/hFXjd1FiKPwBzKYD87Du0LdL7OHzv/F6nb/kZxR+AuRRAu0oYN07i8L3Te3XP56/4FYApFDxe6NG31rvhzRYOlo6r99pWUpniD8BUCpyhgTVbVNRhDr2n/6i07f35HzgqCppd5ZIaLlpx8HXtes/ufPzB/8gAq6WAccbattzvrtH7jZWk9717+vaf/Ry/AjBEAePij0Oc9FKljpzet1tSmeIPwBgKFi/N7CvD1Fa1ZJLev11N5lP8GEAfBYqXZfbth9bmPwBVyzvr/V1Mo2115aaBg1KQuGbcGNWXaeocuiWV023GCKShAPFikqE5b/Pdu2jFlrl0Hu2yURR/ALZRcPir+btNmAxLU2RB59L+xrH3xS7AKik4xn41T3P3Np1Lu6QyxR+ALgXG2K/m9jJelobOyWWpzX98KP4ANBQQU76ae0Ar3Ui1zqm9bTHFH4CGAmLsV3NLuVWQzuv26eltUPwBMAXDlK/mPi7l7qc6L38LaQpBVkmdBVJRIEz5am7P46Up6fxenp5m+ZrswOooEMYUcWj47ph6J1Sdn3eSMYo/4GxTEDjXfFd11K4n8dK0dI6X1JrHjVXvtw7Mpov/olozrTSGj13F5ok6z6Y4BcUfcDbp4t+2/c8uq8nv1rk2WypR/AFnjy785jl1rFUNWOl8XVLZ0iXjAHuli/6qWrtAwhBnhd2Il6+GztlLXQ9WwhmoThe8p8TeqE2xyhJIOm/PDnxSO9q92YEv6GJ/qjaF7/SrHInWed/cfIJEC2KAvdGFPnVKzFY9SKXzd0nlvexRDqShi9wVT7r1w4f8obaKabE+On8XjNzbNsZACrrIt221O+R2vHy19BlcUvlV/BM4PrrApz53W5pKLUvoc3izREbScZx0cd9R8zTXFM43P5oUT30Wl1Sm+AOOiy5qJ3uM2ZGk63F0cRT0eR6p3Yp/AuunC9rz3e0qo2O9jS6Ohj6TBxgp/oDjoQv6uaN1Iq/AOso5Y30upspwHHQx33O0znC0tcT12ajPhvXThezSwVPyzBvO2171nPcu+myX4z+BddJF7EIHTk6Zytlt3OGAzBSkc5JZjEwvIDMF6ZxBNTvqr+bA6ilATzahOp2/mq9unTdwZihAvUJsbD3zrqfRDYBsFKBzM9XMddAphABkpOA8H0E6h6fR0u0rBiAoQJvdO+YgbRPISgE6ZZPArqNYBgocJQXofbWpyz8bH9VSbzsEnFkKziUj5mSrAVkpOL29b7Mt7hzs8AFkpOD8Vs1fr+d6HV0ByETB6Q0C32/CdB7Pk7PDJpCNAtNVWeYuIDE/d1OqCMhIwema3kt8F10ByETB6X21lmC+G8hIwfnwNEZn8xLQi9EdgCwUmN6JY+r+YW3OM2ezPSAbBeaSRBZzhtu96A5AFgrMG2pziiW2sb4byEaB6Sy1ueu6GwyqAdkoMF20YUmWmjkRhr23gEwUlE5BnVPmuM13/ivRJYAMFJTeL8vTWUt4QI5MNSATBaU3KJhbbqnhEfP70SWADBSUXjwyZ9fPLtJQgUwUlA7uN5vwXOZFdAkgAwXlBbUSwe3VZZQ7BrJQQJYKbk+HkWMOZKGAdHC/dnQu5Ok0CjcAWSggSwW357qvRrcAalNAekCtRHC70CIbBAJZKCBLTYWRyAJkooAskcRiXhN+N7oFUJsC0umnSyqgNpyl9iC6BVCbAtILR5bmlpuD+yS6BVCbAtJLPpeuCms8jm4B1KaAvKb25yY0lyO/HMhCAekyS0srsTSeRLcAalNAukDi0hpqDYIbyEIBeUft0yY0l2PXTyALBeSJ2pK65W0EN5CFA1LN01glENxAFgrI56dxuZj/QDBaDmSgYDyv9tKRWYC/2j+MrgHUpGB0XnmJFWHm4KZIIpCBgtHZaSVST80j7iwcATJQMDqBpVR2mufKb0fXAGpSMHqOu1QCi7PcKNYAZKBg9Mb7pea4P6hRZgnIQMH4bBOWZbjgw+XoGkAtCkQXRvzVUVmI65ZT2hioTYHokfISFVgaP6udj+4B1KJAvKlWaqTcnkbXAGpSMN5XK7UazJVPKbEEZKBg/EGt1IIR1yxnjhuoTYHotNNXjspCXIPtWnQPoBYHYgRkKc5PZxoMqE2BeFfNX6VLeaHG9r1AbQrEJ2qlnred4fYougZQiwLRz9slk1ecU85gGlCbAvG6WsnnbaedXonuAdSiQHygVmolmP2kRmYaUJOC8Jzaj47IQpy8wvM2UJsC0fnkJfbibjh9lT25gdoUiC7OUGrrIPNKMOa3gZoUhP5KXjLl1P2wWASoTYHofbjfOCoLYQoMyMCBGAFZilNOv43uAdSgIPRXcpdUKpmVxo6eQG0KxKtqTjYp5aMao+RAbQrE0okrv6hdiu4B1KAgvKjmLLJS/EeCqitAbQpE7ypSMpfcI+7UJwdqUhB6IM3LO0ttPOB0UwbSgNoUiB5IK5lu6k0D2TIIqE2B6O2CSg2k+e7v6TRWgAE1KQgvq5UsyuDn9pvRPYBaFIj31EplpDn55bnahegeQA0KQpdS8vY+pfhZm7s2UJsC0dVNS20V5BFyrybjWRuoSUHou3bJpBWnrV6P7gHUokB0QYZSd23XNn+sRk1yoCYFYem79ks1lnUCtSkQS46Qe+qLYgxAbQpEV1rxaq0SvLXvUzUG0YDaFIjORiu1/5cLH7I4BKjNgajmskcleDDuXnQNoBYF4nk1f4X2V+ml3IfntMlEA2pTILrwYYn12k4x9eg4+34BtSkQvTjEaaYlCh++V6MuGpCBgrHUIJqfsx9GtwBqUjC6fFKJTQZ4zgayUCA6E827dS4tn8RzNpCJgvFErUQm2is1yiYBGTgY1UrURfNXegbQgAwUjB4df6G2dHTcI+N3o1sANSkYXabYyy+Xfh3/oMamAkAWCkiv03a5oyU85eU/ECwIATJQMF5X8+DXEgQ2kImC0dNerjzqWmZzeVdOAhvIwsEYQbnkOduB/UiNwAayUEC6ssqSRSEePHOKKoENZKGAvKm2ZD7bg29OdqG4IZCFAtLFF5ZsBeQEFeaxgUwUlE2iypy8cSe3+I8Cu4MAmSgoPTLuFVpzdub0aLrLGl+L7gBkoKD0yPj3anNGxv0ab69LjXEgEwWlU0s9XTVnpxDnifu1rMcGslFg3lebOuXlZ3I/X7NxAJCRgtNz2b77TuHSSs5ao7Y4kJGC03fsqYtBvOsmX8OBrBScD9SmBLZH0D0azjQXkJGC04Nnzhyb8oztr+3OMb8U3QDIRME5NbB9t3ZdcsohAVkpQB3YXsThxRxDnGnmFFIfz7M1kJUC1AkqYwPbSzSdpcZIOJCZgtSB7dFtB+0uzYAZ89ZAdgrUptjCrsB2TriTUTwtxrprIDsFqheBeGvdvlxxP1d7T23f1RkFB9ZAwXpFzRlk21Z3NYNlvqOz0ANYCwWsK5V6+qpb0NC54AQ1sEYK2ltqLkHc3hHEu2j6mdqj5ZfjUABroKD1HLbTSZ333fCztu/gXhjCXDWwNgpcD5y5yIJHxH3HdoB7npoccGCtFMAuZOh6Z8799hy1p7MY+QbWLoLZU1lkkwEAAAAAsC/ffPM/1BKrwdtMbP8AAAAASUVORK5CYII=) no-repeat 90% 10px;background-size:32%;z-index:1000}",document.getElementsByTagName("HEAD").item(0).appendChild(r),e.onclick=function(){var e=document.getElementById("__wxShareDiv");t.removeChild(e)}}}]),t}();q.getInstance=function(){return W||(W=new q),W},q.platformTypes=$;e["default"]=q},"7a02":function(t,e,r){},"7a21":function(t,e,r){"use strict";var n=r("dbe7"),i=r.n(n);i.a},"7a77":function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},"7aac":function(t,e,r){"use strict";var n=r("c532");t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7e53":function(t,e,r){"use strict";var n=r("3816"),i=r.n(n);i.a},"7e61":function(t,e,r){"use strict";r.r(e),r.d(e,"fetchOrderList",function(){return i});var n=r("bdd0");function i(t){return n["a"].get("/bingo/h5/promotion/cms/getothersingleorderlist",{})}},8362:function(t,e){t.exports=n;var r=Object.prototype.toString;function n(t){var e=r.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}},"86a2":function(t,e,r){},"87d8":function(t,e,r){"use strict";var n=r("fd76"),i=r.n(n);i.a},"88c4":function(t,e,r){},"8b9e":function(t,e,r){"use strict";r.r(e),r.d(e,"fetchOrderList",function(){return i});var n=r("bdd0");function i(t){return n["a"].get("/tjbnb/app/activity/scrollbar",{})}},"8c10":function(t,e){function r(t,e){var r,n=null;try{r=JSON.parse(t,e)}catch(i){n=i}return[n,r]}t.exports=r},"8df4":function(t,e,r){"use strict";var n=r("7a77");function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t,e=new i(function(e){t=e});return{token:e,cancel:t}},t.exports=i},"924f":function(t,e,r){},"944f":function(t,e,r){},"94d1":function(t,e,r){"use strict";var n=r("fbfd"),i=r.n(n);i.a},"974a":function(t,e,r){"use strict";var n=r("9dd5"),i=r.n(n);i.a},"9d4e":function(t,e,r){},"9dd5":function(t,e,r){},"9e6a":function(t,e,r){"use strict";var n=r("d233"),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(t,e){for(var r={},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=e.parameterLimit===1/0?void 0:e.parameterLimit,a=n.split(e.delimiter,s),c=0;c<a.length;++c){var u,l,h=a[c],p=h.indexOf("]="),d=-1===p?h.indexOf("="):p+1;-1===d?(u=e.decoder(h,o.decoder),l=e.strictNullHandling?null:""):(u=e.decoder(h.slice(0,d),o.decoder),l=e.decoder(h.slice(d+1),o.decoder)),i.call(r,u)?r[u]=[].concat(r[u]).concat(l):r[u]=l}return r},a=function(t,e,r){for(var n=e,i=t.length-1;i>=0;--i){var o,s=t[i];if("[]"===s)o=[],o=o.concat(n);else{o=r.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(a,10);!isNaN(c)&&s!==a&&String(c)===a&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=n):o[a]=n}n=o}return n},c=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=o.exec(n),u=c?n.slice(0,c.index):n,l=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}var h=0;while(null!==(c=s.exec(n))&&h<r.depth){if(h+=1,!r.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+n.slice(c.index)+"]"),a(l,e,r)}};t.exports=function(t,e){var r=e?n.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"===typeof r.depth?r.depth:o.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===t||null===t||"undefined"===typeof t)return r.plainObjects?Object.create(null):{};for(var i="string"===typeof t?s(t,r):t,a=r.plainObjects?Object.create(null):{},u=Object.keys(i),l=0;l<u.length;++l){var h=u[l],p=c(h,i[h],r);a=n.merge(a,p,r)}return n.compact(a)}},"9e71":function(t,e,r){},"9fa6":function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}function o(t){for(var e,r,o=String(t),s="",a=0,c=n;o.charAt(0|a)||(c="=",a%1);s+=c.charAt(63&e>>8-a%1*8)){if(r=o.charCodeAt(a+=.75),r>255)throw new i;e=e<<8|r}return s}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=o},a0d3:function(t,e,r){},a0d34:function(t,e,r){"use strict";var n=r("0f7c");t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},a529:function(t,e,r){},acaf:function(t,e,r){"use strict";var n=r("a529"),i=r.n(n);i.a},b03c:function(t,e){var r="auto",n={"":!0,lr:!0,rl:!0},i={start:!0,middle:!0,end:!0,left:!0,right:!0};function o(t){if("string"!==typeof t)return!1;var e=n[t.toLowerCase()];return!!e&&t.toLowerCase()}function s(t){if("string"!==typeof t)return!1;var e=i[t.toLowerCase()];return!!e&&t.toLowerCase()}function a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function c(t,e,n){var i=this,c=/MSIE\s8\.0/.test(navigator.userAgent),u={};c?i=document.createElement("custom"):u.enumerable=!0,i.hasBeenReset=!1;var l="",h=!1,p=t,d=e,f=n,m=null,v="",y=!0,g="auto",b="start",w=50,_="middle",T=50,S="middle";if(Object.defineProperty(i,"id",a({},u,{get:function(){return l},set:function(t){l=""+t}})),Object.defineProperty(i,"pauseOnExit",a({},u,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(i,"startTime",a({},u,{get:function(){return p},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",a({},u,{get:function(){return d},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",a({},u,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",a({},u,{get:function(){return m},set:function(t){m=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",a({},u,{get:function(){return v},set:function(t){var e=o(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",a({},u,{get:function(){return y},set:function(t){y=!!t,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",a({},u,{get:function(){return g},set:function(t){if("number"!==typeof t&&t!==r)throw new SyntaxError("An invalid number or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",a({},u,{get:function(){return b},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",a({},u,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",a({},u,{get:function(){return _},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",a({},u,{get:function(){return T},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");T=t,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",a({},u,{get:function(){return S},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");S=e,this.hasBeenReset=!0}})),i.displayState=void 0,c)return i}c.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=c},b313:function(t,e,r){"use strict";var n=String.prototype.replace,i=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return n.call(t,i,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},b3fd:function(t,e,r){"use strict";var n=r("f367"),i=r("1b7f");t.exports=function(){var t=i();return n(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},b50d:function(t,e,r){"use strict";var n=r("c532"),i=r("467f"),o=r("30b5"),s=r("c345"),a=r("3934"),c=r("2d83"),u="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||r("9fa6");t.exports=function(t){return new Promise(function(e,l){var h=t.data,p=t.headers;n.isFormData(h)&&delete p["Content-Type"];var d=new XMLHttpRequest,f="onreadystatechange",m=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in d||a(t.url)||(d=new window.XDomainRequest,f="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var v=t.auth.username||"",y=t.auth.password||"";p.Authorization="Basic "+u(v+":"+y)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[f]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n=t.responseType&&"text"!==t.responseType?d.response:d.responseText,o={data:n,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:t,request:d};i(e,l,o),d=null}},d.onerror=function(){l(c("Network Error",t,null,d)),d=null},d.ontimeout=function(){l(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=r("7aac"),b=(t.withCredentials||a(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;b&&(p[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&n.forEach(p,function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(w){if("json"!==t.responseType)throw w}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),l(t),d=null)}),void 0===h&&(h=null),d.send(h)})}},b835:function(t,e,r){"use strict";var n=r("a0d3"),i=r.n(n);i.a},bb53:function(t,e){t.exports=function(t,e){var r=t%e;return Math.floor(r>=0?r:r+e)}},bc3a:function(t,e,r){t.exports=r("cee4")},bdd0:function(t,e,r){"use strict";var n=r("bc3a"),i=r.n(n),o=r("ed08"),s=r("a78e"),a=r.n(s);function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){u(t,e,r[e])})}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){if(null==t)return{};var r,n,i=h(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function h(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}e["a"]={get:function(t,e){return this.axios("get",t,{params:e})},post:function(t,e){return this.axios("post",t,{data:e})},axios:function(t,e,r){var n=r.params,s=void 0===n?{}:n,u=l(r,["params"]),h=a.a.get("".concat("tujia.com","_PortalContext_UserId")),p=a.a.get("".concat("tujia.com","_PortalContext_UserToken")),d=i()(c({method:t,url:e,timeout:2e4,params:c({},s,{_apitsp:(new Date).getTime()})},u));return d.then(function(t){var e=a.a.get("".concat("tujia.com","_PortalContext_UserId")),r=a.a.get("".concat("tujia.com","_PortalContext_UserToken"));return h&&"undefined"!==h&&h+""!=="0"&&h!==e&&Object(o["a"])({data:t,message:"Cookie be clean by server before:".concat(h," now:").concat(e)}),p&&"undefined"!==p&&p+""!=="0"&&p!==r&&Object(o["a"])({data:t,message:"Cookie be clean by server before:".concat(p," now:").concat(r)}),200===t.status?Promise.resolve(t.data):(Object(o["a"])(t),Promise.resolve(null))})}}},be09:function(t,e,r){(function(e){var r;r="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=r}).call(this,r("c8ba"))},c166:function(t,e,r){},c2c1:function(t,e,r){"use strict";var n=r("924f"),i=r.n(n);i.a},c345:function(t,e,r){"use strict";var n=r("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}}),s):s}},c401:function(t,e,r){"use strict";var n=r("c532");t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},c532:function(t,e,r){"use strict";var n=r("1d2b"),i=r("044b"),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return"[object ArrayBuffer]"===o.call(t)}function c(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function l(t){return"string"===typeof t}function h(t){return"number"===typeof t}function p(t){return"undefined"===typeof t}function d(t){return null!==t&&"object"===typeof t}function f(t){return"[object Date]"===o.call(t)}function m(t){return"[object File]"===o.call(t)}function v(t){return"[object Blob]"===o.call(t)}function y(t){return"[object Function]"===o.call(t)}function g(t){return d(t)&&y(t.pipe)}function b(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function w(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function _(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function T(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),s(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function S(){var t={};function e(e,r){"object"===typeof t[r]&&"object"===typeof e?t[r]=S(t[r],e):t[r]=e}for(var r=0,n=arguments.length;r<n;r++)T(arguments[r],e);return t}function C(t,e,r){return T(e,function(e,i){t[i]=r&&"function"===typeof e?n(e,r):e}),t}t.exports={isArray:s,isArrayBuffer:a,isBuffer:i,isFormData:c,isArrayBufferView:u,isString:l,isNumber:h,isObject:d,isUndefined:p,isDate:f,isFile:m,isBlob:v,isFunction:y,isStream:g,isURLSearchParams:b,isStandardBrowserEnv:_,forEach:T,merge:S,extend:C,trim:w}},c612:function(t,e){var r=Number.isNaN||function(t){return t!==t};t.exports=Number.isFinite||function(t){return"number"===typeof t&&!r(t)&&t!==1/0&&t!==-1/0}},c8af:function(t,e,r){"use strict";var n=r("c532");t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},ca20:function(t,e,r){},ca9f:function(t,e,r){"use strict";var n=r("0f7c"),i=r("f367"),o=r("562e"),s=r("1b7f"),a=r("b3fd"),c=n.call(Function.call,s());i(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},ccd0:function(t,e,r){},cce2:function(t,e,r){"use strict";var n=r("944f"),i=r.n(n);i.a},cee4:function(t,e,r){"use strict";var n=r("c532"),i=r("1d2b"),o=r("0a06"),s=r("2444");function a(t){var e=new o(t),r=i(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var c=a(s);c.Axios=o,c.create=function(t){return a(n.merge(s,t))},c.Cancel=r("7a77"),c.CancelToken=r("8df4"),c.isCancel=r("2e67"),c.all=function(t){return Promise.all(t)},c.spread=r("0df6"),t.exports=c,t.exports.default=c},d024:function(t,e,r){"use strict";var n=r("21d0"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(t,e,r){for(var n=0,i=t.length;n<i;n++)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},a=function(t,e,r){for(var n=0,i=t.length;n<i;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)},c=function(t,e,r){for(var n in t)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},u=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),"[object Array]"===i.call(t)?s(t,e,o):"string"===typeof t?a(t,e,o):c(t,e,o)};t.exports=u},d02c:function(t,e){var r=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function n(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function i(t){function e(t,e,r,n){return 3600*(0|t)+60*(0|e)+(0|r)+(0|n)/1e3}var r=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function o(){this.values=r(null)}function s(t,e,r,n){var i=n?t.split(n):[t];for(var o in i)if("string"===typeof i[o]){var s=i[o].split(r);if(2===s.length){var a=s[0],c=s[1];e(a,c)}}}function a(t,e,r){var a=t;function c(){var e=i(t);if(null===e)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+a);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function u(t,e){var n=new o;s(t,function(t,e){switch(t){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===e){n.set(t,r[i].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),s=o[0];n.integer(t,s),n.percent(t,s)&&n.set("snapToLines",!1),n.alt(t,s,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=e.split(","),n.percent(t,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"]);break}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=c(),l(),"--\x3e"!==t.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);t=t.substr(3),l(),e.endTime=c(),l(),u(t,e)}n.prototype=r(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var c={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},l={v:"title",lang:"lang"},h={rt:"ruby"};function p(t,e){function r(){if(!e)return null;function t(t){return e=e.substr(t.length),t}var r=e.match(/^([^<]*)(<[^>]*>?)?/);return t(r[1]?r[1]:r[2])}function n(t){return c[t]}function o(t){while(g=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))t=t.replace(g[0],n);return t}function s(t,e){return!h[e.localName]||h[e.localName]===t.localName}function a(e,r){var n=u[e];if(!n)return null;var i=t.document.createElement(n);i.localName=n;var o=l[e];return o&&r&&(i[o]=r.trim()),i}var p,d=t.document.createElement("div"),f=d,m=[];while(null!==(p=r()))if("<"!==p[0])f.appendChild(t.document.createTextNode(o(p)));else{if("/"===p[1]){m.length&&m[m.length-1]===p.substr(2).replace(">","")&&(m.pop(),f=f.parentNode);continue}var v,y=i(p.substr(1,p.length-2));if(y){v=t.document.createProcessingInstruction("timestamp",y),f.appendChild(v);continue}var g=p.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!g)continue;if(v=a(g[1],g[3]),!v)continue;if(!s(f,v))continue;g[2]&&(v.className=g[2].substr(1).replace("."," ")),m.push(g[1]),f.appendChild(v),f=v}return d}var d=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function f(t){for(var e=0;e<d.length;e++){var r=d[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function m(t){var e,r=[],n="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var r=e.childNodes.length-1;r>=0;r--)t.push(e.childNodes[r])}function o(t){if(!t||!t.length)return null;var e=t.pop(),r=e.textContent||e.innerText;if(r){var n=r.match(/^.*(\n|\r)/);return n?(t.length=0,n[0]):r}return"ruby"===e.tagName?o(t):e.childNodes?(i(t,e),o(t)):void 0}i(r,t);while(n=o(r))for(var s=0;s<n.length;s++)if(e=n.charCodeAt(s),f(e))return"rtl";return"ltr"}function v(t){if("number"===typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,n=0,i=0;i<r.length&&r[i]!==e;i++)"showing"===r[i].mode&&n++;return-1*++n}function y(){}function g(t,e,r){var n=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";n&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),y.call(this),this.cue=e,this.cueDiv=p(t,e.text);var s={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(s.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",s.unicodeBidi="plaintext"),this.applyStyles(s,this.cueDiv),this.div=t.document.createElement("div"),s={textAlign:"middle"===e.align?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},n||(s.direction=m(this.cueDiv),s.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(s),this.div.appendChild(this.cueDiv);var a=0;switch(e.positionAlign){case"start":a=e.position;break;case"middle":a=e.position-e.size/2;break;case"end":a=e.position-e.size;break}""===e.vertical?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function b(t){var e,r,n,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||r,this.bottom=t.bottom||i+(t.height||r),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function w(t,e,r,n){function i(t,e){for(var i,o=new b(t),s=1,a=0;a<e.length;a++){while(t.overlapsOppositeAxis(r,e[a])||t.within(r)&&t.overlapsAny(n))t.move(e[a]);if(t.within(r))return t;var c=t.intersectPercentage(r);s>c&&(i=new b(t),s=c),t=new b(o)}return i||o}var o=new b(e),s=e.cue,a=v(s),c=[];if(s.snapToLines){var u;switch(s.vertical){case"":c=["+y","-y"],u="height";break;case"rl":c=["+x","-x"],u="width";break;case"lr":c=["-x","+x"],u="width";break}var l=o.lineHeight,h=l*Math.round(a),p=r[u]+l,d=c[0];Math.abs(h)>p&&(h=h<0?-1:1,h*=Math.ceil(p/l)*l),a<0&&(h+=""===s.vertical?r.height:r.width,c=c.reverse()),o.move(d,h)}else{var f=o.lineHeight/r.height*100;switch(s.lineAlign){case"middle":a-=f/2;break;case"end":a-=f;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}c=["+y","-x","+x","-y"],o=new b(e)}var m=i(o,c);e.move(m.toCSSCompatValues(r))}function _(){}y.prototype.applyStyles=function(t,e){for(var r in e=e||this.div,t)t.hasOwnProperty(r)&&(e.style[r]=t[r])},y.prototype.formatStyle=function(t,e){return 0===t?0:t+e},g.prototype=r(y.prototype),g.prototype.constructor=g,b.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},b.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},b.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},b.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},b.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},b.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*r;return n/(this.height*this.width)},b.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},b.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var i={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r};return i},_.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},_.convertCueToDOMTree=function(t,e){return t&&e?p(t,e):null};var T=.05,S="sans-serif",C="1.5%";_.processCues=function(t,e,r){if(!t||!e||!r)return null;while(r.firstChild)r.removeChild(r.firstChild);var n=t.document.createElement("div");function i(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=C,r.appendChild(n),i(e)){var o=[],s=b.getSimpleBoxPosition(n),a=Math.round(s.height*T*100)/100,c={font:a+"px "+S};(function(){for(var r,i,a=0;a<e.length;a++)i=e[a],r=new g(t,i,c),n.appendChild(r.div),w(t,r,s,o),i.displayState=r.div,o.push(b.getSimpleBoxPosition(r))})()}else for(var u=0;u<e.length;u++)n.appendChild(e[u].displayState)},_.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},_.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof n))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function r(){var t=e.buffer,r=0;while(r<t.length&&"\r"!==t[r]&&"\n"!==t[r])++r;var n=t.substr(0,r);return"\r"===t[r]&&++r,"\n"===t[r]&&++r,e.buffer=t.substr(r),n}function c(t){var r=new o;if(s(t,function(t,e){switch(t){case"id":r.set(t,e);break;case"width":r.percent(t,e);break;case"lines":r.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var i=new o;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(t+"X",i.get("x")),r.set(t+"Y",i.get("y"));break;case"scroll":r.alt(t,e,["up"]);break}},/=/,/\s/),r.has("id")){var n=new(e.vttjs.VTTRegion||e.window.VTTRegion);n.width=r.get("width",100),n.lines=r.get("lines",3),n.regionAnchorX=r.get("regionanchorX",0),n.regionAnchorY=r.get("regionanchorY",100),n.viewportAnchorX=r.get("viewportanchorX",0),n.viewportAnchorY=r.get("viewportanchorY",100),n.scroll=r.get("scroll",""),e.onregion&&e.onregion(n),e.regionList.push({id:r.get("id"),region:n})}}function u(t){var r=new o;s(t,function(t,e){switch(t){case"MPEGT":r.integer(t+"S",e);break;case"LOCA":r.set(t+"L",i(e));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:r.get("MPEGTS"),LOCAL:r.get("LOCAL")})}function l(t){t.match(/X-TIMESTAMP-MAP/)?s(t,function(t,e){switch(t){case"X-TIMESTAMP-MAP":u(e);break}},/=/):s(t,function(t,e){switch(t){case"Region":c(e);break}},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var h;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;h=r();var p=h.match(/^WEBVTT([ \t].*)?$/);if(!p||!p[0])throw new n(n.Errors.BadSignature);e.state="HEADER"}var d=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(d?d=!1:h=r(),e.state){case"HEADER":/:/.test(h)?l(h):h||(e.state="ID");continue;case"NOTE":h||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){e.state="NOTE";break}if(!h)continue;if(e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,""),e.state="CUE",-1===h.indexOf("--\x3e")){e.cue.id=h;continue}case"CUE":try{a(h,e.cue,e.regionList)}catch(m){e.reportOrThrowError(m),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var f=-1!==h.indexOf("--\x3e");if(!h||f&&(d=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=h;continue;case"BADCUE":h||(e.state="ID");continue}}}catch(m){e.reportOrThrowError(m),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new n(n.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.exports=_},d233:function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o=function(t){var e;while(t.length){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var n=[],i=0;i<e.length;++i)"undefined"!==typeof e[i]&&n.push(e[i]);r.obj[r.prop]=n}}return e},s=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)"undefined"!==typeof t[n]&&(r[n]=t[n]);return r},a=function t(e,r,i){if(!r)return e;if("object"!==typeof r){if(Array.isArray(e))e.push(r);else{if("object"!==typeof e)return[e,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!==typeof e)return[e].concat(r);var o=e;return Array.isArray(e)&&!Array.isArray(r)&&(o=s(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,o){n.call(e,o)?e[o]&&"object"===typeof e[o]?e[o]=t(e[o],r,i):e.push(r):e[o]=r}),e):Object.keys(r).reduce(function(e,o){var s=r[o];return n.call(e,o)?e[o]=t(e[o],s,i):e[o]=s,e},o)},c=function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},u=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},l=function(t){if(0===t.length)return t;for(var e="string"===typeof t?t:String(t),r="",n=0;n<e.length;++n){var o=e.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=e.charAt(n):o<128?r+=i[o]:o<2048?r+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?r+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(n+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(n)),r+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return r},h=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],s=i.obj[i.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];"object"===typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:s,prop:u}),r.push(l))}return o(e)},p=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},d=function(t){return null!==t&&"undefined"!==typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};t.exports={arrayToObject:s,assign:c,compact:h,decode:u,encode:l,isBuffer:d,isRegExp:p,merge:a}},d4ab:function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function(t){var e=n.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===n.call(t.callee)),r}},d59e:function(t,e,r){"use strict";var n=r("7a02"),i=r.n(n);i.a},d6c7:function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Array.prototype.slice,s=r("d4ab"),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&n.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{h(window[t])}catch(e){return!0}}catch(e){return!0}return!1}(),f=function(t){if("undefined"===typeof window||!d)return h(t);try{return h(t)}catch(e){return!1}},m=function(t){var e=null!==t&&"object"===typeof t,r="[object Function]"===i.call(t),o=s(t),a=e&&"[object String]"===i.call(t),h=[];if(!e&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var p=u&&r;if(a&&t.length>0&&!n.call(t,0))for(var d=0;d<t.length;++d)h.push(String(d));if(o&&t.length>0)for(var m=0;m<t.length;++m)h.push(String(m));else for(var v in t)p&&"prototype"===v||!n.call(t,v)||h.push(String(v));if(c)for(var y=f(t),g=0;g<l.length;++g)y&&"constructor"===l[g]||!n.call(t,l[g])||h.push(l[g]);return h};m.shim=function(){if(Object.keys){var t=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!t){var e=Object.keys;Object.keys=function(t){return s(t)?e(o.call(t)):e(t)}}}else Object.keys=m;return Object.keys||m},t.exports=m},d6d3:function(t,e,r){!function(e,n){t.exports=n(r("3d33"))}(0,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=3)}([function(e,r){e.exports=t},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=window.videojs||o.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},writable:!0,configurable:!0});var a=["loadeddata","canplay","canplaythrough","play","pause","waiting","playing","ended","error"];e.default={name:"video-player",props:{start:{type:Number,default:0},crossOrigin:{type:String,default:""},playsinline:{type:Boolean,default:!1},customEventName:{type:String,default:"statechanged"},options:{type:Object,required:!0},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{controls:!0,controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:["html5"],plugins:{}}}},globalEvents:{type:Array,default:function(){return[]}}},data:function(){return{player:null,reseted:!0}},mounted:function(){this.player||this.initialize()},beforeDestroy:function(){this.player&&this.dispose()},methods:{initialize:function(){var t=this,e=Object.assign({},this.globalOptions,this.options);this.playsinline&&(this.$refs.video.setAttribute("playsinline",this.playsinline),this.$refs.video.setAttribute("webkit-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-video-player-type","h5"),this.$refs.video.setAttribute("x5-video-player-fullscreen",!1)),""!==this.crossOrigin&&(this.$refs.video.crossOrigin=this.crossOrigin,this.$refs.video.setAttribute("crossOrigin",this.crossOrigin));var r=function(e,r){e&&t.$emit(e,t.player),r&&t.$emit(t.customEventName,n({},e,r))};e.plugins&&delete e.plugins.__ob__;var i=this;this.player=s(this.$refs.video,e,function(){for(var t=this,e=a.concat(i.events).concat(i.globalEvents),n={},o=0;o<e.length;o++)"string"==typeof e[o]&&void 0===n[e[o]]&&function(e){n[e]=null,t.on(e,function(){r(e,!0)})}(e[o]);this.on("timeupdate",function(){r("timeupdate",this.currentTime())}),i.$emit("ready",this)})},dispose:function(t){var e=this;this.player&&this.player.dispose&&("Flash"!==this.player.techName_&&this.player.pause&&this.player.pause(),this.player.dispose(),this.player=null,this.$nextTick(function(){e.reseted=!1,e.$nextTick(function(){e.reseted=!0,e.$nextTick(function(){t&&t()})})}))}},watch:{options:{deep:!0,handler:function(t,e){var r=this;this.dispose(function(){t&&t.sources&&t.sources.length&&r.initialize()})}}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r.n(n);for(var o in n)["default","default"].indexOf(o)<0&&function(t){r.d(e,t,function(){return n[t]})}(o);var s=r(5),a=r(4),c=a(i.a,s.a,!1,null,null,null);e.default=c.exports},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.videoPlayer=e.videojs=void 0;var i=r(0),o=n(i),s=r(2),a=n(s),c=window.videojs||o.default,u=function(t,e){e&&(e.options&&(a.default.props.globalOptions.default=function(){return e.options}),e.events&&(a.default.props.globalEvents.default=function(){return e.events})),t.component(a.default.name,a.default)},l={videojs:c,videoPlayer:a.default,install:u};e.default=l,e.videojs=c,e.videoPlayer=a.default,e.install=u},function(t,e){t.exports=function(t,e,r,n,i,o){var s,a=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(s=t,a=t.default);var u,l="function"==typeof a?a.options:a;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId=i),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):n&&(u=n),u){var h=l.functional,p=h?l.render:l.beforeCreate;h?(l._injectStyles=u,l.render=function(t,e){return u.call(e),p(t,e)}):l.beforeCreate=p?[].concat(p,u):[u]}return{esModule:s,exports:a,options:l}}},function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.reseted?r("div",{staticClass:"video-player"},[r("video",{ref:"video",staticClass:"video-js"})]):t._e()},i=[],o={render:n,staticRenderFns:i};e.a=o}])})},d925:function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},dbe7:function(t,e,r){},ddc6:function(t,e,r){"use strict";var n=r("f6d5"),i=r.n(n);i.a},e1b4:function(t,e,r){},e40e:function(t,e,r){"use strict";var n=r("9e71"),i=r.n(n);i.a},e683:function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e915:function(t,e,r){},e9ac:function(t,e,r){"use strict";var n,i,o,s,a=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator,u=Object.getPrototypeOf||function(t){return t.__proto__},l=i?u(i):n,h=o?o.constructor:n,p=s?u(s):n,d=s?s():n,f="undefined"===typeof Uint8Array?n:u(Uint8Array),m={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":c?u([][Symbol.iterator]()):n,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":n,"$ %AsyncFunction%":h,"$ %AsyncFunctionPrototype%":h?h.prototype:n,"$ %AsyncGenerator%":s?u(d):n,"$ %AsyncGeneratorFunction%":p,"$ %AsyncGeneratorPrototype%":p?p.prototype:n,"$ %AsyncIteratorPrototype%":d&&c&&Symbol.asyncIterator?d[Symbol.asyncIterator]():n,"$ %Atomics%":"undefined"===typeof Atomics?n:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"===typeof DataView?n:DataView,"$ %DataViewPrototype%":"undefined"===typeof DataView?n:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"$ %Float32ArrayPrototype%":"undefined"===typeof Float32Array?n:Float32Array.prototype,"$ %Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"$ %Float64ArrayPrototype%":"undefined"===typeof Float64Array?n:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":i?u(i()):n,"$ %GeneratorFunction%":l,"$ %GeneratorPrototype%":l?l.prototype:n,"$ %Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"$ %Int8ArrayPrototype%":"undefined"===typeof Int8Array?n:Int8Array.prototype,"$ %Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"$ %Int16ArrayPrototype%":"undefined"===typeof Int16Array?n:Int8Array.prototype,"$ %Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"$ %Int32ArrayPrototype%":"undefined"===typeof Int32Array?n:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":c?u(u([][Symbol.iterator]())):n,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"===typeof Map?n:Map,"$ %MapIteratorPrototype%":"undefined"!==typeof Map&&c?u((new Map)[Symbol.iterator]()):n,"$ %MapPrototype%":"undefined"===typeof Map?n:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"===typeof Promise?n:Promise,"$ %PromisePrototype%":"undefined"===typeof Promise?n:Promise.prototype,"$ %PromiseProto_then%":"undefined"===typeof Promise?n:Promise.prototype.then,"$ %Promise_all%":"undefined"===typeof Promise?n:Promise.all,"$ %Promise_reject%":"undefined"===typeof Promise?n:Promise.reject,"$ %Promise_resolve%":"undefined"===typeof Promise?n:Promise.resolve,"$ %Proxy%":"undefined"===typeof Proxy?n:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"===typeof Reflect?n:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"===typeof Set?n:Set,"$ %SetIteratorPrototype%":"undefined"!==typeof Set&&c?u((new Set)[Symbol.iterator]()):n,"$ %SetPrototype%":"undefined"===typeof Set?n:Set.prototype,"$ %SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":c?u(""[Symbol.iterator]()):n,"$ %StringPrototype%":String.prototype,"$ %Symbol%":c?Symbol:n,"$ %SymbolPrototype%":c?Symbol.prototype:n,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":a,"$ %TypedArray%":f,"$ %TypedArrayPrototype%":f?f.prototype:n,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?n:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?n:Uint16Array.prototype,"$ %Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?n:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"$ %WeakMapPrototype%":"undefined"===typeof WeakMap?n:WeakMap.prototype,"$ %WeakSet%":"undefined"===typeof WeakSet?n:WeakSet,"$ %WeakSetPrototype%":"undefined"===typeof WeakSet?n:WeakSet.prototype};t.exports=function(t,e){if(arguments.length>1&&"boolean"!==typeof e)throw new TypeError('"allowMissing" argument must be a boolean');var r="$ "+t;if(!(r in m))throw new SyntaxError("intrinsic "+t+" does not exist!");if("undefined"===typeof m[r]&&!e)throw new TypeError("intrinsic "+t+" exists, but is not available. Please file an issue!");return m[r]}},eb3b:function(t,e,r){},edcc:function(t,e,r){"use strict";var n=r("9d4e"),i=r.n(n);i.a},edd2:function(t,e,r){"use strict";var n=r("1128"),i=r.n(n);i.a},eec7:function(t,e,r){"use strict";var n=r("be09"),i=r("8362"),o=r("6444"),s=r("53a8");function a(t,e){for(var r=0;r<t.length;r++)e(t[r])}function c(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function u(t,e,r){var n=t;return i(e)?(r=e,"string"===typeof t&&(n={uri:t})):n=s(e,{uri:t}),n.callback=r,n}function l(t,e,r){return e=u(t,e,r),h(e)}function h(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var e=!1,r=function(r,n,i){e||(e=!0,t.callback(r,n,i))};function n(){4===d.readyState&&setTimeout(a,0)}function i(){var t=void 0;if(t=d.response?d.response:d.responseText||p(d),w)try{t=JSON.parse(t)}catch(e){}return t}function s(t){return clearTimeout(f),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,_)}function a(){if(!h){var e;clearTimeout(f),e=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var n=_,s=null;return 0!==e?(n={body:i(),statusCode:e,method:v,headers:{},url:m,rawRequest:d},d.getAllResponseHeaders&&(n.headers=o(d.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),r(s,n,n.body)}}var u,h,d=t.xhr||null;d||(d=t.cors||t.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var f,m=d.url=t.uri||t.url,v=d.method=t.method||"GET",y=t.body||t.data,g=d.headers=t.headers||{},b=!!t.sync,w=!1,_={body:void 0,headers:{},statusCode:0,method:v,url:m,rawRequest:d};if("json"in t&&!1!==t.json&&(w=!0,g["accept"]||g["Accept"]||(g["Accept"]="application/json"),"GET"!==v&&"HEAD"!==v&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),y=JSON.stringify(!0===t.json?y:t.json))),d.onreadystatechange=n,d.onload=a,d.onerror=s,d.onprogress=function(){},d.onabort=function(){h=!0},d.ontimeout=s,d.open(v,m,!b,t.username,t.password),b||(d.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(f=setTimeout(function(){if(!h){h=!0,d.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",s(t)}},t.timeout)),d.setRequestHeader)for(u in g)g.hasOwnProperty(u)&&d.setRequestHeader(u,g[u]);else if(t.headers&&!c(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(d),d.send(y||null),d}function p(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function d(){}t.exports=l,l.XMLHttpRequest=n.XMLHttpRequest||d,l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:n.XDomainRequest,a(["get","put","post","patch","head","delete"],function(t){l["delete"===t?"del":t]=function(e,r,n){return r=u(e,r,n),r.method=t.toUpperCase(),h(r)}})},ef34:function(t,e,r){(function(e){var n,i="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},o=r(1);"undefined"!==typeof document?n=document:(n=i["__GLOBAL_DOCUMENT_CACHE@4"],n||(n=i["__GLOBAL_DOCUMENT_CACHE@4"]=o)),t.exports=n}).call(this,r("c8ba"))},f163:function(t,e,r){"use strict";var n=r("5c93"),i=r.n(n);i.a},f2e8:function(t,e,r){var n=r("1934")("jsonp");t.exports=s;var i=0;function o(){}function s(t,e,r){"function"==typeof e&&(r=e,e={}),e||(e={});var s,a,c=e.prefix||"__jp",u=e.name||c+i++,l=e.param||"callback",h=null!=e.timeout?e.timeout:6e4,p=encodeURIComponent,d=document.getElementsByTagName("script")[0]||document.head;function f(){s.parentNode&&s.parentNode.removeChild(s),window[u]=o,a&&clearTimeout(a)}function m(){window[u]&&f()}return h&&(a=setTimeout(function(){f(),r&&r(new Error("Timeout"))},h)),window[u]=function(t){n("jsonp got",t),f(),r&&r(null,t)},t+=(~t.indexOf("?")?"&":"?")+l+"="+p(u),t=t.replace("?&","?"),n('jsonp req "%s"',t),s=document.createElement("script"),s.src=t,d.parentNode.insertBefore(s,d),m}},f367:function(t,e,r){"use strict";var n=r("d6c7"),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=function(t){return"function"===typeof t&&"[object Function]"===o.call(t)},u=function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(r){return!1}},l=a&&u(),h=function(t,e,r,n){(!(e in t)||c(n)&&n())&&(l?a(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},p=function(t,e){var r=arguments.length>2?arguments[2]:{},o=n(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)h(t,o[a],e[o[a]],r[o[a]])};p.supportsDescriptors=!!l,t.exports=p},f6b4:function(t,e,r){"use strict";var n=r("c532");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},f6d5:function(t,e,r){},f97d:function(t,e){var r={"":!0,up:!0};function n(t){if("string"!==typeof t)return!1;var e=r[t.toLowerCase()];return!!e&&t.toLowerCase()}function i(t){return"number"===typeof t&&t>=0&&t<=100}function o(){var t=100,e=3,r=0,o=100,s=0,a=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!i(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!==typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!i(t))throw new Error("RegionAnchorX must be between 0 and 100.");o=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!i(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!i(t))throw new Error("ViewportAnchorY must be between 0 and 100.");a=t}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(t){if(!i(t))throw new Error("ViewportAnchorX must be between 0 and 100.");s=t}},scroll:{enumerable:!0,get:function(){return c},set:function(t){var e=n(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");c=e}}})}t.exports=o},fa4c:function(t,e,r){"use strict";var n=r("c166"),i=r.n(n);i.a},fbfd:function(t,e,r){},fd76:function(t,e,r){},fda2:function(t,e,r){}}]);
//# sourceMappingURL=chunk-fcbd4a12.215712d3.js.map